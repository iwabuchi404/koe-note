/*! For license information please see renderer.js.LICENSE.txt */
(()=>{var e={16:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * TranscriptionViewer コンポーネントのスタイル\n * VSCode風の行番号付きテキスト表示\n */\n\n/* メインコンテナ */\n.transcription-viewer {\n  /* 行の基本高さ（PlainTextViewerと同じ設定） */\n  --min-line-height: 24px;\n  --line-height-value: 1.4;\n  --line-padding: 2px;\n  /* 計算済み高さ */\n  --calculated-line-height: calc(var(--min-line-height) + var(--line-padding) * 2);\n  \n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: var(--vscode-editor-font-family, 'Consolas', 'Courier New', monospace);\n  font-size: var(--vscode-editor-font-size, 14px);\n  line-height: var(--vscode-editor-line-height, 1.5);\n  background-color: var(--vscode-editor-background);\n  color: var(--vscode-editor-foreground);\n  border: 1px solid var(--vscode-panel-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n/* コンテンツエリア - 行番号とテキストを左右に配置 */\n.transcription-content {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n  /* スクロール同期のために高さを明示的に設定 */\n  height: 100%;\n}\n\n/* 行番号カラム */\n.transcription-viewer .transcription-line-numbers {\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.03));\n  border-right: 1px solid var(--vscode-panel-border);\n  padding: 8px 0;\n  min-width: 60px;\n  max-width: 60px;\n  flex-shrink: 0 !important;\n  user-select: none;\n  /* PlainTextViewerと同じスクロール設定 */\n  overflow-y: hidden !important;\n  overflow-x: hidden !important;\n  /* ポインターイベントを無効化してスクロールを防止 */\n  pointer-events: none;\n  position: relative;\n  max-height: 100%;\n  /* スクロールバーを非表示にする */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE/Edge */\n}\n\n/* 行番号エリアのスクロールバーを非表示にする */\n.transcription-viewer .transcription-line-numbers::-webkit-scrollbar {\n  display: none;\n}\n\n/* スクロール同期の特別設定 */\n.transcription-viewer .transcription-line-numbers {\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n  /* ホイールスクロールやタッチスクロールを無効化 */\n  -webkit-overflow-scrolling: auto;\n  /* マウスホイールを通す */\n  pointer-events: none;\n}\n\n.transcription-line-number {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  min-height: var(--min-line-height);\n  padding: 2px 12px;\n  font-size: 12px;\n  font-weight: 400;\n  color: var(--vscode-editorLineNumber-foreground);\n  cursor: pointer;\n  transition: all 0.15s ease;\n  box-sizing: border-box;\n  line-height: var(--line-height-value);\n  /* 動的高さ調整のための設定 */\n  margin: 0;\n  border: 0;\n  /* テキスト行と同じ高さになるよう調整 */\n  flex-shrink: 0;\n  /* 行番号はクリック可能にする */\n  pointer-events: auto;\n}\n\n.transcription-line-number:hover {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.1));\n  color: var(--vscode-editorLineNumber-activeForeground);\n}\n\n.transcription-line-number.active {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.08));\n  color: var(--vscode-editorLineNumber-activeForeground);\n}\n\n.transcription-line-number.selected {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.3));\n  color: var(--vscode-editor-selectionForeground, #ffffff);\n}\n\n/* テキストコンテンツエリア - 行番号と本文を左右に配置 */\n.transcription-viewer .text-content,\n.player-card .transcription-viewer .text-content,\n.text-display-viewer .transcription-viewer .text-content {\n  flex: 1 !important;\n  display: flex !important;\n  flex-direction: row !important;\n  overflow: hidden !important;\n  background: transparent !important;\n  border: none !important;\n  border-radius: 0 !important;\n  padding: 0 !important;\n}\n\n/* 本文エリア */\n.transcription-viewer .transcription-main-text-area {\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n}\n.transcription-viewer .transcription-main-text-area {\n  flex: 1 !important;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 8px 0;\n  /* スクロール同期のために最大高さを設定 */\n  max-height: 100%;\n  position: relative;\n}\n\n/* 文字起こし行 */\n.transcription-line {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  min-height: var(--min-line-height);\n  padding: 2px 12px;\n  cursor: pointer;\n  transition: background-color 0.15s ease;\n  border-left: 3px solid transparent;\n  position: relative;\n  box-sizing: border-box;\n  line-height: var(--line-height-value);\n  /* 動的高さ調整のための設定 */\n  margin: 0;\n  border: 0;\n  /* テキストの長さに応じて高さが変わる */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n\n.transcription-line:hover {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.05));\n}\n\n.transcription-line.active {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.08));\n  border-left-color: var(--vscode-focusBorder, #007acc);\n}\n\n.transcription-line.selected {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.2));\n  border-left-color: var(--vscode-editor-selectionBackground, #007acc);\n}\n\n/* タイムスタンプカラム */\n.timestamp-column {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n  min-width: 80px;\n  margin-right: 16px;\n  font-size: var(--vscode-editor-font-size, 14px);\n  font-weight: 400;\n  color: var(--vscode-descriptionForeground);\n  padding-top: 1px;\n  flex-shrink: 0;\n}\n\n.timestamp {\n  font-family: var(--vscode-editor-font-family, monospace);\n  font-size: var(--vscode-editor-font-size, 14px);\n  letter-spacing: 0.3px;\n}\n\n.time-separator {\n  color: var(--vscode-descriptionForeground);\n  opacity: 0.6;\n}\n\n/* テキストカラム */\n.text-column {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  gap: 6px;\n  line-height: var(--line-height-value);\n  /* PlainTextViewerと同じ高さ調整 */\n  min-height: calc(var(--min-line-height) - 4px); /* paddingを差し引いた値 */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n\n/* 話者ラベル */\n.speaker-label {\n  font-weight: 600;\n  color: var(--vscode-symbolIcon-classForeground, #d4a85a);\n  margin-right: 8px;\n  flex-shrink: 0;\n}\n\n/* セグメントテキスト */\n.segment-text {\n  flex: 1;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  font-family: inherit;\n  letter-spacing: 0.2px;\n  /* 動的高さ調整のための設定 */\n  line-height: var(--line-height-value);\n  /* テキストが長い場合は改行される */\n  word-break: break-word;\n  hyphens: auto;\n}\n\n/* 編集済みマーカー */\n.edited-marker {\n  font-size: 12px;\n  margin-left: 8px;\n  opacity: 0.7;\n  flex-shrink: 0;\n}\n\n/* 検索ハイライト */\n.search-highlight {\n  background-color: var(--vscode-editor-findMatchBackground, rgba(234, 92, 0, 0.33));\n  color: var(--vscode-editor-findMatchForeground);\n  border-radius: 2px;\n  padding: 1px 2px;\n}\n\n/* フッター */\n.transcription-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.03));\n  border-top: 1px solid var(--vscode-panel-border);\n  font-size: 12px;\n  color: var(--vscode-descriptionForeground);\n}\n\n.segment-count {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.selection-count {\n  color: var(--vscode-symbolIcon-numberForeground, #b5cea8);\n  font-weight: 500;\n}\n\n/* スクロールバースタイル */\n.transcription-content ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.transcription-content ::-webkit-scrollbar-track {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.1));\n}\n\n.transcription-content ::-webkit-scrollbar-thumb {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.4));\n  border-radius: 4px;\n}\n\n.transcription-content ::-webkit-scrollbar-thumb:hover {\n  background: var(--vscode-scrollbarSlider-hoverBackground, rgba(121, 121, 121, 0.6));\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .transcription-line-numbers {\n    min-width: 50px;\n  }\n  \n  .transcription-line-number {\n    padding: 0 8px;\n    font-size: 11px;\n  }\n  \n  .timestamp-column {\n    min-width: 100px;\n    margin-right: 12px;\n    font-size: 10px;\n  }\n  \n  .transcription-line {\n    padding: 2px 8px;\n  }\n  \n  .transcription-footer {\n    padding: 6px 8px;\n    font-size: 11px;\n  }\n}\n\n/* ダークテーマ特別対応 */\n.vscode-dark .transcription-line.selected {\n  background-color: rgba(0, 122, 204, 0.25);\n}\n\n.vscode-dark .transcription-line-number.selected {\n  background-color: rgba(0, 122, 204, 0.35);\n}\n\n/* ライトテーマ特別対応 */\n.vscode-light .transcription-line.selected {\n  background-color: rgba(0, 122, 204, 0.15);\n}\n\n.vscode-light .transcription-line-number.selected {\n  background-color: rgba(0, 122, 204, 0.25);\n}\n\n/* ハイコントラストテーマ対応 */\n.vscode-high-contrast .transcription-line {\n  border-left-width: 2px;\n}\n\n.vscode-high-contrast .transcription-line.selected {\n  border-left-width: 4px;\n  background-color: transparent;\n  outline: 2px solid var(--vscode-focusBorder);\n}\n\n/* スクロール同期の特別設定 */\n.transcription-viewer .transcription-line-numbers {\n  /* JavaScriptでスクロール位置を制御するため、スムーズスクロールを無効化 */\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n}\n\n/* 行番号エリアのスクロールバーを非表示にする */\n.transcription-viewer .transcription-line-numbers::-webkit-scrollbar {\n  display: none;\n}\n\n.transcription-viewer .transcription-main-text-area {\n  /* スムーズスクロールを無効化してスクロール同期を確実にする */\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n}\n\n/* セレクション状態のアニメーション */\n.transcription-line.selected,\n.transcription-line-number.selected {\n  animation: fadeInSelection 0.2s ease-out;\n}\n\n@keyframes fadeInSelection {\n  from {\n    background-color: transparent;\n  }\n  to {\n    background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.2));\n  }\n}\n\n/* アクセシビリティ対応 */\n@media (prefers-reduced-motion: reduce) {\n  .transcription-line,\n  .transcription-line-number,\n  .transcription-line.selected,\n  .transcription-line-number.selected {\n    transition: none;\n    animation: none;\n  }\n}\n\n/* フォーカス状態 */\n.transcription-viewer:focus-within .transcription-line:focus {\n  outline: 2px solid var(--vscode-focusBorder);\n  outline-offset: -2px;\n}\n\n/* プリント対応 */\n@media print {\n  .transcription-viewer {\n    border: none;\n    background: white;\n    color: black;\n    font-family: 'Times New Roman', serif;\n  }\n  \n  .transcription-line-numbers {\n    background: transparent;\n    border-right: 1px solid #ccc;\n  }\n  \n  .transcription-line {\n    break-inside: avoid;\n  }\n  \n  .transcription-footer {\n    display: none;\n  }\n}",""]);const s=i},20:(e,n,t)=>{"use strict";var r=t(540),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,a={},c=null,d=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,r)&&!l.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===a[r]&&(a[r]=n[r]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:s.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},56:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var p=t(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var h=o(f,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var d=t(a[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=l}}},113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},131:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/* VSCode Dark Theme Colors */\n:root {\n  /* カラーパレット */\n  --color-bg-primary: #1E1E1E;\n  --color-bg-secondary: #252526;\n  --color-bg-tertiary: #2D2D30;\n  --color-bg-active: #094771;\n  --color-bg-hover: #2A2D2E;\n  --color-border: #3C3C3C;\n  --color-text-primary: #CCCCCC;\n  --color-text-secondary: #969696;\n  --color-text-disabled: #6A6A6A;\n  --color-accent: #007ACC;\n  --color-success: #4FC1FF;\n  --color-error: #F44747;\n  --color-warning: #FFCC02;\n  \n  /* レイアウト */\n  --titlebar-height: 30px;\n  --left-panel-width: 300px;\n  --bottom-panel-height: 200px;\n  --border-width: 1px;\n  --border-radius: 3px;\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 12px;\n  --spacing-lg: 16px;\n  --spacing-xl: 24px;\n  \n  /* フォント */\n  --font-family-ui: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  --font-family-mono: 'Cascadia Code', 'Fira Code', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  --font-size-sm: 12px;\n  --font-size-md: 13px;\n  --font-size-lg: 14px;\n  --font-weight-normal: 400;\n  --font-weight-medium: 500;\n  --font-weight-bold: 600;\n}\n\n/* リセット＋基本スタイル */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml, body {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  font-family: var(--font-family-ui);\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-normal);\n  color: var(--color-text-primary);\n  background-color: var(--color-bg-primary);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* アプリケーションメインコンテナ */\n.app {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--color-bg-primary);\n}\n\n/* タイトルバー */\n.titlebar {\n  height: var(--titlebar-height);\n  background-color: var(--color-bg-secondary);\n  border-bottom: var(--border-width) solid var(--color-border);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 var(--spacing-sm);\n  -webkit-app-region: drag;\n  user-select: none;\n}\n\n.titlebar__title {\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n}\n\n.titlebar__controls {\n  display: flex;\n  align-items: center;\n  -webkit-app-region: no-drag;\n}\n\n.titlebar__button {\n  width: 46px;\n  height: var(--titlebar-height);\n  background: transparent;\n  border: none;\n  color: var(--color-text-primary);\n  font-size: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.15s ease;\n  user-select: none;\n  outline: none;\n}\n\n.titlebar__button:hover {\n  background-color: var(--color-bg-hover);\n}\n\n.titlebar__button--close:hover {\n  background-color: #E81123;\n  color: white;\n}\n\n.titlebar__button:active {\n  background-color: var(--color-bg-active);\n}\n\n/* メインレイアウト */\n.main-layout {\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n}\n\n/* 左パネル（ファイルエクスプローラー） */\n.left-panel {\n  /* width: var(--left-panel-width); */ /* 動的リサイズのためコメントアウト */\n  background-color: var(--color-bg-secondary);\n  border-right: var(--border-width) solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.left-panel__header {\n  padding: var(--spacing-md);\n  border-bottom: var(--border-width) solid var(--color-border);\n  background-color: var(--color-bg-tertiary);\n}\n\n.left-panel__title {\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.left-panel__content {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-sm);\n}\n\n/* 右パネル */\n.right-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.right-panel__audio-section {\n  flex: 0 0 auto;\n  border-bottom: var(--border-width) solid var(--color-border);\n}\n\n.right-panel__section-header {\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--color-bg-tertiary);\n  border-bottom: var(--border-width) solid var(--color-border);\n}\n\n.right-panel__section-title {\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  margin: 0;\n}\n\n.right-panel__audio-player {\n  margin: var(--spacing-md);\n}\n\n/* 上部パネル（テキストエリア） */\n.top-panel {\n  flex: 1;\n  min-height: 200px;\n  background-color: var(--color-bg-primary);\n  border-bottom: var(--border-width) solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.top-panel__header {\n  padding: var(--spacing-md);\n  background-color: var(--color-bg-secondary);\n  border-bottom: var(--border-width) solid var(--color-border);\n}\n\n.top-panel__title {\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n}\n\n.top-panel__content {\n  flex: 1;\n  padding: var(--spacing-lg);\n  overflow-y: auto;\n  font-family: var(--font-family-mono);\n  font-size: var(--font-size-md);\n  line-height: 1.5;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n/* 音声認識セクション */\n.right-panel__speech-section {\n  flex: 1;\n  background-color: var(--color-bg-primary);\n  border-top: var(--border-width) solid var(--color-border);\n  overflow-y: auto;\n  min-height: 300px;\n}\n\n/* 下部パネル（コントロール） */\n.bottom-panel {\n  min-height: var(--bottom-panel-height);\n  max-height: 60vh; /* 最大でもビューポートの60%まで */\n  background-color: var(--color-bg-secondary);\n  border-top: var(--border-width) solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.bottom-panel__header {\n  padding: var(--spacing-md);\n  background-color: var(--color-bg-tertiary);\n  border-bottom: var(--border-width) solid var(--color-border);\n}\n\n.bottom-panel__title {\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.bottom-panel__content {\n  flex: 1;\n  padding: var(--spacing-lg);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  overflow-y: auto; /* 内容がはみ出した場合はスクロール */\n}\n\n/* ボタン共通スタイル */\n.btn {\n  padding: var(--spacing-sm) var(--spacing-md);\n  border: var(--border-width) solid var(--color-border);\n  border-radius: 4px;\n  background-color: var(--color-bg-tertiary);\n  color: var(--color-text-primary);\n  font-family: var(--font-family-ui);\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  cursor: pointer;\n  transition: background-color 0.15s ease, border-color 0.15s ease;\n  outline: none;\n}\n\n.btn:hover {\n  background-color: var(--color-bg-hover);\n  border-color: var(--color-accent);\n}\n\n.btn:focus {\n  border-color: var(--color-accent);\n  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.3);\n}\n\n.btn:active {\n  background-color: var(--color-bg-active);\n}\n\n.btn--primary {\n  background-color: var(--color-accent);\n  border-color: var(--color-accent);\n  color: white;\n}\n\n.btn--primary:hover {\n  background-color: #005a9e;\n  border-color: #005a9e;\n}\n\n.btn--success {\n  background-color: var(--color-success);\n  border-color: var(--color-success);\n  color: var(--color-bg-primary);\n}\n\n.btn--error {\n  background-color: var(--color-error);\n  border-color: var(--color-error);\n  color: white;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* フォーム要素 */\n.input {\n  padding: var(--spacing-sm);\n  border: var(--border-width) solid var(--color-border);\n  border-radius: var(--border-radius);\n  background-color: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  font-family: var(--font-family-ui);\n  font-size: var(--font-size-md);\n  outline: none;\n  transition: border-color 0.15s ease;\n}\n\n.input:focus {\n  border-color: var(--color-accent);\n  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.3);\n}\n\n.select {\n  padding: var(--spacing-sm);\n  border: var(--border-width) solid var(--color-border);\n  border-radius: var(--border-radius);\n  background-color: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  font-family: var(--font-family-ui);\n  font-size: var(--font-size-md);\n  outline: none;\n  cursor: pointer;\n}\n\n/* スクロールバー */\n::-webkit-scrollbar {\n  width: 12px;\n  height: 12px;\n}\n\n::-webkit-scrollbar-track {\n  background: var(--color-bg-secondary);\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 6px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n/* ================================\n   AudioPlayer コンポーネント\n   ================================ */\n\n.audio-player {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background: var(--color-bg-secondary);\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius);\n}\n\n.audio-player__header {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.audio-player__file-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.audio-player__file-name {\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.audio-player__file-path {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.audio-player__no-file {\n  font-size: var(--font-size-md);\n  color: var(--color-text-disabled);\n  font-style: italic;\n}\n\n.audio-player__error {\n  padding: var(--spacing-xs);\n  background: rgba(244, 71, 71, 0.1);\n  border: 1px solid var(--color-error);\n  border-radius: var(--border-radius);\n  color: var(--color-error);\n  font-size: var(--font-size-sm);\n}\n\n/* SeekBar コンポーネント */\n.seek-bar {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.seek-bar__time-display {\n  display: flex;\n  justify-content: space-between;\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  font-family: var(--font-family-mono);\n}\n\n.seek-bar__track {\n  position: relative;\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-bg-primary);\n  border: 1px solid var(--color-border);\n  overflow: hidden;\n}\n\n.seek-bar__track--loading {\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.seek-bar__background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--color-bg-primary);\n}\n\n.seek-bar__progress {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: var(--color-accent);\n  transition: width 0.1s ease;\n}\n\n.seek-bar__progress--dragging {\n  transition: none;\n}\n\n.seek-bar__handle {\n  position: absolute;\n  top: 50%;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: var(--color-accent);\n  border: 2px solid var(--color-bg-primary);\n  transform: translate(-50%, -50%);\n  transition: left 0.1s ease;\n  cursor: pointer;\n}\n\n.seek-bar__handle--dragging {\n  transition: none;\n  transform: translate(-50%, -50%) scale(1.2);\n}\n\n.seek-bar__loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n}\n\n/* PlaybackControls コンポーネント */\n.playback-controls {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-lg);\n  flex-wrap: wrap;\n}\n\n.playback-controls__main {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n.playback-controls__play-pause {\n  min-width: 100px;\n  justify-content: center;\n}\n\n.playback-controls__button-text {\n  margin-left: var(--spacing-xs);\n}\n\n.playback-controls__stop {\n  padding: var(--spacing-xs);\n  min-width: 36px;\n}\n\n.playback-controls__volume {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.playback-controls__volume-label {\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.playback-controls__volume-slider {\n  width: 80px;\n  height: 4px;\n  border-radius: 2px;\n  background: var(--color-bg-primary);\n  outline: none;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.playback-controls__volume-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: var(--color-accent);\n  cursor: pointer;\n}\n\n.playback-controls__volume-slider::-moz-range-thumb {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: var(--color-accent);\n  cursor: pointer;\n  border: none;\n}\n\n.playback-controls__volume-value {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  font-family: var(--font-family-mono);\n  min-width: 35px;\n}\n\n.playback-controls__rate {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.playback-controls__rate-label {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n}\n\n.playback-controls__rate-select {\n  min-width: 60px;\n}\n\n.playback-controls__no-file {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-disabled);\n  font-style: italic;\n}\n\n/* ファイルツリー */\n.file-tree {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.file-tree__item {\n  display: flex;\n  align-items: center;\n  padding: var(--spacing-xs) var(--spacing-sm);\n  cursor: pointer;\n  border-radius: var(--border-radius);\n  font-size: var(--font-size-sm);\n  color: var(--color-text-primary);\n  transition: background-color 0.15s ease;\n}\n\n.file-tree__item:hover {\n  background-color: var(--color-bg-hover);\n}\n\n.file-tree__item--active {\n  background-color: var(--color-bg-active);\n  color: white;\n}\n\n.file-tree__icon {\n  margin-right: var(--spacing-sm);\n  font-size: var(--font-size-sm);\n}\n\n/* ユーティリティクラス */\n.text-primary { color: var(--color-text-primary); }\n.text-secondary { color: var(--color-text-secondary); }\n.text-disabled { color: var(--color-text-disabled); }\n.text-accent { color: var(--color-accent); }\n.text-success { color: var(--color-success); }\n.text-error { color: var(--color-error); }\n\n.bg-primary { background-color: var(--color-bg-primary); }\n.bg-secondary { background-color: var(--color-bg-secondary); }\n.bg-tertiary { background-color: var(--color-bg-tertiary); }\n\n.flex { display: flex; }\n.flex-col { flex-direction: column; }\n.flex-1 { flex: 1; }\n.items-center { align-items: center; }\n.justify-center { justify-content: center; }\n.justify-between { justify-content: space-between; }\n\n.w-full { width: 100%; }\n.h-full { height: 100%; }\n\n.p-sm { padding: var(--spacing-sm); }\n.p-md { padding: var(--spacing-md); }\n.p-lg { padding: var(--spacing-lg); }\n\n.m-sm { margin: var(--spacing-sm); }\n.m-md { margin: var(--spacing-md); }\n.m-lg { margin: var(--spacing-lg); }\n\n.gap-sm { gap: var(--spacing-sm); }\n.gap-md { gap: var(--spacing-md); }\n.gap-lg { gap: var(--spacing-lg); }\n\n/* レイアウト修正用クラス */\n.layout-3pane {\n  display: flex;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.layout-3pane .left-pane {\n  width: var(--left-panel-width);\n  min-width: var(--left-panel-width);\n  max-width: var(--left-panel-width);\n}\n\n.layout-3pane .center-pane {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.layout-3pane .top-section {\n  flex: 1;\n  min-height: 200px;\n  overflow: hidden;\n}\n\n.layout-3pane .bottom-section {\n  min-height: var(--bottom-panel-height);\n  max-height: 60vh;\n  overflow: hidden;\n}\n\n/* =========================== */\n/* アコーディオン UI スタイル */\n/* =========================== */\n\n.accordion-section {\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-bg-secondary);\n}\n\n.accordion-section:first-child {\n  border-top: 1px solid var(--color-border);\n}\n\n.accordion-section--main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 200px;\n}\n\n.accordion-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-md);\n  cursor: pointer;\n  user-select: none;\n  background: var(--color-bg-tertiary);\n  border-bottom: 1px solid var(--color-border);\n  transition: background-color 0.2s ease;\n}\n\n.accordion-header:hover {\n  background: var(--color-bg-hover);\n}\n\n/* 削除: always-open スタイルは不要 */\n\n.accordion-title {\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.accordion-icon {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  transition: transform 0.2s ease;\n}\n\n.accordion-content {\n  overflow: hidden;\n}\n\n.accordion-content--expanded {\n  overflow-y: auto;\n}\n\n.accordion-section--main .accordion-content--expanded {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n/* 固定サイズセクション用 */\n.accordion-section:not(.accordion-section--main) .accordion-content--expanded {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.accordion-audio-player {\n  padding: var(--spacing-md);\n  background: var(--color-bg-primary);\n}\n\n/* 右パネルのレイアウト調整 */\n.right-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n}\n\n/* SpeechRecognition コンポーネント内のスタイル調整 */\n.accordion-section--main .accordion-content--expanded > div {\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 文字起こし結果表示エリアのスクロール対応 */\n.accordion-section--main .accordion-content--expanded [style*=\"maxHeight\"] {\n  flex: 1;\n  overflow-y: auto;\n  max-height: none !important;\n}\n\n/* ミキシング設定パネル */\n.mixing-panel {\n  background-color: var(--color-bg-tertiary);\n  border: var(--border-width) solid var(--color-border);\n  border-radius: var(--border-radius);\n  padding: var(--spacing-md);\n}\n\n.mixing-panel__title {\n  color: var(--color-accent);\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  margin-bottom: var(--spacing-sm);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.mixing-panel__row {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  margin-bottom: var(--spacing-sm);\n  flex-wrap: wrap;\n}\n\n.mixing-panel__checkbox-group {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  min-width: 180px;\n}\n\n.mixing-panel__device-select {\n  min-width: 200px;\n  flex: 1;\n}\n\n.mixing-panel__gain-controls {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  flex-wrap: wrap;\n  margin-top: var(--spacing-xs);\n}\n\n.mixing-panel__gain-group {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.mixing-panel__gain-label {\n  min-width: 80px;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n}\n\n.mixing-panel__gain-slider {\n  width: 100px;\n}\n\n.mixing-panel__gain-value {\n  min-width: 30px;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n  text-align: right;\n}\n\n.mixing-panel__levels {\n  margin-top: var(--spacing-sm);\n}\n\n.mixing-panel__levels-title {\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n  margin-bottom: var(--spacing-xs);\n}\n\n.mixing-panel__level-row {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  margin-bottom: var(--spacing-xs);\n}\n\n.mixing-panel__level-group {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.mixing-panel__level-label {\n  min-width: 80px;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n}\n\n.mixing-panel__level-bar {\n  width: 100px;\n  height: 8px;\n  background-color: var(--color-bg-primary);\n  border-radius: 4px;\n  overflow: hidden;\n  border: var(--border-width) solid var(--color-border);\n}\n\n.mixing-panel__level-fill {\n  height: 100%;\n  transition: width 0.1s ease;\n  border-radius: 3px;\n}\n\n.mixing-panel__level-fill--low {\n  background-color: var(--color-success);\n}\n\n.mixing-panel__level-fill--medium {\n  background-color: var(--color-warning);\n}\n\n.mixing-panel__level-fill--high {\n  background-color: var(--color-error);\n}\n\n.mixing-panel__level-value {\n  min-width: 30px;\n  color: var(--color-text-secondary);\n  font-size: var(--font-size-sm);\n  text-align: right;\n}",""]);const s=i},157:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * モデルマネージャーのスタイル\n */\n\n.model-manager {\n  max-width: 1000px;\n  margin: 0 auto;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.model-manager-header {\n  background: #f8f9fa;\n  padding: 20px;\n  border-bottom: 1px solid #dee2e6;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.model-manager-header h2 {\n  margin: 0;\n  color: #333;\n  font-size: 1.5rem;\n}\n\n.tab-buttons {\n  display: flex;\n  gap: 4px;\n  background: #e9ecef;\n  border-radius: 6px;\n  padding: 4px;\n}\n\n.tab-button {\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  border-radius: 4px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.tab-button:hover {\n  background: #fff;\n  color: #333;\n}\n\n.tab-button.active {\n  background: #007bff;\n  color: white;\n}\n\n.tab-button.active:hover {\n  background: #0056b3;\n}\n\n.error-banner {\n  background-color: #f8d7da;\n  border: 1px solid #f5c6cb;\n  color: #721c24;\n  padding: 12px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.9rem;\n}\n\n.error-banner button {\n  background: none;\n  border: none;\n  color: #721c24;\n  font-size: 1.2rem;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.model-manager-content {\n  min-height: 400px;\n}\n\n/* レスポンシブデザイン */\n@media (max-width: 768px) {\n  .model-manager-header {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .tab-buttons {\n    justify-content: center;\n  }\n  \n  .tab-button {\n    flex: 1;\n    text-align: center;\n  }\n}\n",""]);const s=i},159:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},163:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * モデルダウンローダーのスタイル\n */\n\n.model-downloader {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.model-downloader h3 {\n  margin-bottom: 20px;\n  color: #333;\n  font-size: 1.5rem;\n}\n\n.loading {\n  text-align: center;\n  padding: 40px;\n  color: #666;\n  font-size: 1.1rem;\n}\n\n.error-message {\n  background-color: #fee;\n  border: 1px solid #fcc;\n  color: #c33;\n  padding: 12px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.error-message button {\n  background: none;\n  border: none;\n  color: #c33;\n  font-size: 1.2rem;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.models-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.model-item {\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 20px;\n  background: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 20px;\n}\n\n.model-info {\n  flex: 1;\n}\n\n.model-info h4 {\n  margin: 0 0 8px 0;\n  color: #333;\n  font-size: 1.2rem;\n}\n\n.model-description {\n  margin: 0 0 12px 0;\n  color: #666;\n  font-size: 0.95rem;\n  line-height: 1.4;\n}\n\n.model-details {\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n  font-size: 0.85rem;\n  color: #888;\n}\n\n.model-details span {\n  background: #f5f5f5;\n  padding: 4px 8px;\n  border-radius: 4px;\n}\n\n.model-actions {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 12px;\n  min-width: 200px;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  min-width: 100px;\n}\n\n.btn-primary {\n  background-color: #007bff;\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: #0056b3;\n}\n\n.btn-secondary {\n  background-color: #6c757d;\n  color: white;\n}\n\n.btn-secondary:hover {\n  background-color: #545b62;\n}\n\n.btn-danger {\n  background-color: #dc3545;\n  color: white;\n}\n\n.btn-danger:hover {\n  background-color: #c82333;\n}\n\n.installed-status {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n}\n\n.status-badge {\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n\n.status-badge.installed {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n.downloading-status {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n  width: 100%;\n}\n\n.progress-info {\n  width: 100%;\n}\n\n.progress-bar {\n  width: 100%;\n  height: 8px;\n  background-color: #e9ecef;\n  border-radius: 4px;\n  overflow: hidden;\n  margin-bottom: 8px;\n}\n\n.progress-fill {\n  height: 100%;\n  background-color: #007bff;\n  transition: width 0.3s ease;\n}\n\n.progress-details {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.8rem;\n  color: #666;\n}\n\n.progress-details span {\n  background: none;\n  padding: 0;\n}\n\n/* レスポンシブデザイン */\n@media (max-width: 768px) {\n  .model-item {\n    flex-direction: column;\n    gap: 16px;\n  }\n\n  .model-actions {\n    align-items: stretch;\n    min-width: auto;\n  }\n\n  .model-details {\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .progress-details {\n    flex-direction: column;\n    gap: 4px;\n  }\n}\n",""]);const s=i},251:(e,n)=>{n.read=function(e,n,t,r,o){var a,i,s=8*o-r-1,l=(1<<s)-1,c=l>>1,d=-7,u=t?o-1:0,p=t?-1:1,f=e[n+u];for(u+=p,a=f&(1<<-d)-1,f>>=-d,d+=s;d>0;a=256*a+e[n+u],u+=p,d-=8);for(i=a&(1<<-d)-1,a>>=-d,d+=r;d>0;i=256*i+e[n+u],u+=p,d-=8);if(0===a)a=1-c;else{if(a===l)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,r),a-=c}return(f?-1:1)*i*Math.pow(2,a-r)},n.write=function(e,n,t,r,o,a){var i,s,l,c=8*a-o-1,d=(1<<c)-1,u=d>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,i=d):(i=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-i))<1&&(i--,l*=2),(n+=i+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(n*l-1)*Math.pow(2,o),i+=u):(s=n*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[t+f]=255&s,f+=h,s/=256,o-=8);for(i=i<<o|s,c+=o;c>0;e[t+f]=255&i,f+=h,i/=256,c-=8);e[t+f-h]|=128*g}},283:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * TextEditor コンポーネントのスタイル\n * VSCode風のテキストエディター\n */\n\n/* メインコンテナ */\n.text-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: var(--vscode-editor-font-family, 'Consolas', 'Courier New', monospace);\n  font-size: var(--vscode-editor-font-size, 14px);\n  line-height: var(--vscode-editor-line-height, 1.5);\n  background-color: var(--vscode-editor-background);\n  color: var(--vscode-editor-foreground);\n  border: 1px solid var(--vscode-panel-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n/* エディターコンテンツエリア */\n.editor-content {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n/* 行番号カラム */\n.line-numbers {\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.03));\n  border-right: 1px solid var(--vscode-panel-border);\n  padding: 8px 0;\n  min-width: 60px;\n  user-select: none;\n  overflow: hidden;\n  position: relative;\n}\n\n.line-number {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: calc(var(--vscode-editor-line-height, 1.5) * 1em);\n  padding: 0 12px;\n  font-size: 12px;\n  font-weight: 400;\n  color: var(--vscode-editorLineNumber-foreground);\n  transition: color 0.15s ease;\n}\n\n.line-number.current {\n  color: var(--vscode-editorLineNumber-activeForeground);\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.05));\n}\n\n/* メインエディターエリア */\n.main-editor-area {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n\n/* テキストエリア */\n.editor-textarea {\n  width: 100%;\n  height: 100%;\n  padding: 8px 12px;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  resize: none;\n  white-space: pre;\n  overflow-wrap: normal;\n  overflow-x: auto;\n  overflow-y: auto;\n  caret-color: var(--vscode-editorCursor-foreground, #ffffff);\n}\n\n.main-editor-area.word-wrap .editor-textarea {\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  overflow-x: hidden;\n}\n\n.main-editor-area.no-wrap .editor-textarea {\n  white-space: pre;\n  overflow-wrap: normal;\n}\n\n/* プレースホルダー */\n.editor-textarea::placeholder {\n  color: var(--vscode-input-placeholderForeground);\n  opacity: 1;\n}\n\n/* テキスト選択 */\n.editor-textarea::selection {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.3));\n  color: var(--vscode-editor-selectionForeground);\n}\n\n/* フォーカス状態 */\n.editor-textarea:focus {\n  background-color: var(--vscode-editor-background);\n}\n\n/* 検索ハイライトオーバーレイ */\n.highlight-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1;\n}\n\n/* エディターフッター */\n.editor-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 12px;\n  background-color: var(--vscode-statusBar-background, #007acc);\n  color: var(--vscode-statusBar-foreground, #ffffff);\n  font-size: 12px;\n  font-weight: 400;\n  border-top: 1px solid var(--vscode-statusBar-border, transparent);\n}\n\n.cursor-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: inherit;\n}\n\n.editor-stats {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: inherit;\n}\n\n.selection-info {\n  color: var(--vscode-statusBar-foreground, #ffffff);\n  opacity: 0.9;\n}\n\n.editor-settings {\n  display: flex;\n  align-items: center;\n  color: inherit;\n  opacity: 0.8;\n  font-size: 11px;\n}\n\n/* スクロールバースタイル */\n.editor-textarea::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.editor-textarea::-webkit-scrollbar-track {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.1));\n}\n\n.editor-textarea::-webkit-scrollbar-thumb {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.4));\n  border-radius: 4px;\n}\n\n.editor-textarea::-webkit-scrollbar-thumb:hover {\n  background: var(--vscode-scrollbarSlider-hoverBackground, rgba(121, 121, 121, 0.6));\n}\n\n.editor-textarea::-webkit-scrollbar-corner {\n  background: var(--vscode-editor-background);\n}\n\n/* 読み取り専用モード */\n.text-editor.readonly {\n  opacity: 0.8;\n}\n\n.text-editor.readonly .editor-textarea {\n  cursor: default;\n  user-select: text;\n}\n\n.text-editor.readonly .editor-footer {\n  background-color: var(--vscode-statusBar-background, rgba(0, 122, 204, 0.7));\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .line-numbers {\n    min-width: 50px;\n  }\n  \n  .line-number {\n    padding: 0 8px;\n    font-size: 11px;\n  }\n  \n  .editor-textarea {\n    padding: 8px;\n  }\n  \n  .editor-footer {\n    padding: 4px 8px;\n    font-size: 11px;\n    flex-wrap: wrap;\n    gap: 4px;\n  }\n  \n  .editor-settings {\n    display: none;\n  }\n}\n\n/* ダークテーマ対応 */\n.vscode-dark .editor-textarea {\n  color: var(--vscode-editor-foreground, #cccccc);\n}\n\n.vscode-dark .line-number.current {\n  background-color: rgba(255, 255, 255, 0.08);\n}\n\n/* ライトテーマ対応 */\n.vscode-light .editor-textarea {\n  color: var(--vscode-editor-foreground, #333333);\n}\n\n.vscode-light .line-number.current {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.vscode-light .editor-footer {\n  background-color: var(--vscode-statusBar-background, #007acc);\n  border-top-color: var(--vscode-statusBar-border, #cccccc);\n}\n\n/* ハイコントラストテーマ対応 */\n.vscode-high-contrast .editor-textarea {\n  border: 1px solid var(--vscode-focusBorder);\n}\n\n.vscode-high-contrast .line-number.current {\n  background-color: transparent;\n  outline: 1px solid var(--vscode-focusBorder);\n}\n\n/* タブサイズのカスタマイズ */\n.editor-textarea[style*=\"tab-size: 2\"] {\n  tab-size: 2;\n  -moz-tab-size: 2;\n}\n\n.editor-textarea[style*=\"tab-size: 4\"] {\n  tab-size: 4;\n  -moz-tab-size: 4;\n}\n\n.editor-textarea[style*=\"tab-size: 8\"] {\n  tab-size: 8;\n  -moz-tab-size: 8;\n}\n\n/* アクセシビリティ対応 */\n@media (prefers-reduced-motion: reduce) {\n  .line-number {\n    transition: none;\n  }\n}\n\n/* プリント対応 */\n@media print {\n  .text-editor {\n    border: none;\n    background: white;\n    color: black;\n    font-family: 'Times New Roman', serif;\n  }\n  \n  .line-numbers {\n    background: transparent;\n    border-right: 1px solid #ccc;\n  }\n  \n  .editor-textarea {\n    background: transparent;\n    color: black;\n  }\n  \n  .editor-footer {\n    display: none;\n  }\n  \n  .highlight-overlay {\n    display: none;\n  }\n}\n\n/* エラー状態 */\n.text-editor.error {\n  border-color: var(--vscode-inputValidation-errorBorder, #f14c4c);\n}\n\n.text-editor.error .editor-footer {\n  background-color: var(--vscode-inputValidation-errorBackground, #5a1d1d);\n  color: var(--vscode-inputValidation-errorForeground, #ffffff);\n}\n\n/* 警告状態 */\n.text-editor.warning {\n  border-color: var(--vscode-inputValidation-warningBorder, #bf8803);\n}\n\n.text-editor.warning .editor-footer {\n  background-color: var(--vscode-inputValidation-warningBackground, #352a05);\n  color: var(--vscode-inputValidation-warningForeground, #ffffff);\n}\n\n/* 成功状態 */\n.text-editor.success {\n  border-color: var(--vscode-inputValidation-infoBorder, #007acc);\n}\n\n.text-editor.success .editor-footer {\n  background-color: var(--vscode-inputValidation-infoBackground, #063f73);\n  color: var(--vscode-inputValidation-infoForeground, #ffffff);\n}",""]);const s=i},287:(e,n)=>{"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}function b(){}function x(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,g(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,n,r){var o,a={},i=null,s=null;if(null!=n)for(o in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=""+n.key),n)k.call(n,o)&&!E.hasOwnProperty(o)&&(a[o]=n[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:t,type:e,key:i,ref:s,props:a,_owner:S.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var T=/\/+/g;function _(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function j(e,n,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+_(l,0):a,w(i)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),j(i,n,o,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+e)),n.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+_(s=e[c],c);l+=j(s,n,o,d,i)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,n,o,d=a+_(s,c++),i);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,n,t){if(null==e)return e;var r=[],o=0;return j(e,r,"","",function(e){return n.call(t,e,o++)}),r}function I(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},z={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function P(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:A,forEach:function(e,n,t){A(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return A(e,function(){n++}),n},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=v,n.Fragment=o,n.Profiler=i,n.PureComponent=x,n.StrictMode=a,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,n.act=P,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=S.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)k.call(n,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:t,type:e.type,key:a,ref:i,props:o,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=N,n.createFactory=function(e){var n=N.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=L.transition;L.transition={};try{e()}finally{L.transition=n}},n.unstable_act=P,n.useCallback=function(e,n){return R.current.useCallback(e,n)},n.useContext=function(e){return R.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return R.current.useDeferredValue(e)},n.useEffect=function(e,n){return R.current.useEffect(e,n)},n.useId=function(){return R.current.useId()},n.useImperativeHandle=function(e,n,t){return R.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return R.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return R.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return R.current.useMemo(e,n)},n.useReducer=function(e,n,t){return R.current.useReducer(e,n,t)},n.useRef=function(e){return R.current.useRef(e)},n.useState=function(e){return R.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return R.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return R.current.useTransition()},n.version="18.3.1"},299:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * プレイヤーカード - 統合オブジェクトUI\n */\n\n.player-card {\n  background: var(--color-bg-secondary);\n  border-radius: 12px;\n  border: 2px solid var(--color-border);\n  padding: 20px;\n  margin: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 120px);\n  overflow: hidden;\n}\n\n.player-card:hover {\n  border-color: var(--color-accent);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n}\n\n/* ファイル情報ヘッダー */\n.file-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid var(--color-border);\n}\n\n.file-info {\n  flex: 1;\n}\n\n.file-name {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--color-text-primary);\n  margin-bottom: 4px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.file-type {\n  font-size: 14px;\n  color: var(--color-text-secondary);\n}\n\n\n/* メッセージ表示 */\n.message {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  margin-bottom: 16px;\n}\n\n.message.error {\n  background: var(--color-danger-bg);\n  color: var(--color-danger);\n  border: 1px solid var(--color-danger);\n}\n\n.message-icon {\n  font-size: 16px;\n}\n\n/* 音声プレイヤー */\n.audio-player {\n  margin-bottom: 12px;\n  /* コンパクトにして文字起こし結果にスペースを譲る */\n  flex-shrink: 0;\n}\n\n.playback-controls {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px;\n  background: var(--color-bg-tertiary);\n  border-radius: 8px;\n  margin-bottom: 16px;\n}\n\n.play-button {\n  width: 60px;\n  height: 60px;\n  border: none;\n  border-radius: 50%;\n  background: var(--color-primary);\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.play-button:hover {\n  background: var(--color-primary-hover);\n  transform: scale(1.05);\n}\n\n.time-display {\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  color: var(--color-text-primary);\n  min-width: 100px;\n}\n\n.seek-bar {\n  flex: 1;\n  height: 8px;\n  border-radius: 4px;\n  background: var(--color-bg-primary);\n  outline: none;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.seek-bar::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  margin-top: -6px; /* (thumb height - track height) / 2 = (20px - 8px) / 2 = -6px */\n}\n\n.seek-bar::-webkit-slider-track {\n  -webkit-appearance: none;\n  appearance: none;\n  height: 8px;\n  border-radius: 4px;\n  background: var(--color-bg-primary);\n  border: none;\n}\n\n/* Firefox用のスタイル */\n.seek-bar::-moz-range-track {\n  height: 8px;\n  border-radius: 4px;\n  background: var(--color-bg-primary);\n  border: none;\n}\n\n.seek-bar::-moz-range-thumb {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n\n.volume-control {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.volume-control input[type=\"range\"] {\n  width: 100px;\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-bg-primary);\n  outline: none;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.volume-control input[type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: var(--color-accent);\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  margin-top: -5px; /* (thumb height - track height) / 2 = (16px - 6px) / 2 = -5px */\n}\n\n.volume-control input[type=\"range\"]::-webkit-slider-track {\n  -webkit-appearance: none;\n  appearance: none;\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-bg-primary);\n  border: none;\n}\n\n/* Firefox用のスタイル */\n.volume-control input[type=\"range\"]::-moz-range-track {\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-bg-primary);\n  border: none;\n}\n\n.volume-control input[type=\"range\"]::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: var(--color-accent);\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.volume-value {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n  min-width: 35px;\n}\n\n/* 文字起こしセクション */\n.transcription-section {\n  background: var(--color-bg-tertiary);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  /* 文字起こし結果を表示するために柔軟なサイズ */\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-height: 0;\n}\n\n.transcription-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.transcription-header h3 {\n  margin: 0;\n  color: var(--color-text-primary);\n  font-size: 16px;\n}\n\n.transcribe-button {\n  padding: 8px 16px;\n  border: 1px solid var(--color-primary);\n  border-radius: 6px;\n  background: var(--color-primary);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n}\n\n.transcribe-button:hover {\n  background: var(--color-primary-hover);\n}\n\n.transcription-progress {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.progress-bar {\n  flex: 1;\n  height: 8px;\n  background: var(--color-bg-primary);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: var(--color-accent);\n  transition: width 0.3s ease;\n}\n\n.transcription-result {\n  background: var(--color-bg-primary);\n  border-radius: 6px;\n  padding: 12px;\n  /* 文字起こし結果をより大きく表示する */\n  flex: 1;\n  min-height: 400px;\n  max-height: 600px;\n  overflow-y: auto;\n}\n\n.transcription-result pre {\n  margin: 0;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 14px;\n  line-height: 1.5;\n  color: var(--color-text-primary);\n  white-space: pre-wrap;\n}\n\n/* テキストエディターセクション */\n.text-editor-section {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.edit-toggle {\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: var(--color-bg-tertiary);\n  color: var(--color-text-primary);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n}\n\n.edit-toggle:hover {\n  background: var(--color-bg-hover);\n  border-color: var(--color-accent);\n}\n\n.edit-toggle.active {\n  background: var(--color-accent);\n  color: white;\n  border-color: var(--color-accent);\n}\n\n.save-button {\n  padding: 8px 12px;\n  border: 1px solid var(--color-success);\n  border-radius: 6px;\n  background: var(--color-success);\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 14px;\n}\n\n.save-button:hover {\n  background: var(--color-success-hover);\n  border-color: var(--color-success-hover);\n}\n\n.text-content {\n  flex: 1;\n  background: var(--color-bg-primary);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.text-editor {\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  padding: 16px;\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 14px;\n  line-height: 1.6;\n  resize: none;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n}\n\n.text-editor::placeholder {\n  color: var(--color-text-tertiary);\n  font-style: italic;\n}\n\n.text-viewer {\n  flex: 1;\n  padding: 16px;\n  margin: 0;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 14px;\n  line-height: 1.6;\n  color: var(--color-text-primary);\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  overflow-y: auto;\n}\n\n.save-indicator {\n  padding: 8px 12px;\n  background: var(--color-warning-bg);\n  color: var(--color-warning);\n  border-top: 1px solid var(--color-border);\n  font-size: 12px;\n  text-align: center;\n}\n\n/* スクロールバーカスタマイズ */\n.transcription-result,\n.text-viewer {\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n}\n\n.transcription-result::-webkit-scrollbar,\n.text-viewer::-webkit-scrollbar {\n  width: 8px;\n}\n\n.transcription-result::-webkit-scrollbar-track,\n.text-viewer::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.transcription-result::-webkit-scrollbar-thumb,\n.text-viewer::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 4px;\n}\n\n.transcription-result::-webkit-scrollbar-thumb:hover,\n.text-viewer::-webkit-scrollbar-thumb:hover {\n  background: var(--color-border-hover);\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .player-card {\n    margin: 12px;\n    padding: 16px;\n    height: calc(100vh - 100px);\n  }\n  \n  .file-header {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n  }\n  \n  .playback-controls {\n    flex-wrap: wrap;\n    gap: 12px;\n  }\n  \n  .play-button {\n    width: 50px;\n    height: 50px;\n    font-size: 20px;\n  }\n  \n  \n  .transcription-header {\n    flex-direction: column;\n    gap: 8px;\n    align-items: stretch;\n  }\n  \n  .transcription-result {\n    /* モバイルでも十分な高さを確保 */\n    min-height: 300px;\n    max-height: 500px;\n  }\n}",""]);const s=i},314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},338:(e,n,t)=>{"use strict";var r=t(961);n.H=r.createRoot,r.hydrateRoot},368:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * モデルステータス表示のスタイル\n */\n\n.model-status {\n  padding: 20px;\n}\n\n.model-status h3 {\n  margin-bottom: 20px;\n  color: #333;\n  font-size: 1.3rem;\n}\n\n.loading {\n  text-align: center;\n  padding: 40px;\n  color: #666;\n  font-size: 1.1rem;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #666;\n}\n\n.empty-state h3 {\n  margin-bottom: 12px;\n  color: #999;\n  font-size: 1.2rem;\n}\n\n.empty-state p {\n  margin: 0;\n  font-size: 1rem;\n  line-height: 1.5;\n}\n\n.models-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 20px;\n}\n\n.model-card {\n  border: 2px solid #e9ecef;\n  border-radius: 8px;\n  padding: 20px;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.model-card:hover {\n  border-color: #007bff;\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.15);\n}\n\n.model-card.active {\n  border-color: #28a745;\n  background: #f8fff9;\n}\n\n.model-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.model-card-header h4 {\n  margin: 0;\n  color: #333;\n  font-size: 1.1rem;\n}\n\n.current-badge {\n  background: #28a745;\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.model-card-body {\n  margin-bottom: 16px;\n}\n\n.model-description {\n  margin: 0 0 16px 0;\n  color: #666;\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.model-meta {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.meta-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.85rem;\n}\n\n.meta-label {\n  color: #666;\n  font-weight: 500;\n}\n\n.meta-value {\n  color: #333;\n  font-weight: 400;\n}\n\n.model-card-actions {\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n}\n\n.btn {\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  min-width: 70px;\n}\n\n.btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.btn-primary {\n  background-color: #007bff;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background-color: #0056b3;\n}\n\n.btn-danger {\n  background-color: #dc3545;\n  color: white;\n}\n\n.btn-danger:hover {\n  background-color: #c82333;\n}\n\n/* レスポンシブデザイン */\n@media (max-width: 768px) {\n  .models-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .model-card-actions {\n    flex-direction: column;\n  }\n  \n  .btn {\n    width: 100%;\n  }\n}\n",""]);const s=i},374:(e,n,t)=>{"use strict";t.r(n),t.d(n,{CopyButton:()=>p,MetadataPanel:()=>d,MetadataParser:()=>l,ModeToggle:()=>u,PlainTextViewer:()=>i,SelectionHelper:()=>U,TextDisplayViewer:()=>B,TextEditor:()=>s,TextTypeDetector:()=>f,TranscriptionAdapter:()=>W,TranscriptionViewer:()=>a,useTextCopy:()=>m,useTextDisplayMode:()=>h,useTextSelection:()=>g});var r=t(848),o=t(540);const a=({segments:e,selectedSegmentIds:n=[],onSegmentSelect:t,onTextSelect:a,highlightedText:i,showLineNumbers:s=!0,showTimestamps:l=!0,showSpeakers:c=!0,className:d=""})=>{const u=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),[h,g]=(0,o.useState)(null),m=()=>{const e=window.getSelection();if(!e||0===e.rangeCount)return;const n=e.toString().trim();if(!n)return;const t=e.getRangeAt(0),r=u.current?.querySelectorAll(".transcription-line"),o=[];r?.forEach(e=>{if(t.intersectsNode(e)){const n=parseInt(e.getAttribute("data-segment-id")||"0");n&&o.push(n)}});const i={start:t.startOffset,end:t.endOffset,selectedText:n,segmentIds:o.length>0?o:void 0};a?.(i)};(0,o.useEffect)(()=>{const n=f.current,t=p.current;if(!n||!t)return void console.warn("Scroll sync refs not available:",{textContent:!!n,lineNumbers:!!t});const r=()=>{const e=n?.querySelectorAll(".transcription-line"),t=p.current?.querySelectorAll(".transcription-line-number");e&&t&&requestAnimationFrame(()=>{const n=[];e.forEach(e=>{n.push(e.getBoundingClientRect().height)}),t.forEach((e,t)=>{if(n[t]){const r=e,o=`${n[t]}px`;r.style.height=o,r.style.minHeight=o}})})},o=()=>{const e=n.scrollTop;t.scrollTop=e};n.addEventListener("scroll",o,{passive:!0});const a=setTimeout(()=>{o(),r()},50);let i=null;return e.some(e=>e.text.length>100)&&(i=new ResizeObserver(()=>{clearTimeout(a),setTimeout(r,200)}),i.observe(n)),()=>{n.removeEventListener("scroll",o),i&&i.disconnect(),clearTimeout(a)}},[e]),(0,o.useEffect)(()=>{const e=p.current;if(!e)return;const n=e=>{e.preventDefault(),e.stopPropagation(),f.current&&(f.current.scrollTop+=e.deltaY)},t=e=>{e.preventDefault(),e.stopPropagation()};return e.addEventListener("wheel",n,{passive:!1}),e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("wheel",n),e.removeEventListener("touchmove",t)}},[]),(0,o.useEffect)(()=>{const e=()=>{setTimeout(m,10)},n=u.current;if(n)return n.addEventListener("mouseup",e),()=>n.removeEventListener("mouseup",e)},[]);const v=e=>{if(!i||!i.trim())return e;const n=new RegExp(`(${b(i)})`,"gi");return e.replace(n,'<mark class="search-highlight">$1</mark>')},b=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),x=e=>{const n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=Math.floor(e%60),o=e-Math.floor(e);let a="";return n>0&&(a=`${n.toString().padStart(2,"0")}:`),a+=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,o>=.1&&(a+=`.${Math.floor(10*o)}`),a};return(0,r.jsxs)("div",{className:`transcription-viewer ${d}`,ref:u,children:[(0,r.jsx)("div",{className:"transcription-content",children:(0,r.jsxs)("div",{className:"text-content",children:[s&&(0,r.jsx)("div",{className:"transcription-line-numbers",ref:p,children:e.map(e=>(0,r.jsx)("div",{className:`transcription-line-number ${n.includes(e.id)?"selected":""} ${h===e.id?"active":""}`,"data-line-number":e.id,children:e.id.toString().padStart(3,"0")},`line-${e.id}`))}),(0,r.jsx)("div",{className:"transcription-main-text-area",ref:f,children:e.map(o=>{const a=n.includes(o.id),i=h===o.id;return(0,r.jsxs)("div",{className:`transcription-line ${a?"selected":""} ${i?"active":""}`,"data-segment-id":o.id,onClick:r=>((r,o)=>{if(o.ctrlKey||o.metaKey){const e=n.includes(r)?n.filter(e=>e!==r):[...n,r];t?.(e)}else if(o.shiftKey&&n.length>0){const o=n[n.length-1],a=e.findIndex(e=>e.id===o),i=e.findIndex(e=>e.id===r);if(-1!==a&&-1!==i){const n=Math.min(a,i),r=Math.max(a,i),o=e.slice(n,r+1).map(e=>e.id);t?.(o)}}else t?.([r])})(o.id,r),onMouseEnter:()=>g(o.id),onMouseLeave:()=>g(null),children:[l&&(0,r.jsx)("div",{className:"timestamp-column",children:(0,r.jsx)("span",{className:"timestamp",children:x(o.start)})}),(0,r.jsxs)("div",{className:"text-column",children:[c&&o.speaker&&(0,r.jsxs)("span",{className:"speaker-label",children:[o.speaker,":"]}),(0,r.jsx)("span",{className:"segment-text",dangerouslySetInnerHTML:{__html:v(o.text)}}),o.isEdited&&(0,r.jsx)("span",{className:"edited-marker",title:"編集済み",children:"✏️"})]})]},o.id)})})]})}),(0,r.jsx)("div",{className:"transcription-footer",children:(0,r.jsxs)("div",{className:"segment-count",children:[e.length," セグメント",n.length>0&&(0,r.jsxs)("span",{className:"selection-count",children:["(",n.length," 選択中)"]})]})})]})},i=({content:e,selectedLineNumbers:n=[],onLineSelect:t,onTextSelect:a,highlightedText:i,showLineNumbers:s=!0,wordWrap:l=!0,readOnly:c=!0,className:d=""})=>{const u=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),[h,g]=(0,o.useState)(null),[m,v]=(0,o.useState)([]),b=m.length>1e3,x=m.some(e=>e.length>150);(0,o.useEffect)(()=>{const n=e.split("\n");v(n)},[e]),(0,o.useEffect)(()=>{if(m.length>1e3)return void console.log("Large file detected, skipping dynamic height sync for performance");const e=()=>{const e=f.current?.querySelectorAll(".text-line"),n=p.current?.querySelectorAll(".plain-text-line-number");e&&n&&requestAnimationFrame(()=>{const t=[];e.forEach(e=>{t.push(e.getBoundingClientRect().height)}),n.forEach((e,n)=>{if(t[n]){const r=e,o=`${t[n]}px`;r.style.height=o,r.style.minHeight=o}})})},n=setTimeout(e,50);let t=null;return m.some(e=>e.length>100)&&f.current&&(t=new ResizeObserver(()=>{clearTimeout(n),setTimeout(e,200)}),t.observe(f.current)),()=>{clearTimeout(n),t?.disconnect()}},[m]);const y=(e,r)=>{if(t)if(r.ctrlKey||r.metaKey){const r=n.includes(e)?n.filter(n=>n!==e):[...n,e];t(r)}else if(r.shiftKey&&n.length>0){const r=n[n.length-1],o=Math.min(r,e),a=Math.max(r,e),i=Array.from({length:a-o+1},(e,n)=>o+n);t(i)}else t([e])},w=()=>{const e=window.getSelection();if(!e||0===e.rangeCount)return;const n=e.toString().trim();if(!n)return;const t=e.getRangeAt(0),r=u.current?.querySelectorAll(".text-line"),o=[];r?.forEach(e=>{if(t.intersectsNode(e)){const n=parseInt(e.getAttribute("data-line-number")||"0");n&&o.push(n)}});const i={start:t.startOffset,end:t.endOffset,selectedText:n,lineNumbers:o.length>0?o:void 0};a?.(i)};(0,o.useEffect)(()=>{const e=f.current,n=p.current;if(!e||!n)return void console.warn("Scroll sync refs not available:",{textContent:!!e,lineNumbers:!!n});const t=()=>{const t=e.scrollTop;n.scrollTop=t};return e.addEventListener("scroll",t,{passive:!0}),setTimeout(()=>t(),100),()=>{e.removeEventListener("scroll",t)}},[m]),(0,o.useEffect)(()=>{const e=p.current;if(!e)return;const n=e=>{e.preventDefault(),e.stopPropagation(),f.current&&(f.current.scrollTop+=e.deltaY)},t=e=>{e.preventDefault(),e.stopPropagation()};return e.addEventListener("wheel",n,{passive:!1}),e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("wheel",n),e.removeEventListener("touchmove",t)}},[]),(0,o.useEffect)(()=>{const e=()=>{setTimeout(w,10)},n=u.current;if(n)return n.addEventListener("mouseup",e),()=>n.removeEventListener("mouseup",e)},[]);const k=e=>{if(!i||!i.trim())return e;const n=new RegExp(`(${S(i)})`,"gi");return e.replace(n,'<mark class="search-highlight">$1</mark>')},S=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(0,r.jsxs)("div",{className:`plain-text-viewer ${d}`,ref:u,children:[(0,r.jsxs)("div",{className:"text-content test",children:[s&&(0,r.jsx)("div",{className:"plain-text-line-numbers",ref:p,children:m.map((e,t)=>{const o=t+1,a=n.includes(o),i=h===o;return(0,r.jsx)("div",{className:`plain-text-line-number ${a?"selected":""} ${i?"active":""}`,"data-line-number":o,onClick:e=>y(o,e),onMouseEnter:()=>g(o),onMouseLeave:()=>g(null),children:o.toString().padStart(3,"0")},`line-${o}`)})}),(0,r.jsx)("div",{className:`plain-text-main-text-area ${l?"word-wrap":"no-wrap"} ${b?"performance-mode":""}`,ref:f,children:m.map((e,t)=>{const o=t+1,a=n.includes(o),i=h===o;return(0,r.jsx)("div",{className:`text-line ${a?"selected":""} ${i?"active":""} ${b?"fixed-height":""}`,"data-line-number":o,onClick:e=>y(o,e),onMouseEnter:()=>!b&&g(o),onMouseLeave:()=>!b&&g(null),children:(0,r.jsx)("span",{className:"line-content "+(x&&!b?"dynamic-height":""),dangerouslySetInnerHTML:{__html:k(e||" ")}})},o)})})]}),(0,r.jsxs)("div",{className:"plain-text-footer",children:[(0,r.jsxs)("div",{className:"line-count",children:[m.length," 行",n.length>0&&(0,r.jsxs)("span",{className:"selection-count",children:["(",n.length," 選択中)"]})]}),(0,r.jsxs)("div",{className:"content-stats",children:[e.length," 文字 / ",e.split(/\s+/).filter(e=>e).length," 語"]})]})]})},s=({content:e,onContentChange:n,onTextSelect:t,highlightedText:a,showLineNumbers:i=!0,tabSize:s=2,insertSpaces:l=!0,wordWrap:c=!0,readOnly:d=!1,placeholder:u="テキストを入力してください...",maxLength:p,className:f=""})=>{const h=(0,o.useRef)(null),g=(0,o.useRef)(null),[m,v]=(0,o.useState)([]),[b,x]=(0,o.useState)(1),[y,w]=(0,o.useState)(1),[k,S]=(0,o.useState)(null);(0,o.useEffect)(()=>{const n=e.split("\n");v(n)},[e]);const E=(0,o.useCallback)(()=>{const n=h.current;if(!n)return;const t=n.selectionStart,r=e.substring(0,t).split("\n"),o=r.length,a=r[r.length-1].length+1;x(o),w(a)},[e]),N=(0,o.useCallback)(()=>{const n=h.current;if(!n)return;const r=n.selectionStart,o=n.selectionEnd;if(r!==o){const n=e.substring(r,o),a=e.substring(0,r).split("\n").length,i=e.substring(0,o).split("\n").length,s={start:r,end:o,selectedText:n,lineNumbers:Array.from({length:i-a+1},(e,n)=>a+n)};t?.(s),S({start:r,end:o})}else S(null)},[e,t]);return(0,o.useEffect)(()=>{const e=h.current;if(!e)return;const n=()=>{E(),N()};return e.addEventListener("mouseup",n),e.addEventListener("keyup",n),e.addEventListener("focus",n),()=>{e.removeEventListener("mouseup",n),e.removeEventListener("keyup",n),e.removeEventListener("focus",n)}},[E,N]),(0,r.jsxs)("div",{className:`text-editor ${f}`,children:[(0,r.jsxs)("div",{className:"editor-content",children:[i&&(0,r.jsx)("div",{className:"line-numbers",ref:g,children:m.map((e,n)=>{const t=n+1,o=t===b;return(0,r.jsx)("div",{className:"line-number "+(o?"current":""),"data-line-number":t,children:t.toString().padStart(3,"0")},`line-${t}`)})}),(0,r.jsxs)("div",{className:"main-editor-area "+(c?"word-wrap":"no-wrap"),children:[(0,r.jsx)("textarea",{ref:h,className:"editor-textarea",value:e,onChange:e=>{const t=e.target.value;p&&t.length>p||n(t)},onKeyDown:t=>{const r=h.current;if(r&&"Tab"===t.key){t.preventDefault();const o=r.selectionStart,a=r.selectionEnd,i=l?" ".repeat(s):"\t";if(t.shiftKey){const t=e.substring(0,o).lastIndexOf("\n")+1,s=e.substring(t,o);if(s.startsWith(i)){const l=e.substring(0,t)+s.substring(i.length)+e.substring(o);n(l),setTimeout(()=>{r.setSelectionRange(o-i.length,a-i.length)},0)}}else{const t=e.substring(0,o)+i+e.substring(a);n(t),setTimeout(()=>{r.setSelectionRange(o+i.length,o+i.length)},0)}}},onScroll:()=>{const e=h.current,n=g.current;e&&n&&(n.scrollTop=e.scrollTop)},placeholder:u,readOnly:d,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",wrap:c?"soft":"off",style:{tabSize:s,MozTabSize:s}}),a&&(0,r.jsx)("div",{className:"highlight-overlay"})]})]}),(0,r.jsxs)("div",{className:"editor-footer",children:[(0,r.jsxs)("div",{className:"cursor-info",children:["行 ",b,", 列 ",y]}),(0,r.jsxs)("div",{className:"editor-stats",children:[e.length,p&&`/${p}`," 文字",k&&(0,r.jsxs)("span",{className:"selection-info",children:["(",k.end-k.start," 選択中)"]})]}),(0,r.jsxs)("div",{className:"editor-settings",children:[l?`スペース: ${s}`:"タブ",c?" | 折り返し":" | 改行なし"]})]})]})};class l{static parseTranscriptionFile(e,n){return{metadata:this.parseMetadata(e,n),segments:this.parseSegments(e),rawText:this.extractRawText(e)}}static parseMetadata(e,n){const t=this.extractYamlFrontMatter(e),r=this.calculateContentStats(e);return t?{sourceFile:this.getFileName(n),fileType:"transcription",createdAt:t.transcribed_at||(new Date).toISOString(),modifiedAt:t.modified_at,transcription:{audioFile:t.audio_file||"",model:t.model||"unknown",transcribedAt:t.transcribed_at||(new Date).toISOString(),duration:this.parseFloat(t.duration,0)||0,segmentCount:this.parseInt(t.segment_count,0)||0,language:t.language||"ja",speakers:this.parseSpeakersList(t.speakers),coverage:this.parseFloat(t.coverage,100)||100,chunkCount:this.parseInt(t.chunk_count),qualityScore:this.parseFloat(t.quality_score)},stats:r}:{sourceFile:this.getFileName(n),fileType:"plain-text",createdAt:(new Date).toISOString(),stats:r}}static parseSegments(e){const n=this.removeYamlFrontMatter(e),t=[this.parseStructuredSegments,this.parseTimestampSegments,this.parseSimpleLines];for(const e of t){const t=e.call(this,n);if(t.length>0)return t}return[]}static parseStructuredSegments(e){const n=[],t=e.split("\n");for(const e of t){const t=e.match(/^(\d+)\s*\|\s*(\d+:\d+:\d+(?:\.\d+)?)\s*-\s*(\d+:\d+:\d+(?:\.\d+)?)\s*\|\s*(.+)$/);if(t){const[,e,r,o,a]=t;n.push({id:parseInt(e),start:this.timeToSeconds(r),end:this.timeToSeconds(o),text:a.trim()})}}return n}static parseTimestampSegments(e){const n=[],t=e.split("\n");let r=1;for(const e of t){const t=e.match(/^\[(\d+:\d+:\d+(?:\.\d+)?)\]\s*(.+)$/);if(t){const[,e,o]=t,a=this.timeToSeconds(e);n.push({id:r++,start:a,end:a+5,text:o.trim()})}}for(let e=0;e<n.length-1;e++)n[e].end=n[e+1].start;return n}static parseSimpleLines(e){const n=[],t=e.split("\n").filter(e=>e.trim().length>0);let r=1;for(const e of t)e.trim()&&(n.push({id:r,start:5*(r-1),end:5*r,text:e.trim()}),r++);return n}static extractRawText(e){const n=this.removeYamlFrontMatter(e).split("\n"),t=[];for(const e of n){const n=e.match(/^\d+\s*\|\s*\d+:\d+:\d+(?:\.\d+)?\s*-\s*\d+:\d+:\d+(?:\.\d+)?\s*\|\s*(.+)$/);if(n){t.push(n[1].trim());continue}const r=e.match(/^\[(\d+:\d+:\d+(?:\.\d+)?)\]\s*(.+)$/);r?t.push(r[2].trim()):e.trim()&&t.push(e.trim())}return t.join("\n")}static extractRawTextWithTimestamps(e){return this.removeYamlFrontMatter(e)}static removeYamlFrontMatter(e){const n=e.match(/^---\s*\n[\s\S]*?\n---\s*\n/);return n?e.substring(n[0].length):e}static extractYamlFrontMatter(e){const n=e.match(/^---\s*\n([\s\S]*?)\n---\s*\n/);if(!n)return null;const t={},r=n[1].split("\n");for(const e of r){const n=e.match(/^(\w+):\s*(.+)$/);if(n){const[,e,r]=n;t[e]=r.trim()}}return t}static timeToSeconds(e){const n=e.split(":");if(3===n.length){const[e,t,r]=n;return 3600*parseInt(e)+60*parseInt(t)+parseFloat(r)}return 0}static secondsToTime(e){const n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=Math.floor(e%60),o=e%1,a=o>=.1;return n>0?a?`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}.${Math.floor(10*o)}`:`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:a?`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}.${Math.floor(10*o)}`:`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}static parseSpeakersList(e){if(!e)return[];if("string"==typeof e){const n=e.match(/\[(.*)\]/);return n?n[1].split(",").map(e=>e.trim().replace(/['"]/g,"")):[e.replace(/['"]/g,"")]}return Array.isArray(e)?e.map(e=>String(e)):[]}static parseFloat(e,n){if(null==e)return n;const t=parseFloat(String(e));return isNaN(t)?n:t}static parseInt(e,n){if(null==e)return n;const t=parseInt(String(e));return isNaN(t)?n:t}static calculateContentStats(e){const n=this.removeYamlFrontMatter(e),t=n.split("\n").filter(e=>e.trim().length>0);return{totalCharacters:n.length,totalWords:n.split(/\s+/).filter(e=>e.length>0).length,totalLines:t.length,encoding:"UTF-8"}}static getFileName(e){return e.split(/[/\\]/).pop()||e}}class c{static formatSegmentsForDisplay(e){return e.map(e=>{const n=l.secondsToTime(e.start),t=l.secondsToTime(e.end),r=e.speaker?`${e.speaker}: `:"";return`${e.id.toString().padStart(3,"0")} | ${n} - ${t} | ${r}${e.text}`}).join("\n")}static extractPlainTextFromSegments(e){return e.map(e=>`${e.speaker?`${e.speaker}: `:""}${e.text}`).join("\n")}static formatTimeRange(e,n){return`${this.formatDuration(e)} - ${this.formatDuration(n)}`}static formatDuration(e){return e<60?`${e.toFixed(1)}秒`:e<3600?`${Math.floor(e/60)}分${Math.floor(e%60)}秒`:`${Math.floor(e/3600)}時間${Math.floor(e%3600/60)}分${Math.floor(e%60)}秒`}static formatFileSize(e){if(0===e)return"0 B";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(1))+" "+["B","KB","MB","GB","TB"][n]}static formatNumber(e){return new Intl.NumberFormat("ja-JP").format(e)}static formatPercentage(e){return`${e.toFixed(1)}%`}static formatDateTime(e){try{const n=new Date(e);return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n)}catch(n){return e}}static formatRelativeTime(e){try{const n=new Date(e),t=(new Date).getTime()-n.getTime(),r=Math.floor(t/6e4),o=Math.floor(r/60),a=Math.floor(o/24);return r<1?"たった今":r<60?`${r}分前`:o<24?`${o}時間前`:a<7?`${a}日前`:this.formatDateTime(e)}catch(n){return e}}static highlightText(e,n){if(!n.trim())return e;const t=new RegExp(`(${this.escapeRegExp(n)})`,"gi");return e.replace(t,'<mark class="selection-highlight">$1</mark>')}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static truncateText(e,n,t="..."){return e.length<=n?e:e.substring(0,n-t.length)+t}static countWords(e){return e.split(/\s+/).filter(e=>e.length>0).length}static countCharacters(e){return e.replace(/\s/g,"").length}static formatQualityScore(e){return void 0===e?"不明":e>=90?`🟢 優秀 (${e}%)`:e>=75?`🟡 良好 (${e}%)`:e>=50?`🟠 普通 (${e}%)`:`🔴 要改善 (${e}%)`}static formatLanguage(e){return{ja:"日本語",en:"英語",ko:"韓国語",zh:"中国語",auto:"自動検出"}[e]||e}static formatModelName(e){return{small:"Small (高速)",medium:"Medium (バランス)",large:"Large (高精度)","large-v2":"Large v2 (最高精度)","large-v3":"Large v3 (最新)"}[e]||e}static formatCoverage(e){const n=this.formatPercentage(e);return e>=95?`🟢 ${n}`:e>=85?`🟡 ${n}`:e>=70?`🟠 ${n}`:`🔴 ${n}`}static formatSegmentSummary(e){if(0===e.length)return"セグメントなし";const n=e[e.length-1]?.end||0,t=n/e.length;return[`${this.formatNumber(e.length)}セグメント`,`総時間: ${this.formatDuration(n)}`,`平均長: ${t.toFixed(1)}秒`].join(" | ")}}const d=({metadata:e,segments:n=[],isCollapsed:t=!1,onToggleCollapse:a,className:i=""})=>{const[s,l]=(0,o.useState)(t),d=a?t:s,u=(0,o.useMemo)(()=>{const t=e.stats,r=e.transcription;return{characters:t.totalCharacters,words:t.totalWords,lines:t.totalLines,duration:r?.duration||0,segments:r?.segmentCount||n.length,coverage:r?.coverage||0,speakers:r?.speakers?.length||0,wordsPerMinute:r?.duration?Math.round(t.totalWords/r.duration*60):0,averageSegmentLength:r?.segmentCount?r.duration/r.segmentCount:0}},[e,n]);return(0,r.jsxs)("div",{className:`metadata-panel-wrapper ${i}`,children:[(0,r.jsxs)("button",{className:"metadata-toggle "+(d?"":"expanded"),onClick:()=>{const e=!d;a?a(e):l(e)},type:"button","aria-expanded":!d,title:d?"ファイル情報を展開":"ファイル情報を折りたたむ",children:[(0,r.jsx)("span",{className:"arrow "+(d?"collapsed":"expanded"),children:"▶"}),(0,r.jsx)("span",{children:"📊 ファイル情報"}),(0,r.jsxs)("span",{className:"summary",children:["transcription"===e.fileType?"文字起こし":"テキスト"," •",c.formatNumber(u.characters),"文字 •",c.formatNumber(u.words),"語",d&&" • クリックで詳細表示"]})]}),(0,r.jsx)("div",{className:"metadata-panel "+(d?"collapsed":"expanded"),children:!d&&(0,r.jsx)("div",{className:"metadata-content",children:(0,r.jsxs)("div",{className:"metadata-grid",children:[(0,r.jsxs)("div",{className:"metadata-section",children:[(0,r.jsx)("h4",{className:"section-title",children:"📄 基本情報"}),(0,r.jsxs)("div",{className:"metadata-items",children:[(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"ファイル名:"}),(0,r.jsx)("span",{className:"value",children:e.sourceFile})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"種類:"}),(0,r.jsx)("span",{className:"value",children:"transcription"===e.fileType?"📋 文字起こし":"📄 テキストファイル"})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"作成日時:"}),(0,r.jsx)("span",{className:"value",children:c.formatDateTime(e.createdAt)})]}),e.modifiedAt&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"更新日時:"}),(0,r.jsx)("span",{className:"value",children:c.formatDateTime(e.modifiedAt)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"エンコーディング:"}),(0,r.jsx)("span",{className:"value",children:e.stats.encoding})]})]})]}),e.transcription&&(0,r.jsxs)("div",{className:"metadata-section",children:[(0,r.jsx)("h4",{className:"section-title",children:"🎤 文字起こし情報"}),(0,r.jsxs)("div",{className:"metadata-items",children:[(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"音声ファイル:"}),(0,r.jsx)("span",{className:"value",children:e.transcription.audioFile})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"使用モデル:"}),(0,r.jsx)("span",{className:"value",children:c.formatModelName(e.transcription.model)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"言語:"}),(0,r.jsx)("span",{className:"value",children:c.formatLanguage(e.transcription.language)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"文字起こし日時:"}),(0,r.jsx)("span",{className:"value",children:c.formatDateTime(e.transcription.transcribedAt)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"音声時間:"}),(0,r.jsx)("span",{className:"value",children:c.formatDuration(e.transcription.duration)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"カバレッジ:"}),(0,r.jsx)("span",{className:"value",children:c.formatCoverage(e.transcription.coverage)})]}),void 0!==e.transcription.qualityScore&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"品質スコア:"}),(0,r.jsx)("span",{className:"value",children:c.formatQualityScore(e.transcription.qualityScore)})]}),e.transcription.chunkCount&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"チャンク数:"}),(0,r.jsx)("span",{className:"value",children:c.formatNumber(e.transcription.chunkCount)})]})]})]}),(0,r.jsxs)("div",{className:"metadata-section",children:[(0,r.jsx)("h4",{className:"section-title",children:"📊 統計情報"}),(0,r.jsxs)("div",{className:"metadata-items",children:[(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"総文字数:"}),(0,r.jsx)("span",{className:"value",children:c.formatNumber(u.characters)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"総単語数:"}),(0,r.jsx)("span",{className:"value",children:c.formatNumber(u.words)})]}),(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"総行数:"}),(0,r.jsx)("span",{className:"value",children:c.formatNumber(u.lines)})]}),u.segments>0&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"セグメント数:"}),(0,r.jsx)("span",{className:"value",children:c.formatNumber(u.segments)})]}),u.wordsPerMinute>0&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"話速:"}),(0,r.jsxs)("span",{className:"value",children:[u.wordsPerMinute," 語/分"]})]}),u.averageSegmentLength>0&&(0,r.jsxs)("div",{className:"metadata-item",children:[(0,r.jsx)("span",{className:"label",children:"平均セグメント長:"}),(0,r.jsxs)("span",{className:"value",children:[u.averageSegmentLength.toFixed(1),"秒"]})]})]})]}),e.transcription?.speakers&&e.transcription.speakers.length>0&&(0,r.jsxs)("div",{className:"metadata-section",children:[(0,r.jsx)("h4",{className:"section-title",children:"👥 話者情報"}),(0,r.jsx)("div",{className:"speakers-list",children:e.transcription.speakers.map((e,n)=>(0,r.jsx)("span",{className:"speaker-tag",children:e},n))})]})]})})})]})},u=({currentMode:e,canSwitchMode:n,hasUnsavedChanges:t,onModeChange:o,className:a="",disabled:i=!1})=>{const s=t=>{n&&!i&&t!==e&&o(t)};return(0,r.jsxs)("div",{className:`mode-toggle-group ${a}`,children:[(0,r.jsxs)("button",{type:"button",className:"mode-toggle-button "+("view"===e?"active":""),onClick:()=>s("view"),disabled:i||!n,title:"表示モード","aria-pressed":"view"===e,children:[(0,r.jsx)("span",{className:"icon",children:"👁️"}),(0,r.jsx)("span",{className:"label",children:"表示"})]}),(0,r.jsxs)("button",{type:"button",className:"mode-toggle-button "+("edit"===e?"active":""),onClick:()=>s("edit"),disabled:i||!n,title:t?"編集モード（未保存の変更あり）":"編集モード","aria-pressed":"edit"===e,children:[(0,r.jsx)("span",{className:"icon",children:"✏️"}),(0,r.jsx)("span",{className:"label",children:"編集"}),t&&(0,r.jsx)("span",{className:"unsaved-indicator",title:"未保存の変更があります",children:"●"})]})]})},p=({selection:e,fullText:n,segments:t=[],onCopySelection:o,onCopyFullText:a,onCopySegments:i,variant:s="selection",format:l="plain",disabled:c=!1,size:d="medium",showLabel:u=!0,className:p=""})=>{const f=(()=>{if(c)return!1;switch(s){case"selection":return!!e?.selectedText;case"full-text":return!!n?.trim();case"segments":return t.length>0;default:return!1}})(),{icon:h,label:g,shortLabel:m}={icon:{selection:"📋","full-text":"📄",segments:"📊"}[s],label:{selection:"選択部分をコピー","full-text":"全文をコピー",segments:"formatted"===l?"整形してコピー":"セグメントをコピー"}[s],shortLabel:{selection:"コピー","full-text":"全文",segments:"formatted"===l?"整形":"セグメント"}[s]};return(0,r.jsxs)("button",{type:"button",className:`vscode-button action-button copy-button copy-button-${s} copy-button-${d} ${f?"":"disabled"} ${p}`,onClick:async()=>{if(!c)try{switch(s){case"selection":e&&o&&await o(e);break;case"full-text":n&&a&&await a(n);break;case"segments":t.length>0&&i&&await i(t,l)}}catch(e){console.error("コピーエラー:",e)}},disabled:!f,title:(()=>{if(!f)switch(s){case"selection":return"コピーするテキストを選択してください";case"full-text":return"コピーできるテキストがありません";case"segments":return"コピーできるセグメントがありません";default:return"コピーできません"}const r="formatted"===l?" (整形済み)":"";switch(s){case"selection":return`選択されたテキスト (${e?.selectedText?.length||0}文字) をコピー${r}`;case"full-text":return`全文 (${n?.length||0}文字) をコピー${r}`;case"segments":return`${t.length}個のセグメントをコピー${r}`;default:return g}})(),"aria-label":g,children:[(0,r.jsx)("span",{className:"icon",children:h}),u&&(0,r.jsx)("span",{className:"label",children:"small"===d?m:g}),"selection"===s&&e&&(0,r.jsxs)("span",{className:"selection-info",children:["(",e.selectedText.length,")"]})]})};class f{static detectFileType(e,n){return this.detectTextType(e,n).fileType}static detectTextType(e,n){const t=this.getFileExtension(n),r=this.hasYamlFrontMatter(e),o=this.detectTranscriptionFeatures(e);return r&&o.confidence>.7?{fileType:"transcription",confidence:Math.min(o.confidence+.2,1),metadata:this.parseTranscriptionMetadata(e,n)}:"trans.txt"===t||n.includes("_transcription.txt")?{fileType:"transcription",confidence:.9,metadata:this.parseTranscriptionMetadata(e,n)}:o.confidence>.6?{fileType:"transcription",confidence:o.confidence,metadata:this.parseTranscriptionMetadata(e,n)}:{fileType:"plain-text",confidence:1-o.confidence,metadata:this.createPlainTextMetadata(e,n)}}static getFileExtension(e){const n=e.split(".");return n.length>1?n[n.length-1].toLowerCase():""}static hasYamlFrontMatter(e){return/^---\s*\n[\s\S]*?\n---\s*\n/.test(e)}static detectTranscriptionFeatures(e){const n=[];let t=0;this.hasYamlFrontMatter(e)&&(n.push("yaml_metadata"),t+=.3);const r=[/\d{2}:\d{2}:\d{2}\.\d{3}/g,/\d{2}:\d{2}:\d{2}/g,/\d+\.\d{3}/g,/\[\d+:\d+:\d+\]/g];for(const o of r){const r=e.match(o);if(r&&r.length>0){n.push("timestamps"),t+=Math.min(.05*r.length,.3);break}}const o=[/^話者\d+:/gm,/^Speaker\s+\d+:/gm,/^\w+:/gm];for(const r of o){const o=e.match(r);if(o&&o.length>2){n.push("speaker_labels"),t+=.2;break}}const a=["audio_file","model","transcribed_at","duration","segment_count","language","coverage","chunk_count","quality_score"].filter(n=>e.toLowerCase().includes(n)).length;a>0&&(n.push("transcription_keywords"),t+=.1*a);const i=[/\n\d+\s*\|\s*\d+:\d+:\d+\s*-\s*\d+:\d+:\d+\s*\|/g,/\n\[\d+:\d+:\d+\]\s*.+/g];for(const r of i)if(r.test(e)){n.push("structured_format"),t+=.25;break}return{confidence:Math.min(t,1),features:n}}static parseTranscriptionMetadata(e,n){const t=this.extractYamlMetadata(e),r=this.calculateFileStats(e),o={audioFile:t.audio_file||this.guessAudioFileName(n),model:t.model||"unknown",transcribedAt:t.transcribed_at||(new Date).toISOString(),duration:parseFloat(t.duration)||0,segmentCount:parseInt(t.segment_count)||this.countSegments(e),language:t.language||"ja",speakers:this.parseSpeakers(t.speakers)||[],coverage:parseFloat(t.coverage)||100,chunkCount:parseInt(t.chunk_count),qualityScore:parseFloat(t.quality_score)};return{sourceFile:this.getFileName(n),fileType:"transcription",createdAt:t.transcribed_at||(new Date).toISOString(),transcription:o,stats:r}}static createPlainTextMetadata(e,n){const t=this.calculateFileStats(e);return{sourceFile:this.getFileName(n),fileType:"plain-text",createdAt:(new Date).toISOString(),stats:t}}static extractYamlMetadata(e){const n=e.match(/^---\s*\n([\s\S]*?)\n---\s*\n/);if(!n)return{};const t={},r=n[1].split("\n");for(const e of r){const n=e.match(/^(\w+):\s*(.+)$/);if(n){const[,e,r]=n;t[e]=r.trim()}}return t}static calculateFileStats(e){const n=e.split("\n");return{totalCharacters:e.length,totalWords:e.split(/\s+/).filter(e=>e.length>0).length,totalLines:n.length,encoding:"UTF-8"}}static countSegments(e){const n=e.match(/\n.*\d+:\d+:\d+.*\n/g);return n?n.length:0}static parseSpeakers(e){if(!e)return[];if("string"==typeof e){const n=e.match(/\[(.*)\]/);return n?n[1].split(",").map(e=>e.trim().replace(/"/g,"")):[e]}return Array.isArray(e)?e:[]}static guessAudioFileName(e){return this.getFileName(e).replace("_transcription.txt",".mp3").replace(".trans.txt",".mp3").replace(".txt",".mp3")}static getFileName(e){return e.split(/[/\\]/).pop()||e}}function h(e){const{initialMode:n="view",readOnly:t=!1,onSave:r}=e,[a,i]=(0,o.useState)(n),[s,l]=(0,o.useState)(!1),c=(0,o.useCallback)(async(e,n)=>{if(e!==a){if(s&&!window.confirm("未保存の変更があります。破棄して続行しますか？"))return;i(e),l(!1)}},[a,s]),d=(0,o.useCallback)(async e=>{if(!r)return!1;try{const n=await r(e);return n&&l(!1),n}catch(e){return console.error("保存エラー:",e),!1}},[r]),u=(0,o.useCallback)(()=>{l(!1)},[]);return{currentMode:a,canSwitchMode:!t,hasUnsavedChanges:s,switchMode:c,saveChanges:d,discardChanges:u}}function g(){const[e,n]=(0,o.useState)(null),t=(0,o.useCallback)(e=>{const t={start:0,end:e.length,selectedText:e};n(t)},[]);return{textSelection:e,clearSelection:(0,o.useCallback)(()=>{n(null);const e=window.getSelection();e&&e.removeAllRanges()},[]),selectAll:t,updateSelection:(0,o.useCallback)(e=>{n(e)},[])}}function m(){const[e,n]=(0,o.useState)(null),[t,r]=(0,o.useState)("idle"),a=((0,o.useRef)(null),"navigator"in window&&"clipboard"in navigator),i=(0,o.useCallback)(async e=>{if(!e.trim())return!1;r("copying");try{if(a)await navigator.clipboard.writeText(e);else{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();const t=document.execCommand("copy");if(document.body.removeChild(n),!t)throw new Error("execCommand failed")}return n(e),r("success"),setTimeout(()=>{r("idle")},1e3),!0}catch(e){return console.error("コピーエラー:",e),r("error"),setTimeout(()=>{r("idle")},2e3),!1}},[a]),s=(0,o.useCallback)(async e=>await i(e.selectedText),[i]),l=(0,o.useCallback)(async e=>await i(e),[i]),c=(0,o.useCallback)(async(e,n="plain")=>{if(0===e.length)return!1;let t;return t="formatted"===n?e.map(e=>{const n=d(e.start),t=d(e.end),r=e.speaker?`${e.speaker}: `:"";return`${e.id.toString().padStart(3,"0")} | ${n} - ${t} | ${r}${e.text}`}).join("\n"):e.map(e=>`${e.speaker?`${e.speaker}: `:""}${e.text}`).join("\n"),await i(t)},[i]),d=e=>{const n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=(e%60).toFixed(3);return n>0?`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.padStart(6,"0")}`:`${t.toString().padStart(2,"0")}:${r.padStart(6,"0")}`};return{copySelection:s,copyFullText:l,copySegments:c,copyStatus:t}}var v=t(72),b=t.n(v),x=t(825),y=t.n(x),w=t(659),k=t.n(w),S=t(56),E=t.n(S),N=t(159),C=t.n(N),T=t(113),_=t.n(T),j=t(462),A={};A.styleTagTransform=_(),A.setAttributes=E(),A.insert=k().bind(null,"head"),A.domAPI=y(),A.insertStyleElement=C(),b()(j.A,A),j.A&&j.A.locals&&j.A.locals;var I=t(956),R={};R.styleTagTransform=_(),R.setAttributes=E(),R.insert=k().bind(null,"head"),R.domAPI=y(),R.insertStyleElement=C(),b()(I.A,R),I.A&&I.A.locals&&I.A.locals;var L=t(16),z={};z.styleTagTransform=_(),z.setAttributes=E(),z.insert=k().bind(null,"head"),z.domAPI=y(),z.insertStyleElement=C(),b()(L.A,z),L.A&&L.A.locals&&L.A.locals;var P=t(669),M={};M.styleTagTransform=_(),M.setAttributes=E(),M.insert=k().bind(null,"head"),M.domAPI=y(),M.insertStyleElement=C(),b()(P.A,M),P.A&&P.A.locals&&P.A.locals;var F=t(283),O={};O.styleTagTransform=_(),O.setAttributes=E(),O.insert=k().bind(null,"head"),O.domAPI=y(),O.insertStyleElement=C(),b()(F.A,O),F.A&&F.A.locals&&F.A.locals;const D=!0,B=({content:e,filePath:n="",onContentChange:t,onSave:c,initialMode:v="view",forceFileType:b,readOnly:x=!1,showLineNumbers:y=!0,showMetadata:w=!0,highlightedText:k,className:S=""})=>{const[E,N]=(0,o.useState)(e),[C,T]=(0,o.useState)([]),[_,j]=(0,o.useState)([]),[A,I]=(0,o.useState)(D);(0,o.useEffect)(()=>{I(D)},[]);const{currentMode:R,canSwitchMode:L,hasUnsavedChanges:z,switchMode:P,saveChanges:M,discardChanges:F}=h({initialMode:v,readOnly:x,onSave:async e=>!c||await c(e)}),{textSelection:O,clearSelection:B,selectAll:$}=g(),{copySelection:U,copyFullText:W,copySegments:V}=m(),G=(0,o.useMemo)(()=>"transcription"===(b||f.detectFileType(E,n))?l.parseTranscriptionFile(E,n):{metadata:l.parseMetadata(E,n),segments:[],rawText:E},[E,n,b]);(0,o.useEffect)(()=>{e!==E&&N(e)},[e]);const H=e=>{N(e),t?.(e)},K=e=>{T(e),j([])},Q=e=>{j(e),T([])},Y=()=>"edit"===R?(0,r.jsx)(s,{content:E,onContentChange:H,onTextSelect:()=>{},highlightedText:k,showLineNumbers:y,readOnly:x,className:"main-editor"}):"transcription"===G.metadata.fileType&&G.segments.length>0?(0,r.jsx)(a,{segments:G.segments,selectedSegmentIds:C,onSegmentSelect:K,onTextSelect:()=>{},highlightedText:k,showLineNumbers:y,className:"main-viewer"}):(0,r.jsx)(i,{content:l.extractRawTextWithTimestamps(e),selectedLineNumbers:_,onLineSelect:Q,onTextSelect:()=>{},highlightedText:k,showLineNumbers:y,className:"main-viewer"});return(0,r.jsxs)("div",{className:`text-display-viewer ${S}`,children:[(0,r.jsxs)("div",{className:"text-display-header",children:[(0,r.jsx)("div",{className:"text-display-header-left",children:(0,r.jsxs)("div",{className:"text-display-filename",children:[(0,r.jsx)("span",{className:"file-icon",children:"transcription"===G.metadata.fileType?"🎤":"📄"}),G.metadata.sourceFile,z&&(0,r.jsx)("span",{className:"unsaved-indicator",children:"●"})]})}),(0,r.jsxs)("div",{className:"text-display-header-right",children:[(0,r.jsx)(u,{currentMode:R,canSwitchMode:L,hasUnsavedChanges:z,onModeChange:async e=>{"edit"===e&&z&&!window.confirm("未保存の変更があります。破棄して続行しますか？")||await P(e,E)}}),(0,r.jsx)(p,{selection:O,fullText:G.rawText,segments:G.segments,variant:"selection",onCopySelection:U,onCopyFullText:W,onCopySegments:V,size:"small",className:"action-button"})]})]}),w&&(0,r.jsx)(d,{metadata:G.metadata,segments:G.segments,isCollapsed:A,onToggleCollapse:I,className:"compact-metadata"}),(0,r.jsx)("div",{className:"text-display-content",children:"view"===R?(0,r.jsx)("div",{className:"view-mode-container",children:Y()}):(0,r.jsx)("div",{className:"edit-mode-container",children:Y()})})]})},$=e=>`${Math.floor(e/60)}:${(e%60).toFixed(1).padStart(4,"0")}`,U=({selection:e,segments:n,onClearSelection:t,onSelectSegments:o,onSelectAll:a,fullText:i,className:s=""})=>{const l=e?.segmentIds?n.filter(n=>e.segmentIds.includes(n.id)):[],c=()=>{a(i)};return e?(0,r.jsxs)("div",{className:`selection-helper has-selection ${s}`,children:[(0,r.jsxs)("div",{className:"selection-info",children:[(0,r.jsxs)("div",{className:"selection-details",children:[(0,r.jsxs)("span",{className:"selected-text-preview",children:['"',e.selectedText.length>50?`${e.selectedText.substring(0,50)}...`:e.selectedText,'"']}),(0,r.jsxs)("div",{className:"selection-stats",children:[(0,r.jsxs)("span",{className:"stat",children:[e.selectedText.length,"文字"]}),(0,r.jsxs)("span",{className:"stat",children:[e.selectedText.split(/\s+/).filter(e=>e).length,"語"]}),l.length>0&&(0,r.jsxs)("span",{className:"stat",children:[l.length,"セグメント"]})]})]}),(0,r.jsxs)("div",{className:"selection-actions",children:[e.segmentIds&&e.segmentIds.length>0&&(0,r.jsxs)("button",{type:"button",className:"vscode-button outline",onClick:()=>{e?.segmentIds&&o(e.segmentIds)},title:`関連する${e.segmentIds.length}個のセグメントを選択`,children:[(0,r.jsx)("span",{className:"icon",children:"🎯"}),(0,r.jsx)("span",{children:"関連セグメント"})]}),(0,r.jsxs)("button",{type:"button",className:"vscode-button outline",onClick:c,title:"全文を選択",children:[(0,r.jsx)("span",{className:"icon",children:"📄"}),(0,r.jsx)("span",{children:"全選択"})]}),(0,r.jsxs)("button",{type:"button",className:"vscode-button outline",onClick:t,title:"選択を解除",children:[(0,r.jsx)("span",{className:"icon",children:"✖️"}),(0,r.jsx)("span",{children:"解除"})]})]})]}),l.length>0&&(0,r.jsxs)("div",{className:"selected-segments",children:[(0,r.jsx)("div",{className:"segments-header",children:(0,r.jsx)("span",{className:"header-text",children:"選択されたセグメント:"})}),(0,r.jsx)("div",{className:"segments-list",children:l.map(e=>(0,r.jsxs)("div",{className:"segment-item",children:[(0,r.jsxs)("span",{className:"segment-id",children:["#",e.id]}),(0,r.jsxs)("span",{className:"segment-time",children:[$(e.start)," - ",$(e.end)]}),e.speaker&&(0,r.jsx)("span",{className:"segment-speaker",children:e.speaker})]},e.id))})]})]}):(0,r.jsx)("div",{className:`selection-helper no-selection ${s}`,children:(0,r.jsxs)("div",{className:"selection-info",children:[(0,r.jsx)("span",{className:"info-text",children:"テキストを選択してください"}),(0,r.jsxs)("button",{type:"button",className:"vscode-button outline",onClick:c,title:"全文を選択",children:[(0,r.jsx)("span",{className:"icon",children:"📄"}),(0,r.jsx)("span",{children:"全選択"})]})]})})};class W{static convertLegacyResult(e,n){const t=e.segments.map((e,n)=>({id:n+1,start:e.start,end:e.end,text:e.text,isEdited:e.isEdited||!1})),r={sourceFile:n||"unknown.audio",fileType:"transcription",createdAt:new Date(1e3*e.created_at).toISOString(),transcription:{audioFile:n||"unknown.audio",model:"kotoba-whisper",transcribedAt:new Date(1e3*e.created_at).toISOString(),duration:e.duration,segmentCount:e.segment_count||t.length,language:e.language||"ja",speakers:[],coverage:100},stats:{totalCharacters:t.reduce((e,n)=>e+n.text.length,0),totalWords:t.reduce((e,n)=>e+n.text.split(/\s+/).length,0),totalLines:t.length,encoding:"UTF-8"}},o=t.map(e=>e.text).join("\n");return{metadata:r,segments:t,rawText:o}}static convertToLegacyResult(e){const n=e.segments.map(e=>({start:e.start,end:e.end,text:e.text,isEdited:e.isEdited}));return{language:e.metadata.transcription?.language||"ja",duration:e.metadata.transcription?.duration||0,segments:n,created_at:Math.floor(new Date(e.metadata.createdAt).getTime()/1e3),segment_count:n.length}}static updateLegacyResultWithEdits(e,n){const t=e.segments.map((e,t)=>{const r=n.get(t);return void 0!==r&&r!==e.text?{...e,text:r,isEdited:!0}:e});return{...e,segments:t}}static generateFileContent(e,n,t){const r={audio_file:n||"unknown.audio",model:t||"kotoba-whisper",transcribed_at:new Date(1e3*e.created_at).toISOString(),duration:e.duration.toFixed(3),segment_count:e.segment_count||e.segments.length,language:e.language||"ja",coverage:"100.0"};return["---",...Object.entries(r).map(([e,n])=>`${e}: ${n}`),"---",""].join("\n")+e.segments.map((e,n)=>`${(n+1).toString().padStart(3,"0")} | ${this.formatTime(e.start)} - ${this.formatTime(e.end)} | ${e.text}`).join("\n")}static formatTime(e){const n=Math.floor(e/3600),t=Math.floor(e%3600/60),r=e%60;return n>0?`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.toFixed(3).padStart(6,"0")}`:`${t.toString().padStart(2,"0")}:${r.toFixed(3).padStart(6,"0")}`}}},462:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * VSCode風テーマスタイル\n * Dark/Lightテーマ対応\n */\n\n/* VSCode Dark テーマ */\n.vscode-dark {\n  --vscode-bg-primary: #1e1e1e;\n  --vscode-bg-secondary: #252526;\n  --vscode-bg-tertiary: #2d2d30;\n  --vscode-bg-hover: #2a2d2e;\n  --vscode-bg-active: #094771;\n  --vscode-bg-selection: #264f78;\n  \n  --vscode-text-primary: #cccccc;\n  --vscode-text-secondary: #969696;\n  --vscode-text-tertiary: #6a6a6a;\n  --vscode-text-accent: #4fc1ff;\n  --vscode-text-link: #3794ff;\n  \n  --vscode-border: #3e3e42;\n  --vscode-border-light: #464647;\n  --vscode-accent: #007acc;\n  --vscode-accent-hover: #1177bb;\n  \n  /* シンタックスカラー */\n  --vscode-keyword: #569cd6;\n  --vscode-string: #ce9178;\n  --vscode-number: #b5cea8;\n  --vscode-comment: #6a9955;\n  --vscode-function: #dcdcaa;\n  \n  /* 状態カラー */\n  --vscode-error: #f14c4c;\n  --vscode-warning: #ffcc02;\n  --vscode-success: #89d185;\n  --vscode-info: #3794ff;\n  \n  /* 行番号 */\n  --vscode-line-number: #857e6b;\n  --vscode-line-number-active: #c6c6c6;\n  \n  /* スクロールバー */\n  --vscode-scrollbar-track: transparent;\n  --vscode-scrollbar-thumb: #424242;\n  --vscode-scrollbar-thumb-hover: #4f4f4f;\n}\n\n/* VSCode Light テーマ */\n.vscode-light {\n  --vscode-bg-primary: #ffffff;\n  --vscode-bg-secondary: #f3f3f3;\n  --vscode-bg-tertiary: #e8e8e8;\n  --vscode-bg-hover: #f0f0f0;\n  --vscode-bg-active: #cce7ff;\n  --vscode-bg-selection: #add6ff;\n  \n  --vscode-text-primary: #000000;\n  --vscode-text-secondary: #6c6c6c;\n  --vscode-text-tertiary: #8e8e8e;\n  --vscode-text-accent: #0066cc;\n  --vscode-text-link: #006ab1;\n  \n  --vscode-border: #c8c8c8;\n  --vscode-border-light: #d4d4d4;\n  --vscode-accent: #0078d4;\n  --vscode-accent-hover: #106ebe;\n  \n  /* シンタックスカラー */\n  --vscode-keyword: #0000ff;\n  --vscode-string: #a31515;\n  --vscode-number: #098658;\n  --vscode-comment: #008000;\n  --vscode-function: #795e26;\n  \n  /* 状態カラー */\n  --vscode-error: #e51400;\n  --vscode-warning: #bf8803;\n  --vscode-success: #007100;\n  --vscode-info: #1a85ff;\n  \n  /* 行番号 */\n  --vscode-line-number: #237893;\n  --vscode-line-number-active: #0b216f;\n  \n  /* スクロールバー */\n  --vscode-scrollbar-track: transparent;\n  --vscode-scrollbar-thumb: #c1c1c1;\n  --vscode-scrollbar-thumb-hover: #a8a8a8;\n}\n\n/* フォント設定 */\n.vscode-theme {\n  --vscode-font-family: 'Cascadia Code', 'Fira Code', 'SF Mono', 'Monaco', 'Inconsolata', 'Consolas', 'Courier New', monospace;\n  --vscode-font-size: 14px;\n  --vscode-font-size-sm: 12px;\n  --vscode-font-size-lg: 16px;\n  --vscode-line-height: 1.5;\n  --vscode-letter-spacing: 0.5px;\n}\n\n/* 基本レイアウト */\n.vscode-container {\n  background-color: var(--vscode-bg-primary);\n  color: var(--vscode-text-primary);\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  line-height: var(--vscode-line-height);\n  border: 1px solid var(--vscode-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n/* スクロールバースタイル */\n.vscode-scrollable {\n  scrollbar-width: thin;\n  scrollbar-color: var(--vscode-scrollbar-thumb) var(--vscode-scrollbar-track);\n}\n\n.vscode-scrollable::-webkit-scrollbar {\n  width: 14px;\n  height: 14px;\n}\n\n.vscode-scrollable::-webkit-scrollbar-track {\n  background: var(--vscode-scrollbar-track);\n}\n\n.vscode-scrollable::-webkit-scrollbar-thumb {\n  background: var(--vscode-scrollbar-thumb);\n  border-radius: 7px;\n  border: 3px solid var(--vscode-bg-primary);\n}\n\n.vscode-scrollable::-webkit-scrollbar-thumb:hover {\n  background: var(--vscode-scrollbar-thumb-hover);\n}\n\n.vscode-scrollable::-webkit-scrollbar-corner {\n  background: var(--vscode-bg-primary);\n}\n\n/* ボタンスタイル */\n.vscode-button {\n  background-color: var(--vscode-accent);\n  color: white;\n  border: none;\n  padding: 6px 12px;\n  border-radius: 3px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size-sm);\n  cursor: pointer;\n  transition: background-color 0.15s ease;\n}\n\n.vscode-button:hover {\n  background-color: var(--vscode-accent-hover);\n}\n\n.vscode-button:active {\n  background-color: var(--vscode-accent);\n  transform: translateY(1px);\n}\n\n.vscode-button.outline {\n  background-color: transparent;\n  color: var(--vscode-text-primary);\n  border: 1px solid var(--vscode-border);\n}\n\n.vscode-button.outline:hover {\n  background-color: var(--vscode-bg-hover);\n}\n\n/* 入力フィールドスタイル */\n.vscode-input {\n  background-color: var(--vscode-bg-secondary);\n  color: var(--vscode-text-primary);\n  border: 1px solid var(--vscode-border);\n  border-radius: 3px;\n  padding: 6px 8px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  outline: none;\n  transition: border-color 0.15s ease;\n}\n\n.vscode-input:focus {\n  border-color: var(--vscode-accent);\n}\n\n/* セレクション */\n.vscode-selection {\n  background-color: var(--vscode-bg-selection);\n  color: var(--vscode-text-primary);\n}\n\n/* ホバー効果 */\n.vscode-hover:hover {\n  background-color: var(--vscode-bg-hover);\n}\n\n/* アクティブ状態 */\n.vscode-active {\n  background-color: var(--vscode-bg-active);\n  color: var(--vscode-text-primary);\n}\n\n/* 区切り線 */\n.vscode-divider {\n  border-top: 1px solid var(--vscode-border);\n  margin: 8px 0;\n}\n\n/* パネル */\n.vscode-panel {\n  background-color: var(--vscode-bg-secondary);\n  border: 1px solid var(--vscode-border);\n  border-radius: 4px;\n  padding: 12px;\n}\n\n/* ツールバー */\n.vscode-toolbar {\n  background-color: var(--vscode-bg-tertiary);\n  border-bottom: 1px solid var(--vscode-border);\n  padding: 8px 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* アニメーション */\n@keyframes vscode-fade-in {\n  from {\n    opacity: 0;\n    transform: translateY(-2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.vscode-fade-in {\n  animation: vscode-fade-in 0.2s ease-out;\n}\n\n/* ダークモード優先 */\n@media (prefers-color-scheme: dark) {\n  .vscode-theme:not(.vscode-light) {\n    @extend .vscode-dark;\n  }\n}\n\n/* アクセシビリティ */\n@media (prefers-reduced-motion: reduce) {\n  .vscode-button,\n  .vscode-input,\n  .vscode-fade-in {\n    transition: none;\n    animation: none;\n  }\n}\n\n/* 高コントラストモード */\n@media (prefers-contrast: high) {\n  .vscode-theme {\n    --vscode-border: #ffffff;\n    --vscode-text-primary: #ffffff;\n    --vscode-bg-primary: #000000;\n  }\n}",""]);const s=i},463:(e,n)=>{"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<a(o,n)))break e;e[r]=n,e[t]=o,t=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,t))c<o&&0>a(d,l)?(e[r]=d,e[c]=t,r=c):(e[r]=l,e[s]=t,r=s);else{if(!(c<o&&0>a(d,t)))break e;e[r]=d,e[c]=t,r=c}}}return n}function a(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,f=3,h=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var n=r(d);null!==n;){if(null===n.callback)o(d);else{if(!(n.startTime<=e))break;o(d),n.sortIndex=n.expirationTime,t(c,n)}n=r(d)}}function w(e){if(m=!1,y(e),!g)if(null!==r(c))g=!0,L(k);else{var n=r(d);null!==n&&z(w,n.startTime-e)}}function k(e,t){g=!1,m&&(m=!1,b(C),C=-1),h=!0;var a=f;try{for(y(t),p=r(c);null!==p&&(!(p.expirationTime>t)||e&&!j());){var i=p.callback;if("function"==typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&o(c),y(t)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&z(w,u.startTime-t),l=!1}return l}finally{p=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,N=null,C=-1,T=5,_=-1;function j(){return!(n.unstable_now()-_<T)}function A(){if(null!==N){var e=n.unstable_now();_=e;var t=!0;try{t=N(!0,e)}finally{t?S():(E=!1,N=null)}}else E=!1}if("function"==typeof x)S=function(){x(A)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){v(A,0)};function L(e){N=e,E||(E=!0,S())}function z(e,t){C=v(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){g||h||(g=!0,L(k))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},n.unstable_scheduleCallback=function(e,o,a){var i=n.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?i+a:i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,t(d,e),null===r(c)&&e===r(d)&&(m?(b(C),C=-1):m=!0,z(w,a-i))):(e.sortIndex=s,t(c,e),g||h||(g=!0,L(k))),e},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}},526:(e,n)=>{"use strict";n.byteLength=function(e){var n=s(e),t=n[0],r=n[1];return 3*(t+r)/4-r},n.toByteArray=function(e){var n,t,a=s(e),i=a[0],l=a[1],c=new o(function(e,n,t){return 3*(n+t)/4-t}(0,i,l)),d=0,u=l>0?i-4:i;for(t=0;t<u;t+=4)n=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],c[d++]=n>>16&255,c[d++]=n>>8&255,c[d++]=255&n;return 2===l&&(n=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,c[d++]=255&n),1===l&&(n=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,c[d++]=n>>8&255,c[d++]=255&n),c},n.fromByteArray=function(e){for(var n,r=e.length,o=r%3,a=[],i=16383,s=0,l=r-o;s<l;s+=i)a.push(c(e,s,s+i>l?l:s+i));return 1===o?(n=e[r-1],a.push(t[n>>2]+t[n<<4&63]+"==")):2===o&&(n=(e[r-2]<<8)+e[r-1],a.push(t[n>>10]+t[n>>4&63]+t[n<<2&63]+"=")),a.join("")};for(var t=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)t[i]=a[i],r[a.charCodeAt(i)]=i;function s(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=n),[t,t===n?0:4-t%4]}function l(e){return t[e>>18&63]+t[e>>12&63]+t[e>>6&63]+t[63&e]}function c(e,n,t){for(var r,o=[],a=n;a<t;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(l(r));return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},540:(e,n,t)=>{"use strict";e.exports=t(287)},551:(e,n,t)=>{"use strict";var r=t(540),o=t(982);function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(s[e]=n,e=0;e<n.length;e++)i.add(n[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(e,n,t,r,o,a,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];m[n]=new g(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,n,t,r){var o=m.hasOwnProperty(n)?m[n]:null;(null!==o?0!==o.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null==n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,o,r)&&(t=null),r||null===o?function(e){return!!u.call(h,e)||!u.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=null===t?3!==o.type&&"":t:(n=o.attributeName,r=o.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(v,b);m[n]=new g(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(v,b);m[n]=new g(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(v,b);m[n]=new g(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var M,F=Object.assign;function O(e){if(void 0===M)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||""}return"\n"+M+e}var D=!1;function B(e,n){if(!e||D)return"";D=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var o=n.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?O(e):""}function $(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(n=e.displayName||null)?n:U(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return U(e(n))}catch(e){}}return null}function W(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(n);case 8:return n===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function H(e){e._valueTracker||(e._valueTracker=function(e){var n=G(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var o=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function K(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return F({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function q(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=V(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function X(e,n){null!=(n=n.checked)&&x(e,"checked",n,!1)}function J(e,n){X(e,n);var t=V(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,V(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&Q(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&r&&(e[t].defaultSelected=!0)}else{for(t=""+V(t),n=null,o=0;o<e.length;o++){if(e[o].value===t)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(a(91));return F({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(a(92));if(ne(t)){if(1<t.length)throw Error(a(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:V(t)}}function ae(e,n){var t=V(n.value),r=V(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||fe.hasOwnProperty(e)&&fe[e]?(""+n).trim():n+"px"}function me(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=ge(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,o):e[t]=o}}Object.keys(fe).forEach(function(e){he.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fe[n]=fe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,n){if(n){if(ve[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(a(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(a(62))}}function xe(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ne(e){if(e=yo(e)){if("function"!=typeof ke)throw Error(a(280));var n=e.stateNode;n&&(n=ko(n),ke(e.stateNode,e.type,n))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,n=Ee;if(Ee=Se=null,Ne(e),n)for(e=0;e<n.length;e++)Ne(n[e])}}function _e(e,n){return e(n)}function je(){}var Ae=!1;function Ie(e,n,t){if(Ae)return e(n,t);Ae=!0;try{return _e(e,n,t)}finally{Ae=!1,(null!==Se||null!==Ee)&&(je(),Te())}}function Re(e,n){var t=e.stateNode;if(null===t)return null;var r=ko(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(a(231,n,typeof t));return t}var Le=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Le=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(de){Le=!1}function Pe(e,n,t,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(e){this.onError(e)}}var Me=!1,Fe=null,Oe=!1,De=null,Be={onError:function(e){Me=!0,Fe=e}};function $e(e,n,t,r,o,a,i,s,l){Me=!1,Fe=null,Pe.apply(Be,arguments)}function Ue(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function We(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ue(e)))throw Error(a(188));return n!==e?null:e}for(var t=e,r=n;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Ve(o),e;if(i===r)return Ve(o),n;i=i.sibling}throw Error(a(188))}if(t.return!==r.return)t=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===t){s=!0,t=o,r=i;break}if(l===r){s=!0,r=o,t=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===t){s=!0,t=i,r=o;break}if(l===r){s=!0,r=i,t=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(t.alternate!==r)throw Error(a(190))}if(3!==t.tag)throw Error(a(188));return t.stateNode.current===t?e:n}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=He(e);if(null!==n)return n;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,qe=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,en=o.unstable_UserBlockingPriority,nn=o.unstable_NormalPriority,tn=o.unstable_LowPriority,rn=o.unstable_IdlePriority,on=null,an=null,sn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2,dn=64,un=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var s=i&~o;0!==s?r=pn(s):0!==(a&=i)&&(r=pn(a))}else 0!==(i=t&~o)?r=pn(i):0!==a&&(r=pn(a));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&o)&&((o=r&-r)>=(a=n&-n)||16===o&&4194240&a))return n;if(4&r&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)o=1<<(t=31-sn(n)),r|=e[t],n&=~o;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function gn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function vn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function bn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=t}function xn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-sn(t),o=1<<r;o&n|e[r]&n&&(e[r]|=n),t&=~o}}var yn=0;function wn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kn,Sn,En,Nn,Cn,Tn=!1,_n=[],jn=null,An=null,In=null,Rn=new Map,Ln=new Map,zn=[],Pn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mn(e,n){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Rn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(n.pointerId)}}function Fn(e,n,t,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==n&&null!==(n=yo(n))&&Sn(n),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function On(e){var n=xo(e.target);if(null!==n){var t=Ue(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=We(t)))return e.blockedOn=n,void Cn(e.priority,function(){En(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Dn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=qn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=yo(t))&&Sn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);ye=r,t.target.dispatchEvent(r),ye=null,n.shift()}return!0}function Bn(e,n,t){Dn(e)&&t.delete(n)}function $n(){Tn=!1,null!==jn&&Dn(jn)&&(jn=null),null!==An&&Dn(An)&&(An=null),null!==In&&Dn(In)&&(In=null),Rn.forEach(Bn),Ln.forEach(Bn)}function Un(e,n){e.blockedOn===n&&(e.blockedOn=null,Tn||(Tn=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$n)))}function Wn(e){function n(n){return Un(n,e)}if(0<_n.length){Un(_n[0],e);for(var t=1;t<_n.length;t++){var r=_n[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jn&&Un(jn,e),null!==An&&Un(An,e),null!==In&&Un(In,e),Rn.forEach(n),Ln.forEach(n),t=0;t<zn.length;t++)(r=zn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&null===(t=zn[0]).blockedOn;)On(t),null===t.blockedOn&&zn.shift()}var Vn=y.ReactCurrentBatchConfig,Gn=!0;function Hn(e,n,t,r){var o=yn,a=Vn.transition;Vn.transition=null;try{yn=1,Qn(e,n,t,r)}finally{yn=o,Vn.transition=a}}function Kn(e,n,t,r){var o=yn,a=Vn.transition;Vn.transition=null;try{yn=4,Qn(e,n,t,r)}finally{yn=o,Vn.transition=a}}function Qn(e,n,t,r){if(Gn){var o=qn(e,n,t,r);if(null===o)Vr(e,n,r,Yn,t),Mn(e,r);else if(function(e,n,t,r,o){switch(n){case"focusin":return jn=Fn(jn,e,n,t,r,o),!0;case"dragenter":return An=Fn(An,e,n,t,r,o),!0;case"mouseover":return In=Fn(In,e,n,t,r,o),!0;case"pointerover":var a=o.pointerId;return Rn.set(a,Fn(Rn.get(a)||null,e,n,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Ln.set(a,Fn(Ln.get(a)||null,e,n,t,r,o)),!0}return!1}(o,e,n,t,r))r.stopPropagation();else if(Mn(e,r),4&n&&-1<Pn.indexOf(e)){for(;null!==o;){var a=yo(o);if(null!==a&&kn(a),null===(a=qn(e,n,t,r))&&Vr(e,n,r,Yn,t),a===o)break;o=a}null!==o&&r.stopPropagation()}else Vr(e,n,r,null,t)}}var Yn=null;function qn(e,n,t,r){if(Yn=null,null!==(e=xo(e=we(r))))if(null===(n=Ue(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=We(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Xn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,r=t.length,o="value"in Jn?Jn.value:Jn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return et=o.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function ot(){return!1}function at(e){function n(n,t,r,o,a){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rt:ot,this.isPropagationStopped=ot,this}return F(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,st,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=at(ct),ut=F({},ct,{view:0,detail:0}),pt=at(ut),ft=F({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(it=e.screenX-lt.screenX,st=e.screenY-lt.screenY):st=it=0,lt=e),it)},movementY:function(e){return"movementY"in e?e.movementY:st}}),ht=at(ft),gt=at(F({},ft,{dataTransfer:0})),mt=at(F({},ut,{relatedTarget:0})),vt=at(F({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),bt=F({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xt=at(bt),yt=at(F({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=St[e])&&!!n[e]}function Nt(){return Et}var Ct=F({},ut,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nt,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tt=at(Ct),_t=at(F({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jt=at(F({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nt})),At=at(F({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),It=F({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rt=at(It),Lt=[9,13,27,32],zt=d&&"CompositionEvent"in window,Pt=null;d&&"documentMode"in document&&(Pt=document.documentMode);var Mt=d&&"TextEvent"in window&&!Pt,Ft=d&&(!zt||Pt&&8<Pt&&11>=Pt),Ot=String.fromCharCode(32),Dt=!1;function Bt(e,n){switch(e){case"keyup":return-1!==Lt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $t(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ut=!1,Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Wt[e.type]:"textarea"===n}function Gt(e,n,t,r){Ce(r),0<(n=Hr(n,"onChange")).length&&(t=new dt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ht=null,Kt=null;function Qt(e){Or(e,0)}function Yt(e){if(K(wo(e)))return e}function qt(e,n){if("change"===e)return n}var Xt=!1;if(d){var Jt;if(d){var Zt="oninput"in document;if(!Zt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zt="function"==typeof er.oninput}Jt=Zt}else Jt=!1;Xt=Jt&&(!document.documentMode||9<document.documentMode)}function nr(){Ht&&(Ht.detachEvent("onpropertychange",tr),Kt=Ht=null)}function tr(e){if("value"===e.propertyName&&Yt(Kt)){var n=[];Gt(n,Kt,e,we(e)),Ie(Qt,n)}}function rr(e,n,t){"focusin"===e?(nr(),Kt=t,(Ht=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(Kt)}function ar(e,n){if("click"===e)return Yt(n)}function ir(e,n){if("input"===e||"change"===e)return Yt(n)}var sr="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function lr(e,n){if(sr(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!u.call(n,o)||!sr(e[o],n[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?ur(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function pr(){for(var e=window,n=Q();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=Q((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=pr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&ur(t.ownerDocument.documentElement,t)){if(null!==r&&fr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=dr(t,a);var i=dr(t,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,br=null,xr=!1;function yr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;xr||null==mr||mr!==Q(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Hr(vr,"onSelect")).length&&(n=new dt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=mr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Nr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var n,t=kr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Er)return Sr[e]=t[n];return e}d&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Nr("animationend"),Tr=Nr("animationiteration"),_r=Nr("animationstart"),jr=Nr("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,n){Ar.set(e,n),l(n,[e])}for(var Lr=0;Lr<Ir.length;Lr++){var zr=Ir[Lr];Rr(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,o,i,s,l,c){if($e.apply(this,arguments),Me){if(!Me)throw Error(a(198));var d=Fe;Me=!1,Fe=null,Oe||(Oe=!0,De=d)}}(r,n,void 0,e),e.currentTarget=null}function Or(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],o=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Fr(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Fr(o,s,c),a=l}}}if(Oe)throw e=De,Oe=!1,De=null,e}function Dr(e,n){var t=n[mo];void 0===t&&(t=n[mo]=new Set);var r=e+"__bubble";t.has(r)||(Wr(n,e,2,!1),t.add(r))}function Br(e,n,t){var r=0;n&&(r|=4),Wr(t,e,r,n)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,i.forEach(function(n){"selectionchange"!==n&&(Mr.has(n)||Br(n,!1,e),Br(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[$r]||(n[$r]=!0,Br("selectionchange",!1,n))}}function Wr(e,n,t,r){switch(Xn(n)){case 1:var o=Hn;break;case 4:o=Kn;break;default:o=Qn}t=o.bind(null,n,t,e),o=void 0,!Le||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(o=!0),r?void 0!==o?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):void 0!==o?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function Vr(e,n,t,r,o){var a=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=xo(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}Ie(function(){var r=a,o=we(t),i=[];e:{var s=Ar.get(e);if(void 0!==s){var l=dt,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=Tt;break;case"focusin":c="focus",l=mt;break;case"focusout":c="blur",l=mt;break;case"beforeblur":case"afterblur":l=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jt;break;case Cr:case Tr:case _r:l=vt;break;case jr:l=At;break;case"scroll":l=pt;break;case"wheel":l=Rt;break;case"copy":case"cut":case"paste":l=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_t}var d=!!(4&n),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var f,h=r;null!==h;){var g=(f=h).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==p&&null!=(g=Re(h,p))&&d.push(Gr(h,g,f))),u)break;h=h.return}0<d.length&&(s=new l(s,c,null,t,o),i.push({event:s,listeners:d}))}}if(!(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===ye||!(c=t.relatedTarget||t.fromElement)||!xo(c)&&!c[go])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?xo(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=ht,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=_t,g="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?s:wo(l),f=null==c?s:wo(c),(s=new d(g,h+"leave",l,t,o)).target=u,s.relatedTarget=f,g=null,xo(o)===r&&((d=new d(p,h+"enter",c,t,o)).target=f,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(p=c,h=0,f=d=l;f;f=Kr(f))h++;for(f=0,g=p;g;g=Kr(g))f++;for(;0<h-f;)d=Kr(d),h--;for(;0<f-h;)p=Kr(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Kr(d),p=Kr(p)}d=null}else d=null;null!==l&&Qr(i,s,l,d,!1),null!==c&&null!==u&&Qr(i,u,c,d,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=qt;else if(Vt(s))if(Xt)m=ir;else{m=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gt(i,m,t,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wo(r):window,e){case"focusin":(Vt(v)||"true"===v.contentEditable)&&(mr=v,vr=r,br=null);break;case"focusout":br=vr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,yr(i,t,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":yr(i,t,o)}var b;if(zt)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ut?Bt(e,t)&&(x="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(x="onCompositionStart");x&&(Ft&&"ko"!==t.locale&&(Ut||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ut&&(b=nt()):(Zn="value"in(Jn=o)?Jn.value:Jn.textContent,Ut=!0)),0<(v=Hr(r,x)).length&&(x=new yt(x,e,null,t,o),i.push({event:x,listeners:v}),(b||null!==(b=$t(t)))&&(x.data=b))),(b=Mt?function(e,n){switch(e){case"compositionend":return $t(n);case"keypress":return 32!==n.which?null:(Dt=!0,Ot);case"textInput":return(e=n.data)===Ot&&Dt?null:e;default:return null}}(e,t):function(e,n){if(Ut)return"compositionend"===e||!zt&&Bt(e,n)?(e=nt(),et=Zn=Jn=null,Ut=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ft&&"ko"!==n.locale?null:n.data}}(e,t))&&0<(r=Hr(r,"onBeforeInput")).length&&(o=new yt("onBeforeInput","beforeinput",null,t,o),i.push({event:o,listeners:r}),o.data=b)}Or(i,n)})}function Gr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Hr(e,n){for(var t=n+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Re(e,t))&&r.unshift(Gr(e,a,o)),null!=(a=Re(e,n))&&r.push(Gr(e,a,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,n,t,r,o){for(var a=n._reactName,i=[];null!==t&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Re(t,a))&&i.unshift(Gr(t,l,s)):o||null!=(l=Re(t,a))&&i.push(Gr(t,l,s))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Yr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(qr,"")}function Jr(e,n,t){if(n=Xr(n),Xr(e)!==n&&t)throw Error(a(425))}function Zr(){}var eo=null,no=null;function to(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,n){var t=n,r=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&8===o.nodeType)if("/$"===(t=o.data)){if(0===r)return e.removeChild(o),void Wn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=o}while(t);Wn(n)}function co(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function uo(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,go="__reactContainer$"+po,mo="__reactEvents$"+po,vo="__reactListeners$"+po,bo="__reactHandles$"+po;function xo(e){var n=e[fo];if(n)return n;for(var t=e.parentNode;t;){if(n=t[go]||t[fo]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=uo(e);null!==e;){if(t=e[fo])return t;e=uo(e)}return n}t=(e=t).parentNode}return null}function yo(e){return!(e=e[fo]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ko(e){return e[ho]||null}var So=[],Eo=-1;function No(e){return{current:e}}function Co(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function To(e,n){Eo++,So[Eo]=e.current,e.current=n}var _o={},jo=No(_o),Ao=No(!1),Io=_o;function Ro(e,n){var t=e.type.contextTypes;if(!t)return _o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in t)a[o]=n[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Lo(e){return null!=e.childContextTypes}function zo(){Co(Ao),Co(jo)}function Po(e,n,t){if(jo.current!==_o)throw Error(a(168));To(jo,n),To(Ao,t)}function Mo(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in n))throw Error(a(108,W(e)||"Unknown",o));return F({},t,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,Io=jo.current,To(jo,e),To(Ao,Ao.current),!0}function Oo(e,n,t){var r=e.stateNode;if(!r)throw Error(a(169));t?(e=Mo(e,n,Io),r.__reactInternalMemoizedMergedChildContext=e,Co(Ao),Co(jo),To(jo,e)):Co(Ao),To(Ao,t)}var Do=null,Bo=!1,$o=!1;function Uo(e){null===Do?Do=[e]:Do.push(e)}function Wo(){if(!$o&&null!==Do){$o=!0;var e=0,n=yn;try{var t=Do;for(yn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Do=null,Bo=!1}catch(n){throw null!==Do&&(Do=Do.slice(e+1)),Ke(Ze,Wo),n}finally{yn=n,$o=!1}}return null}var Vo=[],Go=0,Ho=null,Ko=0,Qo=[],Yo=0,qo=null,Xo=1,Jo="";function Zo(e,n){Vo[Go++]=Ko,Vo[Go++]=Ho,Ho=e,Ko=n}function ea(e,n,t){Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=qo,qo=e;var r=Xo;e=Jo;var o=32-sn(r)-1;r&=~(1<<o),t+=1;var a=32-sn(n)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-sn(n)+o|t<<o|r,Jo=a+e}else Xo=1<<a|t<<o|r,Jo=e}function na(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ta(e){for(;e===Ho;)Ho=Vo[--Go],Vo[Go]=null,Ko=Vo[--Go],Vo[Go]=null;for(;e===qo;)qo=Qo[--Yo],Qo[Yo]=null,Jo=Qo[--Yo],Qo[Yo]=null,Xo=Qo[--Yo],Qo[Yo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,n){var t=Ic(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function la(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ra=e,oa=co(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ra=e,oa=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==qo?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Ic(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ra=e,oa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function da(e){if(aa){var n=oa;if(n){var t=n;if(!la(e,n)){if(ca(e))throw Error(a(418));n=co(t.nextSibling);var r=ra;n&&la(e,n)?sa(r,t):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function pa(e){if(e!==ra)return!1;if(!aa)return ua(e),aa=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!to(e.type,e.memoizedProps)),n&&(n=oa)){if(ca(e))throw fa(),Error(a(418));for(;n;)sa(e,n),n=co(n.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){oa=co(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function ga(e){null===ia?ia=[e]:ia.push(e)}var ma=y.ReactCurrentBatchConfig;function va(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(a(309));var r=t.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=o.refs;null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!=typeof e)throw Error(a(284));if(!t._owner)throw Error(a(290,e))}return e}function ba(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ya(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=Lc(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Fc(t,e.mode,r)).return=e,n):((n=o(n,t)).return=e,n)}function c(e,n,t,r){var a=t.type;return a===S?u(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===R&&xa(a)===n.type)?((r=o(n,t.props)).ref=va(e,n,t),r.return=e,r):((r=zc(t.type,t.key,t.props,null,e.mode,r)).ref=va(e,n,t),r.return=e,r)}function d(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Oc(t,e.mode,r)).return=e,n):((n=o(n,t.children||[])).return=e,n)}function u(e,n,t,r,a){return null===n||7!==n.tag?((n=Pc(t,e.mode,r,a)).return=e,n):((n=o(n,t)).return=e,n)}function p(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Fc(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return(t=zc(n.type,n.key,n.props,null,e.mode,t)).ref=va(e,null,n),t.return=e,t;case k:return(n=Oc(n,e.mode,t)).return=e,n;case R:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||P(n))return(n=Pc(n,e.mode,t,null)).return=e,n;ba(e,n)}return null}function f(e,n,t,r){var o=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==o?null:l(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===o?c(e,n,t,r):null;case k:return t.key===o?d(e,n,t,r):null;case R:return f(e,n,(o=t._init)(t._payload),r)}if(ne(t)||P(t))return null!==o?null:u(e,n,t,r,null);ba(e,t)}return null}function h(e,n,t,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(n,e=e.get(t)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(n,e=e.get(null===r.key?t:r.key)||null,r,o);case k:return d(n,e=e.get(null===r.key?t:r.key)||null,r,o);case R:return h(e,n,t,(0,r._init)(r._payload),o)}if(ne(r)||P(r))return u(n,e=e.get(t)||null,r,o,null);ba(n,r)}return null}function g(o,a,s,l){for(var c=null,d=null,u=a,g=a=0,m=null;null!==u&&g<s.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var v=f(o,u,s[g],l);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&n(o,u),a=i(v,a,g),null===d?c=v:d.sibling=v,d=v,u=m}if(g===s.length)return t(o,u),aa&&Zo(o,g),c;if(null===u){for(;g<s.length;g++)null!==(u=p(o,s[g],l))&&(a=i(u,a,g),null===d?c=u:d.sibling=u,d=u);return aa&&Zo(o,g),c}for(u=r(o,u);g<s.length;g++)null!==(m=h(u,o,g,s[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),a=i(m,a,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return n(o,e)}),aa&&Zo(o,g),c}function m(o,s,l,c){var d=P(l);if("function"!=typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,g=s,m=s=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var x=f(o,g,b.value,c);if(null===x){null===g&&(g=v);break}e&&g&&null===x.alternate&&n(o,g),s=i(x,s,m),null===u?d=x:u.sibling=x,u=x,g=v}if(b.done)return t(o,g),aa&&Zo(o,m),d;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=p(o,b.value,c))&&(s=i(b,s,m),null===u?d=b:u.sibling=b,u=b);return aa&&Zo(o,m),d}for(g=r(o,g);!b.done;m++,b=l.next())null!==(b=h(g,o,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=i(b,s,m),null===u?d=b:u.sibling=b,u=b);return e&&g.forEach(function(e){return n(o,e)}),aa&&Zo(o,m),d}return function e(r,a,i,l){if("object"==typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===S){if(7===d.tag){t(r,d.sibling),(a=o(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===R&&xa(c)===d.type){t(r,d.sibling),(a=o(d,i.props)).ref=va(r,d,i),a.return=r,r=a;break e}t(r,d);break}n(r,d),d=d.sibling}i.type===S?((a=Pc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=zc(i.type,i.key,i.props,null,r.mode,l)).ref=va(r,a,i),l.return=r,r=l)}return s(r);case k:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){t(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Oc(i,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(d=i._init)(i._payload),l)}if(ne(i))return g(r,a,i,l);if(P(i))return m(r,a,i,l);ba(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==a&&6===a.tag?(t(r,a.sibling),(a=o(a,i)).return=r,r=a):(t(r,a),(a=Fc(i,r.mode,l)).return=r,r=a),s(r)):t(r,a)}}var wa=ya(!0),ka=ya(!1),Sa=No(null),Ea=null,Na=null,Ca=null;function Ta(){Ca=Na=Ea=null}function _a(e){var n=Sa.current;Co(Sa),e._currentValue=n}function ja(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Aa(e,n){Ea=e,Ca=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(xs=!0),e.firstContext=null)}function Ia(e){var n=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:n,next:null},null===Na){if(null===Ea)throw Error(a(308));Na=e,Ea.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return n}var Ra=null;function La(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,n,t,r){var o=n.interleaved;return null===o?(t.next=t,La(n)):(t.next=o.next,o.next=t),n.interleaved=t,Pa(e,r)}function Pa(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Ma=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ba(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&_l){var o=r.pending;return null===o?n.next=n:(n.next=o.next,o.next=n),r.pending=n,Pa(e,t)}return null===(o=r.interleaved)?(n.next=n,La(r)):(n.next=o.next,o.next=n),r.interleaved=n,Pa(e,t)}function $a(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}function Ua(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?o=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?o=a=n:a=a.next=n}else o=a=n;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Wa(e,n,t,r){var o=e.updateQueue;Ma=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l)}if(null!==a){var u=o.baseState;for(i=0,d=c=l=null,s=a;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;switch(p=n,f=t,g.tag){case 1:if("function"==typeof(h=g.payload)){u=h.call(f,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=g.payload)?h.call(f,u,p):h))break e;u=F({},u,p);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(n=o.shared.interleaved)){o=n;do{i|=o.lane,o=o.next}while(o!==n)}else null===a&&(o.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=u}}function Va(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var Ga={},Ha=No(Ga),Ka=No(Ga),Qa=No(Ga);function Ya(e){if(e===Ga)throw Error(a(174));return e}function qa(e,n){switch(To(Qa,n),To(Ka,e),To(Ha,Ga),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Co(Ha),To(Ha,n)}function Xa(){Co(Ha),Co(Ka),Co(Qa)}function Ja(e){Ya(Qa.current);var n=Ya(Ha.current),t=le(n,e.type);n!==t&&(To(Ka,e),To(Ha,t))}function Za(e){Ka.current===e&&(Co(Ha),Co(Ka))}var ei=No(0);function ni(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var oi=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,di=!1,ui=!1,pi=0,fi=0;function hi(){throw Error(a(321))}function gi(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sr(e[t],n[t]))return!1;return!0}function mi(e,n,t,r,o,i){if(ii=i,si=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=t(r,o),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(a(301));i+=1,ci=li=null,n.updateQueue=null,oi.current=ns,e=t(r,o)}while(ui)}if(oi.current=Ji,n=null!==li&&null!==li.next,ii=0,ci=li=si=null,di=!1,n)throw Error(a(300));return e}function vi(){var e=0!==pi;return pi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function xi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var n=null===ci?si.memoizedState:ci.next;if(null!==n)ci=n,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function yi(e,n){return"function"==typeof n?n(e):n}function wi(e){var n=xi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=li,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,t.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,si.lanes|=u,Ml|=u}d=d.next}while(null!==d&&d!==i);null===c?s=r:c.next=l,sr(r,n.memoizedState)||(xs=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Ml|=i,o=o.next}while(o!==e)}else null===o&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function ki(e){var n=xi(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=t.dispatch,o=t.pending,i=n.memoizedState;if(null!==o){t.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,n.memoizedState)||(xs=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function Si(){}function Ei(e,n){var t=si,r=xi(),o=n(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,Mi(Ti.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==ci&&1&ci.memoizedState.tag){if(t.flags|=2048,Ii(9,Ci.bind(null,t,r,o,n),void 0,null),null===jl)throw Error(a(349));30&ii||Ni(t,n,o)}return o}function Ni(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Ci(e,n,t,r){n.value=t,n.getSnapshot=r,_i(n)&&ji(e)}function Ti(e,n,t){return t(function(){_i(n)&&ji(e)})}function _i(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sr(e,t)}catch(e){return!0}}function ji(e){var n=Pa(e,1);null!==n&&tc(n,e,1,-1)}function Ai(e){var n=bi();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n.queue=e,e=e.dispatch=Qi.bind(null,si,e),[n.memoizedState,e]}function Ii(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Ri(){return xi().memoizedState}function Li(e,n,t,r){var o=bi();si.flags|=e,o.memoizedState=Ii(1|n,t,void 0,void 0===r?null:r)}function zi(e,n,t,r){var o=xi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&gi(r,i.deps))return void(o.memoizedState=Ii(n,t,a,r))}si.flags|=e,o.memoizedState=Ii(1|n,t,a,r)}function Pi(e,n){return Li(8390656,8,e,n)}function Mi(e,n){return zi(2048,8,e,n)}function Fi(e,n){return zi(4,2,e,n)}function Oi(e,n){return zi(4,4,e,n)}function Di(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Bi(e,n,t){return t=null!=t?t.concat([e]):null,zi(4,4,Di.bind(null,n,e),t)}function $i(){}function Ui(e,n){var t=xi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&gi(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Wi(e,n){var t=xi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&gi(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Vi(e,n,t){return 21&ii?(sr(t,n)||(t=mn(),si.lanes|=t,Ml|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=t)}function Gi(e,n){var t=yn;yn=0!==t&&4>t?t:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),n()}finally{yn=t,ai.transition=r}}function Hi(){return xi().memoizedState}function Ki(e,n,t){var r=nc(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Yi(e)?qi(n,t):null!==(t=za(e,n,t,r))&&(tc(t,e,r,ec()),Xi(t,n,r))}function Qi(e,n,t){var r=nc(e),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))qi(n,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=a(i,t);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var l=n.interleaved;return null===l?(o.next=o,La(n)):(o.next=l.next,l.next=o),void(n.interleaved=o)}}catch(e){}null!==(t=za(e,n,o,r))&&(tc(t,e,r,o=ec()),Xi(t,n,r))}}function Yi(e){var n=e.alternate;return e===si||null!==n&&n===si}function qi(e,n){ui=di=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Xi(e,n,t){if(4194240&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}var Ji={readContext:Ia,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Ia,useCallback:function(e,n){return bi().memoizedState=[e,void 0===n?null:n],e},useContext:Ia,useEffect:Pi,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Li(4194308,4,Di.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Li(4194308,4,e,n)},useInsertionEffect:function(e,n){return Li(4,2,e,n)},useMemo:function(e,n){var t=bi();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=bi();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Ki.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Ai,useDebugValue:$i,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Ai(!1),n=e[0];return e=Gi.bind(null,e[1]),bi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=si,o=bi();if(aa){if(void 0===t)throw Error(a(407));t=t()}else{if(t=n(),null===jl)throw Error(a(349));30&ii||Ni(r,n,t)}o.memoizedState=t;var i={value:t,getSnapshot:n};return o.queue=i,Pi(Ti.bind(null,r,i,e),[e]),r.flags|=2048,Ii(9,Ci.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=bi(),n=jl.identifierPrefix;if(aa){var t=Jo;n=":"+n+"R"+(t=(Xo&~(1<<32-sn(Xo)-1)).toString(32)+t),0<(t=pi++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=fi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:Ui,useContext:Ia,useEffect:Mi,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Oi,useMemo:Wi,useReducer:wi,useRef:Ri,useState:function(){return wi(yi)},useDebugValue:$i,useDeferredValue:function(e){return Vi(xi(),li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],xi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ei,useId:Hi,unstable_isNewReconciler:!1},ns={readContext:Ia,useCallback:Ui,useContext:Ia,useEffect:Mi,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Oi,useMemo:Wi,useReducer:ki,useRef:Ri,useState:function(){return ki(yi)},useDebugValue:$i,useDeferredValue:function(e){var n=xi();return null===li?n.memoizedState=e:Vi(n,li.memoizedState,e)},useTransition:function(){return[ki(yi)[0],xi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ei,useId:Hi,unstable_isNewReconciler:!1};function ts(e,n){if(e&&e.defaultProps){for(var t in n=F({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function rs(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:F({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ec(),o=nc(e),a=Da(r,o);a.payload=n,null!=t&&(a.callback=t),null!==(n=Ba(e,a,o))&&(tc(n,e,o,r),$a(n,e,o))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ec(),o=nc(e),a=Da(r,o);a.tag=1,a.payload=n,null!=t&&(a.callback=t),null!==(n=Ba(e,a,o))&&(tc(n,e,o,r),$a(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ec(),r=nc(e),o=Da(t,r);o.tag=2,null!=n&&(o.callback=n),null!==(n=Ba(e,o,r))&&(tc(n,e,r,t),$a(n,e,r))}};function as(e,n,t,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!(n.prototype&&n.prototype.isPureReactComponent&&lr(t,r)&&lr(o,a))}function is(e,n,t){var r=!1,o=_o,a=n.contextType;return"object"==typeof a&&null!==a?a=Ia(a):(o=Lo(n)?Io:jo.current,a=(r=null!=(r=n.contextTypes))?Ro(e,o):_o),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=os,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function ss(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&os.enqueueReplaceState(n,n.state,null)}function ls(e,n,t,r){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs={},Fa(e);var a=n.contextType;"object"==typeof a&&null!==a?o.context=Ia(a):(a=Lo(n)?Io:jo.current,o.context=Ro(e,a)),o.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(rs(e,n,a,t),o.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(n=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&os.enqueueReplaceState(o,o.state,null),Wa(e,t,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,n){try{var t="",r=n;do{t+=$(r),r=r.return}while(r);var o=t}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:o,digest:null}}function ds(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function us(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,n,t){(t=Da(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Vl||(Vl=!0,Gl=r),us(0,n)},t}function hs(e,n,t){(t=Da(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=n.value;t.payload=function(){return r(o)},t.callback=function(){us(0,n)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(t.callback=function(){us(0,n),"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function gs(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(n,o)}else void 0===(o=r.get(n))&&(o=new Set,r.set(n,o));o.has(t)||(o.add(t),e=Nc.bind(null,e,n,t),n.then(e,e))}function ms(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function vs(e,n,t,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Da(-1,1)).tag=2,Ba(t,n,1))),t.lanes|=1),e)}var bs=y.ReactCurrentOwner,xs=!1;function ys(e,n,t,r){n.child=null===e?ka(n,null,t,r):wa(n,e.child,t,r)}function ws(e,n,t,r,o){t=t.render;var a=n.ref;return Aa(n,o),r=mi(e,n,t,r,a,o),t=vi(),null===e||xs?(aa&&t&&na(n),n.flags|=1,ys(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Vs(e,n,o))}function ks(e,n,t,r,o){if(null===e){var a=t.type;return"function"!=typeof a||Rc(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=zc(t.type,null,r,n,n.mode,o)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Ss(e,n,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&e.ref===n.ref)return Vs(e,n,o)}return n.flags|=1,(e=Lc(a,r)).ref=n.ref,e.return=n,n.child=e}function Ss(e,n,t,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===n.ref){if(xs=!1,n.pendingProps=r=a,0===(e.lanes&o))return n.lanes=e.lanes,Vs(e,n,o);131072&e.flags&&(xs=!0)}}return Cs(e,n,t,r,o)}function Es(e,n,t){var r=n.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&n.mode){if(!(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,To(Ll,Rl),Rl|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,To(Ll,Rl),Rl|=r}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Ll,Rl),Rl|=t;else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,To(Ll,Rl),Rl|=r;return ys(e,n,o,t),n.child}function Ns(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Cs(e,n,t,r,o){var a=Lo(t)?Io:jo.current;return a=Ro(n,a),Aa(n,o),t=mi(e,n,t,r,a,o),r=vi(),null===e||xs?(aa&&r&&na(n),n.flags|=1,ys(e,n,t,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Vs(e,n,o))}function Ts(e,n,t,r,o){if(Lo(t)){var a=!0;Fo(n)}else a=!1;if(Aa(n,o),null===n.stateNode)Ws(e,n),is(n,t,r),ls(n,t,r,o),r=!0;else if(null===e){var i=n.stateNode,s=n.memoizedProps;i.props=s;var l=i.context,c=t.contextType;c="object"==typeof c&&null!==c?Ia(c):Ro(n,c=Lo(t)?Io:jo.current);var d=t.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&ss(n,i,r,c),Ma=!1;var p=n.memoizedState;i.state=p,Wa(n,r,i,o),l=n.memoizedState,s!==r||p!==l||Ao.current||Ma?("function"==typeof d&&(rs(n,t,d,r),l=n.memoizedState),(s=Ma||as(n,t,s,r,p,l,c))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4194308)):("function"==typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"==typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Oa(e,n),s=n.memoizedProps,c=n.type===n.elementType?s:ts(n.type,s),i.props=c,u=n.pendingProps,p=i.context,l="object"==typeof(l=t.contextType)&&null!==l?Ia(l):Ro(n,l=Lo(t)?Io:jo.current);var f=t.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==u||p!==l)&&ss(n,i,r,l),Ma=!1,p=n.memoizedState,i.state=p,Wa(n,r,i,o);var h=n.memoizedState;s!==u||p!==h||Ao.current||Ma?("function"==typeof f&&(rs(n,t,f,r),h=n.memoizedState),(c=Ma||as(n,t,c,r,p,h,l)||!1)?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return _s(e,n,t,r,a,o)}function _s(e,n,t,r,o,a){Ns(e,n);var i=!!(128&n.flags);if(!r&&!i)return o&&Oo(n,t,!1),Vs(e,n,a);r=n.stateNode,bs.current=n;var s=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=wa(n,e.child,null,a),n.child=wa(n,null,s,a)):ys(e,n,s,a),n.memoizedState=r.state,o&&Oo(n,t,!0),n.child}function js(e){var n=e.stateNode;n.pendingContext?Po(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Po(0,n.context,!1),qa(e,n.containerInfo)}function As(e,n,t,r,o){return ha(),ga(o),n.flags|=256,ys(e,n,t,r),n.child}var Is,Rs,Ls,zs,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,n,t){var r,o=n.pendingProps,i=ei.current,s=!1,l=!!(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),To(ei,1&i),null===e)return da(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(1&n.mode?"$!"===e.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=o.children,e=o.fallback,s?(o=n.mode,s=n.child,l={mode:"hidden",children:l},1&o||null===s?s=Mc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Pc(e,o,t,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Ms(t),n.memoizedState=Ps,e):Os(n,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,o,i,s){if(t)return 256&n.flags?(n.flags&=-257,Ds(e,n,s,r=ds(Error(a(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,o=n.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(i=Pc(i,o,s,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,1&n.mode&&wa(n,e.child,null,s),n.child.memoizedState=Ms(s),n.memoizedState=Ps,i);if(!(1&n.mode))return Ds(e,n,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ds(e,n,s,r=ds(i=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=jl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Pa(e,o),tc(r,e,o,-1))}return gc(),Ds(e,n,s,r=ds(Error(a(421))))}return"$?"===o.data?(n.flags|=128,n.child=e.child,n=Tc.bind(null,e),o._reactRetry=n,null):(e=i.treeContext,oa=co(o.nextSibling),ra=n,aa=!0,ia=null,null!==e&&(Qo[Yo++]=Xo,Qo[Yo++]=Jo,Qo[Yo++]=qo,Xo=e.id,Jo=e.overflow,qo=n),(n=Os(n,r.children)).flags|=4096,n)}(e,n,l,o,r,i,t);if(s){s=o.fallback,l=n.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||n.child===i?(o=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=n.child).childLanes=0,o.pendingProps=c,n.deletions=null),null!==r?s=Lc(r,s):(s=Pc(s,l,t,null)).flags|=2,s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,l=null===(l=e.child.memoizedState)?Ms(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~t,n.memoizedState=Ps,o}return e=(s=e.child).sibling,o=Lc(s,{mode:"visible",children:o.children}),!(1&n.mode)&&(o.lanes=t),o.return=n,o.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function Os(e,n){return(n=Mc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Ds(e,n,t,r){return null!==r&&ga(r),wa(n,e.child,null,t),(e=Os(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Bs(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),ja(e.return,n,t)}function $s(e,n,t,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function Us(e,n,t){var r=n.pendingProps,o=r.revealOrder,a=r.tail;if(ys(e,n,r.children,t),2&(r=ei.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,t,n);else if(19===e.tag)Bs(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(ei,r),1&n.mode)switch(o){case"forwards":for(t=n.child,o=null;null!==t;)null!==(e=t.alternate)&&null===ni(e)&&(o=t),t=t.sibling;null===(t=o)?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),$s(n,!1,o,t,a);break;case"backwards":for(t=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ni(e)){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}$s(n,!0,t,null,a);break;case"together":$s(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Ws(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Vs(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ml|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(a(153));if(null!==n.child){for(t=Lc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Lc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Gs(e,n){if(!aa)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Ks(e,n,t){var r=n.pendingProps;switch(ta(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(n),null;case 1:case 17:return Lo(n.type)&&zo(),Hs(n),null;case 3:return r=n.stateNode,Xa(),Co(Ao),Co(jo),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pa(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==ia&&(ic(ia),ia=null))),Rs(e,n),Hs(n),null;case 5:Za(n);var o=Ya(Qa.current);if(t=n.type,null!==e&&null!=n.stateNode)Ls(e,n,t,r,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(a(166));return Hs(n),null}if(e=Ya(Ha.current),pa(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[fo]=n,r[ho]=i,e=!!(1&n.mode),t){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)Dr(Pr[o],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":q(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":oe(r,i),Dr("invalid",r)}for(var l in be(t,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(t){case"input":H(r),Z(r,i,!0);break;case"textarea":H(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Zr)}r=o,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[fo]=n,e[ho]=r,Is(e,n,!1,!1),n.stateNode=e;e:{switch(l=xe(t,r),t){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)Dr(Pr[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":q(e,r),o=Y(e,r),Dr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Dr("invalid",e)}for(i in be(t,o),c=o)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?me(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"==typeof d?("textarea"!==t||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Dr("scroll",e):null!=d&&x(e,i,d,l))}switch(t){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Hs(n),null;case 6:if(e&&null!=n.stateNode)zs(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error(a(166));if(t=Ya(Qa.current),Ya(Ha.current),pa(n)){if(r=n.stateNode,t=n.memoizedProps,r[fo]=n,(i=r.nodeValue!==t)&&null!==(e=ra))switch(e.tag){case 3:Jr(r.nodeValue,t,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,t,!!(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[fo]=n,n.stateNode=r}return Hs(n),null;case 13:if(Co(ei),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&n.mode&&!(128&n.flags))fa(),ha(),n.flags|=98560,i=!1;else if(i=pa(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(a(317));i[fo]=n}else ha(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Hs(n),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=t,n):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,1&n.mode&&(null===e||1&ei.current?0===zl&&(zl=3):gc())),null!==n.updateQueue&&(n.flags|=4),Hs(n),null);case 4:return Xa(),Rs(e,n),null===e&&Ur(n.stateNode.containerInfo),Hs(n),null;case 10:return _a(n.type._context),Hs(n),null;case 19:if(Co(ei),null===(i=n.memoizedState))return Hs(n),null;if(r=!!(128&n.flags),null===(l=i.rendering))if(r)Gs(i,!1);else{if(0!==zl||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(l=ni(e))){for(n.flags|=128,Gs(i,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return To(ei,1&ei.current|2),n.child}e=e.sibling}null!==i.tail&&Xe()>Ul&&(n.flags|=128,r=!0,Gs(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ni(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Gs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Hs(n),null}else 2*Xe()-i.renderingStartTime>Ul&&1073741824!==t&&(n.flags|=128,r=!0,Gs(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=i.last)?t.sibling=l:n.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Xe(),n.sibling=null,t=ei.current,To(ei,r?1&t|2:1&t),n):(Hs(n),null);case 22:case 23:return uc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&1&n.mode?!!(1073741824&Rl)&&(Hs(n),6&n.subtreeFlags&&(n.flags|=8192)):Hs(n),null;case 24:case 25:return null}throw Error(a(156,n.tag))}function Qs(e,n){switch(ta(n),n.tag){case 1:return Lo(n.type)&&zo(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Xa(),Co(Ao),Co(jo),ri(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Za(n),null;case 13:if(Co(ei),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(a(340));ha()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Co(ei),null;case 4:return Xa(),null;case 10:return _a(n.type._context),null;case 22:case 23:return uc(),null;default:return null}}Is=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Rs=function(){},Ls=function(e,n,t,r){var o=e.memoizedProps;if(o!==r){e=n.stateNode,Ya(Ha.current);var a,i=null;switch(t){case"input":o=Y(e,o),r=Y(e,r),i=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(d in be(t,r),t=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(d,t)),t=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Dr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(n.updateQueue=d)&&(n.flags|=4)}},zs=function(e,n,t,r){t!==r&&(n.flags|=4)};var Ys=!1,qs=!1,Xs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ec(e,n,t)}else t.current=null}function el(e,n,t){try{t()}catch(t){Ec(e,n,t)}}var nl=!1;function tl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(n,t,a)}o=o.next}while(o!==r)}}function rl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function ol(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"==typeof n?n(e):n.current=e}}function al(e){var n=e.alternate;null!==n&&(e.alternate=null,al(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(n=e.stateNode)&&(delete n[fo],delete n[ho],delete n[mo],delete n[vo],delete n[bo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,n,t),e=e.sibling;null!==e;)ll(e,n,t),e=e.sibling}function cl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,n,t),e=e.sibling;null!==e;)cl(e,n,t),e=e.sibling}var dl=null,ul=!1;function pl(e,n,t){for(t=t.child;null!==t;)fl(e,n,t),t=t.sibling}function fl(e,n,t){if(an&&"function"==typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(on,t)}catch(e){}switch(t.tag){case 5:qs||Zs(t,n);case 6:var r=dl,o=ul;dl=null,pl(e,n,t),ul=o,null!==(dl=r)&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):dl.removeChild(t.stateNode));break;case 18:null!==dl&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?lo(e.parentNode,t):1===e.nodeType&&lo(e,t),Wn(e)):lo(dl,t.stateNode));break;case 4:r=dl,o=ul,dl=t.stateNode.containerInfo,ul=!0,pl(e,n,t),dl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!qs&&null!==(r=t.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&el(t,n,i),o=o.next}while(o!==r)}pl(e,n,t);break;case 1:if(!qs&&(Zs(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Ec(t,n,e)}pl(e,n,t);break;case 21:pl(e,n,t);break;case 22:1&t.mode?(qs=(r=qs)||null!==t.memoizedState,pl(e,n,t),qs=r):pl(e,n,t);break;default:pl(e,n,t)}}function hl(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Xs),n.forEach(function(n){var r=_c.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function gl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var o=t[r];try{var i=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));fl(i,s,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)ml(n,e),n=n.sibling}function ml(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(n,e),vl(e),4&r){try{tl(3,e,e.return),rl(3,e)}catch(n){Ec(e,e.return,n)}try{tl(5,e,e.return)}catch(n){Ec(e,e.return,n)}}break;case 1:gl(n,e),vl(e),512&r&&null!==t&&Zs(t,t.return);break;case 5:if(gl(n,e),vl(e),512&r&&null!==t&&Zs(t,t.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(n){Ec(e,e.return,n)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==t?t.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(o,i),xe(l,s);var d=xe(l,i);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?me(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):x(o,u,p,d)}switch(l){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?te(o,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?te(o,!!i.multiple,i.defaultValue,!0):te(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(n){Ec(e,e.return,n)}}break;case 6:if(gl(n,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(n){Ec(e,e.return,n)}}break;case 3:if(gl(n,e),vl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Wn(n.containerInfo)}catch(n){Ec(e,e.return,n)}break;case 4:default:gl(n,e),vl(e);break;case 13:gl(n,e),vl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||($l=Xe())),4&r&&hl(e);break;case 22:if(u=null!==t&&null!==t.memoizedState,1&e.mode?(qs=(d=qs)||u,gl(n,e),qs=d):gl(n,e),vl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Js=e,u=e.child;null!==u;){for(p=Js=u;null!==Js;){switch(h=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Zs(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){r=f,t=f.return;try{n=r,g.props=n.memoizedProps,g.state=n.memoizedState,g.componentWillUnmount()}catch(e){Ec(r,t,e)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==h?(h.return=f,Js=h):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(n){Ec(e,e.return,n)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(n){Ec(e,e.return,n)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(n,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(il(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(n){Ec(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function bl(e,n,t){Js=e,xl(e,n,t)}function xl(e,n,t){for(var r=!!(1&e.mode);null!==Js;){var o=Js,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Ys;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Ys;var c=qs;if(Ys=i,(qs=l)&&!c)for(Js=o;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?kl(o):null!==l?(l.return=i,Js=l):kl(o);for(;null!==a;)Js=a,xl(a,n,t),a=a.sibling;Js=o,Ys=s,qs=c}yl(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Js=a):yl(e)}}function yl(e){for(;null!==Js;){var n=Js;if(8772&n.flags){var t=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:qs||rl(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!qs)if(null===t)r.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:ts(n.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Va(n,i,r);break;case 3:var s=n.updateQueue;if(null!==s){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Va(n,s,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Wn(p)}}}break;default:throw Error(a(163))}qs||512&n.flags&&ol(n)}catch(e){Ec(n,n.return,e)}}if(n===e){Js=null;break}if(null!==(t=n.sibling)){t.return=n.return,Js=t;break}Js=n.return}}function wl(e){for(;null!==Js;){var n=Js;if(n===e){Js=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Js=t;break}Js=n.return}}function kl(e){for(;null!==Js;){var n=Js;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rl(4,n)}catch(e){Ec(n,t,e)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var o=n.return;try{r.componentDidMount()}catch(e){Ec(n,o,e)}}var a=n.return;try{ol(n)}catch(e){Ec(n,a,e)}break;case 5:var i=n.return;try{ol(n)}catch(e){Ec(n,i,e)}}}catch(e){Ec(n,n.return,e)}if(n===e){Js=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Js=s;break}Js=n.return}}var Sl,El=Math.ceil,Nl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Tl=y.ReactCurrentBatchConfig,_l=0,jl=null,Al=null,Il=0,Rl=0,Ll=No(0),zl=0,Pl=null,Ml=0,Fl=0,Ol=0,Dl=null,Bl=null,$l=0,Ul=1/0,Wl=null,Vl=!1,Gl=null,Hl=null,Kl=!1,Ql=null,Yl=0,ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 6&_l?Xe():-1!==Jl?Jl:Jl=Xe()}function nc(e){return 1&e.mode?2&_l&&0!==Il?Il&-Il:null!==ma.transition?(0===Zl&&(Zl=mn()),Zl):0!==(e=yn)?e:e=void 0===(e=window.event)?16:Xn(e.type):1}function tc(e,n,t,r){if(50<ql)throw ql=0,Xl=null,Error(a(185));bn(e,t,r),2&_l&&e===jl||(e===jl&&(!(2&_l)&&(Fl|=t),4===zl&&sc(e,Il)),rc(e,r),1===t&&0===_l&&!(1&n.mode)&&(Ul=Xe()+500,Bo&&Wo()))}function rc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-sn(a),s=1<<i,l=o[i];-1===l?0!==(s&t)&&0===(s&r)||(o[i]=hn(s,n)):l<=n&&(e.expiredLanes|=s),a&=~s}}(e,n);var r=fn(e,e===jl?Il:0);if(0===r)null!==t&&Qe(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Qe(t),1===n)0===e.tag?function(e){Bo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),io(function(){!(6&_l)&&Wo()}),t=null;else{switch(wn(r)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=jc(t,oc.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function oc(e,n){if(Jl=-1,Zl=0,6&_l)throw Error(a(327));var t=e.callbackNode;if(kc()&&e.callbackNode!==t)return null;var r=fn(e,e===jl?Il:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||n)n=mc(e,r);else{n=r;var o=_l;_l|=2;var i=hc();for(jl===e&&Il===n||(Wl=null,Ul=Xe()+500,pc(e,n));;)try{bc();break}catch(n){fc(e,n)}Ta(),Nl.current=i,_l=o,null!==Al?n=0:(jl=null,Il=0,n=zl)}if(0!==n){if(2===n&&0!==(o=gn(e))&&(r=o,n=ac(e,o)),1===n)throw t=Pl,pc(e,0),sc(e,r),rc(e,Xe()),t;if(6===n)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)||(n=mc(e,r),2===n&&(i=gn(e),0!==i&&(r=i,n=ac(e,i))),1!==n)))throw t=Pl,pc(e,0),sc(e,r),rc(e,Xe()),t;switch(e.finishedWork=o,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(n=$l+500-Xe())){if(0!==fn(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Bl,Wl),n);break}wc(e,Bl,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var s=31-sn(r);i=1<<s,(s=n[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===t?oc.bind(null,e):null}function ac(e,n){var t=Dl;return e.current.memoizedState.isDehydrated&&(pc(e,n).flags|=256),2!==(e=mc(e,n))&&(n=Bl,Bl=t,null!==n&&ic(n)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,n){for(n&=~Ol,n&=~Fl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-sn(n),r=1<<t;e[t]=-1,n&=~r}}function lc(e){if(6&_l)throw Error(a(327));kc();var n=fn(e,0);if(!(1&n))return rc(e,Xe()),null;var t=mc(e,n);if(0!==e.tag&&2===t){var r=gn(e);0!==r&&(n=r,t=ac(e,r))}if(1===t)throw t=Pl,pc(e,0),sc(e,n),rc(e,Xe()),t;if(6===t)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Bl,Wl),rc(e,Xe()),null}function cc(e,n){var t=_l;_l|=1;try{return e(n)}finally{0===(_l=t)&&(Ul=Xe()+500,Bo&&Wo())}}function dc(e){null!==Ql&&0===Ql.tag&&!(6&_l)&&kc();var n=_l;_l|=1;var t=Tl.transition,r=yn;try{if(Tl.transition=null,yn=1,e)return e()}finally{yn=r,Tl.transition=t,!(6&(_l=n))&&Wo()}}function uc(){Rl=Ll.current,Co(Ll)}function pc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,oo(t)),null!==Al)for(t=Al.return;null!==t;){var r=t;switch(ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&zo();break;case 3:Xa(),Co(Ao),Co(jo),ri();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:Co(ei);break;case 10:_a(r.type._context);break;case 22:case 23:uc()}t=t.return}if(jl=e,Al=e=Lc(e.current,null),Il=Rl=n,zl=0,Pl=null,Ol=Fl=Ml=0,Bl=Dl=null,null!==Ra){for(n=0;n<Ra.length;n++)if(null!==(r=(t=Ra[n]).interleaved)){t.interleaved=null;var o=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}t.pending=r}Ra=null}return e}function fc(e,n){for(;;){var t=Al;try{if(Ta(),oi.current=Ji,di){for(var r=si.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}di=!1}if(ii=0,ci=li=si=null,ui=!1,pi=0,Cl.current=null,null===t||null===t.return){zl=1,Pl=n,Al=null;break}e:{var i=e,s=t.return,l=t,c=n;if(n=Il,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,vs(h,s,l,0,n),1&h.mode&&gs(i,d,n),c=d;var g=(n=h).updateQueue;if(null===g){var m=new Set;m.add(c),n.updateQueue=m}else g.add(c);break e}if(!(1&n)){gs(i,d,n),gc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var v=ms(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,n),ga(cs(c,l));break e}}i=c=cs(c,l),4!==zl&&(zl=2),null===Dl?Dl=[i]:Dl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Ua(i,fs(0,c,n));break e;case 1:l=c;var b=i.type,x=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Hl&&Hl.has(x)))){i.flags|=65536,n&=-n,i.lanes|=n,Ua(i,hs(i,l,n));break e}}i=i.return}while(null!==i)}yc(t)}catch(e){n=e,Al===t&&null!==t&&(Al=t=t.return);continue}break}}function hc(){var e=Nl.current;return Nl.current=Ji,null===e?Ji:e}function gc(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===jl||!(268435455&Ml)&&!(268435455&Fl)||sc(jl,Il)}function mc(e,n){var t=_l;_l|=2;var r=hc();for(jl===e&&Il===n||(Wl=null,pc(e,n));;)try{vc();break}catch(n){fc(e,n)}if(Ta(),_l=t,Nl.current=r,null!==Al)throw Error(a(261));return jl=null,Il=0,zl}function vc(){for(;null!==Al;)xc(Al)}function bc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var n=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===n?yc(e):Al=n,Cl.current=null}function yc(e){var n=e;do{var t=n.alternate;if(e=n.return,32768&n.flags){if(null!==(t=Qs(t,n)))return t.flags&=32767,void(Al=t);if(null===e)return zl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(t=Ks(t,n,Rl)))return void(Al=t);if(null!==(n=n.sibling))return void(Al=n);Al=n=e}while(null!==n);0===zl&&(zl=5)}function wc(e,n,t){var r=yn,o=Tl.transition;try{Tl.transition=null,yn=1,function(e,n,t,r){do{kc()}while(null!==Ql);if(6&_l)throw Error(a(327));t=e.finishedWork;var o=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-sn(t),a=1<<o;n[o]=0,r[o]=-1,e[o]=-1,t&=~a}}(e,i),e===jl&&(Al=jl=null,Il=0),!(2064&t.subtreeFlags)&&!(2064&t.flags)||Kl||(Kl=!0,jc(nn,function(){return kc(),null})),i=!!(15990&t.flags),15990&t.subtreeFlags||i){i=Tl.transition,Tl.transition=null;var s=yn;yn=1;var l=_l;_l|=4,Cl.current=null,function(e,n){if(eo=Gn,fr(e=pr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,f=null;n:for(;;){for(var h;p!==t||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break n;if(f===t&&++d===o&&(l=s),f===i&&++u===r&&(c=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(no={focusedElem:e,selectionRange:t},Gn=!1,Js=n;null!==Js;)if(e=(n=Js).child,1028&n.subtreeFlags&&null!==e)e.return=n,Js=e;else for(;null!==Js;){n=Js;try{var g=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=n.stateNode,x=b.getSnapshotBeforeUpdate(n.elementType===n.type?m:ts(n.type,m),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=n.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(e){Ec(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,Js=e;break}Js=n.return}g=nl,nl=!1}(e,t),ml(t,e),hr(no),Gn=!!eo,no=eo=null,e.current=t,bl(t,e,o),qe(),_l=l,yn=s,Tl.transition=i}else e.current=t;if(Kl&&(Kl=!1,Ql=e,Yl=o),0===(i=e.pendingLanes)&&(Hl=null),function(e){if(an&&"function"==typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(on,e,void 0,!(128&~e.current.flags))}catch(e){}}(t.stateNode),rc(e,Xe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)r((o=n[t]).value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;!!(1&Yl)&&0!==e.tag&&kc(),1&(i=e.pendingLanes)?e===Xl?ql++:(ql=0,Xl=e):ql=0,Wo()}(e,n,t,r)}finally{Tl.transition=o,yn=r}return null}function kc(){if(null!==Ql){var e=wn(Yl),n=Tl.transition,t=yn;try{if(Tl.transition=null,yn=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,6&_l)throw Error(a(331));var o=_l;for(_l|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(16&Js.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Js=d;null!==Js;){var u=Js;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Js=p;else for(;null!==Js;){var f=(u=Js).sibling,h=u.return;if(al(u),u===d){Js=null;break}if(null!==f){f.return=h,Js=f;break}Js=h}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(2048&(i=Js).flags)switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Js=b;break e}Js=i.return}}var x=e.current;for(Js=x;null!==Js;){var y=(s=Js).child;if(2064&s.subtreeFlags&&null!==y)y.return=s,Js=y;else e:for(s=x;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(_l=o,Wo(),an&&"function"==typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(on,e)}catch(e){}r=!0}return r}finally{yn=t,Tl.transition=n}}return!1}function Sc(e,n,t){e=Ba(e,n=fs(0,n=cs(t,n),1),1),n=ec(),null!==e&&(bn(e,1,n),rc(e,n))}function Ec(e,n,t){if(3===e.tag)Sc(e,e,t);else for(;null!==n;){if(3===n.tag){Sc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){n=Ba(n,e=hs(n,e=cs(t,e),1),1),e=ec(),null!==n&&(bn(n,1,e),rc(n,e));break}}n=n.return}}function Nc(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&t,jl===e&&(Il&t)===t&&(4===zl||3===zl&&(130023424&Il)===Il&&500>Xe()-$l?pc(e,0):Ol|=t),rc(e,n)}function Cc(e,n){0===n&&(1&e.mode?(n=un,!(130023424&(un<<=1))&&(un=4194304)):n=1);var t=ec();null!==(e=Pa(e,n))&&(bn(e,n,t),rc(e,t))}function Tc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Cc(e,t)}function _c(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(t=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(n),Cc(e,t)}function jc(e,n){return Ke(e,n)}function Ac(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,n,t,r){return new Ac(e,n,t,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,n){var t=e.alternate;return null===t?((t=Ic(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function zc(e,n,t,r,o,i){var s=2;if(r=e,"function"==typeof e)Rc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Pc(t.children,o,i,n);case E:s=8,o|=8;break;case N:return(e=Ic(12,t,n,2|o)).elementType=N,e.lanes=i,e;case j:return(e=Ic(13,t,n,o)).elementType=j,e.lanes=i,e;case A:return(e=Ic(19,t,n,o)).elementType=A,e.lanes=i,e;case L:return Mc(t,o,i,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case _:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(n=Ic(s,t,n,o)).elementType=e,n.type=r,n.lanes=i,n}function Pc(e,n,t,r){return(e=Ic(7,e,r,n)).lanes=t,e}function Mc(e,n,t,r){return(e=Ic(22,e,r,n)).elementType=L,e.lanes=t,e.stateNode={isHidden:!1},e}function Fc(e,n,t){return(e=Ic(6,e,null,n)).lanes=t,e}function Oc(e,n,t){return(n=Ic(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Dc(e,n,t,r,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,n,t,r,o,a,i,s,l){return e=new Dc(e,n,t,s,l),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Ic(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function $c(e){if(!e)return _o;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Lo(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(a(171))}if(1===e.tag){var t=e.type;if(Lo(t))return Mo(e,t,n)}return n}function Uc(e,n,t,r,o,a,i,s,l){return(e=Bc(t,r,!0,e,0,a,0,s,l)).context=$c(null),t=e.current,(a=Da(r=ec(),o=nc(t))).callback=null!=n?n:null,Ba(t,a,o),e.current.lanes=o,bn(e,o,r),rc(e,r),e}function Wc(e,n,t,r){var o=n.current,a=ec(),i=nc(o);return t=$c(t),null===n.context?n.context=t:n.pendingContext=t,(n=Da(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Ba(o,n,i))&&(tc(e,o,i,a),$a(e,o,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Hc(e,n){Gc(e,n),(e=e.alternate)&&Gc(e,n)}Sl=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Ao.current)xs=!0;else{if(0===(e.lanes&t)&&!(128&n.flags))return xs=!1,function(e,n,t){switch(n.tag){case 3:js(n),ha();break;case 5:Ja(n);break;case 1:Lo(n.type)&&Fo(n);break;case 4:qa(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,o=n.memoizedProps.value;To(Sa,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(To(ei,1&ei.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Fs(e,n,t):(To(ei,1&ei.current),null!==(e=Vs(e,n,t))?e.sibling:null);To(ei,1&ei.current);break;case 19:if(r=0!==(t&n.childLanes),128&e.flags){if(r)return Us(e,n,t);n.flags|=128}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(ei,ei.current),r)break;return null;case 22:case 23:return n.lanes=0,Es(e,n,t)}return Vs(e,n,t)}(e,n,t);xs=!!(131072&e.flags)}else xs=!1,aa&&1048576&n.flags&&ea(n,Ko,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Ws(e,n),e=n.pendingProps;var o=Ro(n,jo.current);Aa(n,t),o=mi(null,n,r,e,o,t);var i=vi();return n.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Lo(r)?(i=!0,Fo(n)):i=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fa(n),o.updater=os,n.stateNode=o,o._reactInternals=n,ls(n,r,e,t),n=_s(null,n,r,!0,i,t)):(n.tag=0,aa&&i&&na(n),ys(null,n,o,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Ws(e,n),e=n.pendingProps,r=(o=r._init)(r._payload),n.type=r,o=n.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===I)return 14}return 2}(r),e=ts(r,e),o){case 0:n=Cs(null,n,r,e,t);break e;case 1:n=Ts(null,n,r,e,t);break e;case 11:n=ws(null,n,r,e,t);break e;case 14:n=ks(null,n,r,ts(r.type,e),t);break e}throw Error(a(306,r,""))}return n;case 0:return r=n.type,o=n.pendingProps,Cs(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 1:return r=n.type,o=n.pendingProps,Ts(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 3:e:{if(js(n),null===e)throw Error(a(387));r=n.pendingProps,o=(i=n.memoizedState).element,Oa(e,n),Wa(n,r,null,t);var s=n.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=As(e,n,r,t,o=cs(Error(a(423)),n));break e}if(r!==o){n=As(e,n,r,t,o=cs(Error(a(424)),n));break e}for(oa=co(n.stateNode.containerInfo.firstChild),ra=n,aa=!0,ia=null,t=ka(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ha(),r===o){n=Vs(e,n,t);break e}ys(e,n,r,t)}n=n.child}return n;case 5:return Ja(n),null===e&&da(n),r=n.type,o=n.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,to(r,o)?s=null:null!==i&&to(r,i)&&(n.flags|=32),Ns(e,n),ys(e,n,s,t),n.child;case 6:return null===e&&da(n),null;case 13:return Fs(e,n,t);case 4:return qa(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=wa(n,null,r,t):ys(e,n,r,t),n.child;case 11:return r=n.type,o=n.pendingProps,ws(e,n,r,o=n.elementType===r?o:ts(r,o),t);case 7:return ys(e,n,n.pendingProps,t),n.child;case 8:case 12:return ys(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,o=n.pendingProps,i=n.memoizedProps,s=o.value,To(Sa,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!Ao.current){n=Vs(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Da(-1,t&-t)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),ja(i.return,t,n),l.lanes|=t;break}c=c.next}}else if(10===i.tag)s=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=t,null!==(l=s.alternate)&&(l.lanes|=t),ja(s,t,n),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===n){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ys(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,r=n.pendingProps.children,Aa(n,t),r=r(o=Ia(o)),n.flags|=1,ys(e,n,r,t),n.child;case 14:return o=ts(r=n.type,n.pendingProps),ks(e,n,r,o=ts(r.type,o),t);case 15:return Ss(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,o=n.pendingProps,o=n.elementType===r?o:ts(r,o),Ws(e,n),n.tag=1,Lo(r)?(e=!0,Fo(n)):e=!1,Aa(n,t),is(n,r,o),ls(n,r,o,t),_s(null,n,r,!0,e,t);case 19:return Us(e,n,t);case 22:return Es(e,n,t)}throw Error(a(156,n.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,n,t,r,o){var a=t._reactRootContainer;if(a){var i=a;if("function"==typeof o){var s=o;o=function(){var e=Vc(i);s.call(e)}}Wc(n,i,e,o)}else i=function(e,n,t,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=Vc(i);a.call(e)}}var i=Uc(n,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[go]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[go]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc(function(){Wc(n,l,t,r)}),l}(t,n,e,o,r);return Vc(i)}Yc.prototype.render=Qc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(a(409));Wc(e,n,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc(function(){Wc(null,e,null,null)}),n[go]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Nn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<zn.length&&0!==n&&n<zn[t].priority;t++);zn.splice(t,0,e),0===t&&On(e)}},kn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(xn(n,1|t),rc(n,Xe()),!(6&_l)&&(Ul=Xe()+500,Wo()))}break;case 13:dc(function(){var n=Pa(e,1);if(null!==n){var t=ec();tc(n,e,1,t)}}),Hc(e,1)}},Sn=function(e){if(13===e.tag){var n=Pa(e,134217728);null!==n&&tc(n,e,134217728,ec()),Hc(e,134217728)}},En=function(e){if(13===e.tag){var n=nc(e),t=Pa(e,n);null!==t&&tc(t,e,n,ec()),Hc(e,n)}},Nn=function(){return yn},Cn=function(e,n){var t=yn;try{return yn=e,n()}finally{yn=t}},ke=function(e,n,t){switch(n){case"input":if(J(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(a(90));K(r),J(r,o)}}}break;case"textarea":ae(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},_e=cc,je=dc;var ed={usingClientEntryPoint:!1,Events:[yo,wo,ko,Ce,Te,cc]},nd={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{on=rd.inject(td),an=rd}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(n))throw Error(a(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!qc(e))throw Error(a(299));var t=!1,r="",o=Kc;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=Bc(e,1,!1,null,0,t,0,r,o),e[go]=n.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=Ge(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,t){if(!Xc(n))throw Error(a(200));return Zc(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!qc(e))throw Error(a(405));var r=null!=t&&t.hydratedSources||null,o=!1,i="",s=Kc;if(null!=t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),n=Uc(n,null,e,1,null!=t?t:null,o,0,i,s),e[go]=n.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o);return new Yc(n)},n.render=function(e,n,t){if(!Xc(n))throw Error(a(200));return Zc(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Xc(t))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,n,t,!1,r)},n.version="18.3.1-next-f1338f8080-20240426"},601:e=>{"use strict";e.exports=function(e){return e[1]}},606:e=>{var n,t,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{t="function"==typeof clearTimeout?clearTimeout:a}catch(e){t=a}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=i(u);c=!0;for(var n=l.length;n;){for(s=l,l=[];++d<n;)s&&s[d].run();d=-1,n=l.length}s=null,c=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===a||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function f(e,n){this.fun=e,this.array=n}function h(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new f(e,n)),1!==l.length||c||i(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},659:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},668:(e,n,t)=>{"use strict";const r=t(526),o=t(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.hp=l,n.IS=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const n=new Uint8Array(e);return Object.setPrototypeOf(n,l.prototype),n}function l(e,n,t){if("number"==typeof e){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,n,t)}function c(e,n,t){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const t=0|g(e,n);let r=s(t);const o=r.write(e,n);return o!==t&&(r=r.slice(0,o)),r}(e,n);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const n=new Uint8Array(e);return f(n.buffer,n.byteOffset,n.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return f(e,n,t);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,n,t);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,n,t);const o=function(e){if(l.isBuffer(e)){const n=0|h(e.length),t=s(n);return 0===t.length||e.copy(t,0,0,n),t}return void 0!==e.length?"number"!=typeof e.length||q(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|h(e))}function p(e){const n=e.length<0?0:0|h(e.length),t=s(n);for(let r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(e,n,t){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===n&&void 0===t?new Uint8Array(e):void 0===t?new Uint8Array(e,n):new Uint8Array(e,n,t),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function g(e,n){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const t=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===t)return 0;let o=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return K(e).length;default:if(o)return r?-1:H(e).length;n=(""+n).toLowerCase(),o=!0}}function m(e,n,t){let r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,n,t);case"utf8":case"utf-8":return C(this,n,t);case"ascii":return _(this,n,t);case"latin1":case"binary":return j(this,n,t);case"base64":return N(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,n,t);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function b(e,n,t,r,o){if(0===e.length)return-1;if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),q(t=+t)&&(t=o?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(o)return-1;t=e.length-1}else if(t<0){if(!o)return-1;t=0}if("string"==typeof n&&(n=l.from(n,r)),l.isBuffer(n))return 0===n.length?-1:x(e,n,t,r,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):x(e,[n],t,r,o);throw new TypeError("val must be string, number or Buffer")}function x(e,n,t,r,o){let a,i=1,s=e.length,l=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||n.length<2)return-1;i=2,s/=2,l/=2,t/=2}function c(e,n){return 1===i?e[n]:e.readUInt16BE(n*i)}if(o){let r=-1;for(a=t;a<s;a++)if(c(e,a)===c(n,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===l)return r*i}else-1!==r&&(a-=a-r),r=-1}else for(t+l>s&&(t=s-l),a=t;a>=0;a--){let t=!0;for(let r=0;r<l;r++)if(c(e,a+r)!==c(n,r)){t=!1;break}if(t)return a}return-1}function y(e,n,t,r){t=Number(t)||0;const o=e.length-t;r?(r=Number(r))>o&&(r=o):r=o;const a=n.length;let i;for(r>a/2&&(r=a/2),i=0;i<r;++i){const r=parseInt(n.substr(2*i,2),16);if(q(r))return i;e[t+i]=r}return i}function w(e,n,t,r){return Q(H(n,e.length-t),e,t,r)}function k(e,n,t,r){return Q(function(e){const n=[];for(let t=0;t<e.length;++t)n.push(255&e.charCodeAt(t));return n}(n),e,t,r)}function S(e,n,t,r){return Q(K(n),e,t,r)}function E(e,n,t,r){return Q(function(e,n){let t,r,o;const a=[];for(let i=0;i<e.length&&!((n-=2)<0);++i)t=e.charCodeAt(i),r=t>>8,o=t%256,a.push(o),a.push(r);return a}(n,e.length-t),e,t,r)}function N(e,n,t){return 0===n&&t===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(n,t))}function C(e,n,t){t=Math.min(e.length,t);const r=[];let o=n;for(;o<t;){const n=e[o];let a=null,i=n>239?4:n>223?3:n>191?2:1;if(o+i<=t){let t,r,s,l;switch(i){case 1:n<128&&(a=n);break;case 2:t=e[o+1],128==(192&t)&&(l=(31&n)<<6|63&t,l>127&&(a=l));break;case 3:t=e[o+1],r=e[o+2],128==(192&t)&&128==(192&r)&&(l=(15&n)<<12|(63&t)<<6|63&r,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:t=e[o+1],r=e[o+2],s=e[o+3],128==(192&t)&&128==(192&r)&&128==(192&s)&&(l=(15&n)<<18|(63&t)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,i=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=i}return function(e){const n=e.length;if(n<=T)return String.fromCharCode.apply(String,e);let t="",r=0;for(;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=T));return t}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,n,t){return c(e,n,t)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,n,t){return function(e,n,t){return d(e),e<=0?s(e):void 0!==n?"string"==typeof t?s(e).fill(n,t):s(e).fill(n):s(e)}(e,n,t)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,n){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Y(n,Uint8Array)&&(n=l.from(n,n.offset,n.byteLength)),!l.isBuffer(e)||!l.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let t=e.length,r=n.length;for(let o=0,a=Math.min(t,r);o<a;++o)if(e[o]!==n[o]){t=e[o],r=n[o];break}return t<r?-1:r<t?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let t;if(void 0===n)for(n=0,t=0;t<e.length;++t)n+=e[t].length;const r=l.allocUnsafe(n);let o=0;for(t=0;t<e.length;++t){let n=e[t];if(Y(n,Uint8Array))o+n.length>r.length?(l.isBuffer(n)||(n=l.from(n)),n.copy(r,o)):Uint8Array.prototype.set.call(r,n,o);else{if(!l.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(r,o)}o+=n.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)v(this,n,n+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)v(this,n,n+3),v(this,n+1,n+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)v(this,n,n+7),v(this,n+1,n+6),v(this,n+2,n+5),v(this,n+3,n+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const t=n.IS;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,n,t,r,o){if(Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===t&&(t=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||t>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=t)return 0;if(r>=o)return-1;if(n>=t)return 1;if(this===e)return 0;let a=(o>>>=0)-(r>>>=0),i=(t>>>=0)-(n>>>=0);const s=Math.min(a,i),c=this.slice(r,o),d=e.slice(n,t);for(let e=0;e<s;++e)if(c[e]!==d[e]){a=c[e],i=d[e];break}return a<i?-1:i<a?1:0},l.prototype.includes=function(e,n,t){return-1!==this.indexOf(e,n,t)},l.prototype.indexOf=function(e,n,t){return b(this,e,n,t,!0)},l.prototype.lastIndexOf=function(e,n,t){return b(this,e,n,t,!1)},l.prototype.write=function(e,n,t,r){if(void 0===n)r="utf8",t=this.length,n=0;else if(void 0===t&&"string"==typeof n)r=n,t=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(t)?(t>>>=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}const o=this.length-n;if((void 0===t||t>o)&&(t=o),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return y(this,e,n,t);case"utf8":case"utf-8":return w(this,e,n,t);case"ascii":case"latin1":case"binary":return k(this,e,n,t);case"base64":return S(this,e,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n,t);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function _(e,n,t){let r="";t=Math.min(e.length,t);for(let o=n;o<t;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,n,t){let r="";t=Math.min(e.length,t);for(let o=n;o<t;++o)r+=String.fromCharCode(e[o]);return r}function A(e,n,t){const r=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>r)&&(t=r);let o="";for(let r=n;r<t;++r)o+=X[e[r]];return o}function I(e,n,t){const r=e.slice(n,t);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function R(e,n,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function L(e,n,t,r,o,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(t+r>e.length)throw new RangeError("Index out of range")}function z(e,n,t,r,o){U(n,r,o,e,t,7);let a=Number(n&BigInt(4294967295));e[t++]=a,a>>=8,e[t++]=a,a>>=8,e[t++]=a,a>>=8,e[t++]=a;let i=Number(n>>BigInt(32)&BigInt(4294967295));return e[t++]=i,i>>=8,e[t++]=i,i>>=8,e[t++]=i,i>>=8,e[t++]=i,t}function P(e,n,t,r,o){U(n,r,o,e,t,7);let a=Number(n&BigInt(4294967295));e[t+7]=a,a>>=8,e[t+6]=a,a>>=8,e[t+5]=a,a>>=8,e[t+4]=a;let i=Number(n>>BigInt(32)&BigInt(4294967295));return e[t+3]=i,i>>=8,e[t+2]=i,i>>=8,e[t+1]=i,i>>=8,e[t]=i,t+8}function M(e,n,t,r,o,a){if(t+r>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function F(e,n,t,r,a){return n=+n,t>>>=0,a||M(e,0,t,4),o.write(e,n,t,r,23,4),t+4}function O(e,n,t,r,a){return n=+n,t>>>=0,a||M(e,0,t,8),o.write(e,n,t,r,52,8),t+8}l.prototype.slice=function(e,n){const t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(n=void 0===n?t:~~n)<0?(n+=t)<0&&(n=0):n>t&&(n=t),n<e&&(n=e);const r=this.subarray(e,n);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,n,t){e>>>=0,n>>>=0,t||R(e,n,this.length);let r=this[e],o=1,a=0;for(;++a<n&&(o*=256);)r+=this[e+a]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,n,t){e>>>=0,n>>>=0,t||R(e,n,this.length);let r=this[e+--n],o=1;for(;n>0&&(o*=256);)r+=this[e+--n]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,n){return e>>>=0,n||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,n){return e>>>=0,n||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,n){return e>>>=0,n||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,n){return e>>>=0,n||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,n){return e>>>=0,n||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J(function(e){W(e>>>=0,"offset");const n=this[e],t=this[e+7];void 0!==n&&void 0!==t||V(e,this.length-8);const r=n+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+t*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),l.prototype.readBigUInt64BE=J(function(e){W(e>>>=0,"offset");const n=this[e],t=this[e+7];void 0!==n&&void 0!==t||V(e,this.length-8);const r=n*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+t;return(BigInt(r)<<BigInt(32))+BigInt(o)}),l.prototype.readIntLE=function(e,n,t){e>>>=0,n>>>=0,t||R(e,n,this.length);let r=this[e],o=1,a=0;for(;++a<n&&(o*=256);)r+=this[e+a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*n)),r},l.prototype.readIntBE=function(e,n,t){e>>>=0,n>>>=0,t||R(e,n,this.length);let r=n,o=1,a=this[e+--r];for(;r>0&&(o*=256);)a+=this[e+--r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*n)),a},l.prototype.readInt8=function(e,n){return e>>>=0,n||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,n){e>>>=0,n||R(e,2,this.length);const t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt16BE=function(e,n){e>>>=0,n||R(e,2,this.length);const t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt32LE=function(e,n){return e>>>=0,n||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,n){return e>>>=0,n||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J(function(e){W(e>>>=0,"offset");const n=this[e],t=this[e+7];void 0!==n&&void 0!==t||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(t<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=J(function(e){W(e>>>=0,"offset");const n=this[e],t=this[e+7];void 0!==n&&void 0!==t||V(e,this.length-8);const r=(n<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+t)}),l.prototype.readFloatLE=function(e,n){return e>>>=0,n||R(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,n){return e>>>=0,n||R(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,n){return e>>>=0,n||R(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,n){return e>>>=0,n||R(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,n,t,r){e=+e,n>>>=0,t>>>=0,r||L(this,e,n,t,Math.pow(2,8*t)-1,0);let o=1,a=0;for(this[n]=255&e;++a<t&&(o*=256);)this[n+a]=e/o&255;return n+t},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,n,t,r){e=+e,n>>>=0,t>>>=0,r||L(this,e,n,t,Math.pow(2,8*t)-1,0);let o=t-1,a=1;for(this[n+o]=255&e;--o>=0&&(a*=256);)this[n+o]=e/a&255;return n+t},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,1,255,0),this[n]=255&e,n+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,2,65535,0),this[n]=255&e,this[n+1]=e>>>8,n+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=255&e,n+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e,n+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},l.prototype.writeBigUInt64LE=J(function(e,n=0){return z(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=J(function(e,n=0){return P(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,n,t,r){if(e=+e,n>>>=0,!r){const r=Math.pow(2,8*t-1);L(this,e,n,t,r-1,-r)}let o=0,a=1,i=0;for(this[n]=255&e;++o<t&&(a*=256);)e<0&&0===i&&0!==this[n+o-1]&&(i=1),this[n+o]=(e/a|0)-i&255;return n+t},l.prototype.writeIntBE=function(e,n,t,r){if(e=+e,n>>>=0,!r){const r=Math.pow(2,8*t-1);L(this,e,n,t,r-1,-r)}let o=t-1,a=1,i=0;for(this[n+o]=255&e;--o>=0&&(a*=256);)e<0&&0===i&&0!==this[n+o+1]&&(i=1),this[n+o]=(e/a|0)-i&255;return n+t},l.prototype.writeInt8=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=255&e,n+1},l.prototype.writeInt16LE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,2,32767,-32768),this[n]=255&e,this[n+1]=e>>>8,n+2},l.prototype.writeInt16BE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=255&e,n+2},l.prototype.writeInt32LE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,4,2147483647,-2147483648),this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},l.prototype.writeInt32BE=function(e,n,t){return e=+e,n>>>=0,t||L(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},l.prototype.writeBigInt64LE=J(function(e,n=0){return z(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=J(function(e,n=0){return P(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,n,t){return F(this,e,n,!0,t)},l.prototype.writeFloatBE=function(e,n,t){return F(this,e,n,!1,t)},l.prototype.writeDoubleLE=function(e,n,t){return O(this,e,n,!0,t)},l.prototype.writeDoubleBE=function(e,n,t){return O(this,e,n,!1,t)},l.prototype.copy=function(e,n,t,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<t&&(r=t),r===t)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-t&&(r=e.length-n+t);const o=r-t;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,t,r):Uint8Array.prototype.set.call(e,this.subarray(t,r),n),o},l.prototype.fill=function(e,n,t,r){if("string"==typeof e){if("string"==typeof n?(r=n,n=0,t=this.length):"string"==typeof t&&(r=t,t=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const n=e.charCodeAt(0);("utf8"===r&&n<128||"latin1"===r)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index");if(t<=n)return this;let o;if(n>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(o=n;o<t;++o)this[o]=e;else{const a=l.isBuffer(e)?e:l.from(e,r),i=a.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<t-n;++o)this[o+n]=a[o%i]}return this};const D={};function B(e,n,t){D[e]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let n="",t=e.length;const r="-"===e[0]?1:0;for(;t>=r+4;t-=3)n=`_${e.slice(t-3,t)}${n}`;return`${e.slice(0,t)}${n}`}function U(e,n,t,r,o,a){if(e>t||e<n){const r="bigint"==typeof n?"n":"";let o;throw o=a>3?0===n||n===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${n}${r} and <= ${t}${r}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,n,t){W(n,"offset"),void 0!==e[n]&&void 0!==e[n+t]||V(n,e.length-(t+1))}(r,o,a)}function W(e,n){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(n,"number",e)}function V(e,n,t){if(Math.floor(e)!==e)throw W(e,t),new D.ERR_OUT_OF_RANGE(t||"offset","an integer",e);if(n<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${n}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,n){return`The "${e}" argument must be of type number. Received type ${typeof n}`},TypeError),B("ERR_OUT_OF_RANGE",function(e,n,t){let r=`The value of "${e}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=$(String(t)):"bigint"==typeof t&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+="n"),r+=` It must be ${n}. Received ${o}`,r},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,n){let t;n=n||1/0;const r=e.length;let o=null;const a=[];for(let i=0;i<r;++i){if(t=e.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(n-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(n-=3)>-1&&a.push(239,191,189);continue}o=t;continue}if(t<56320){(n-=3)>-1&&a.push(239,191,189),o=t;continue}t=65536+(o-55296<<10|t-56320)}else o&&(n-=3)>-1&&a.push(239,191,189);if(o=null,t<128){if((n-=1)<0)break;a.push(t)}else if(t<2048){if((n-=2)<0)break;a.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,n,t,r){let o;for(o=0;o<r&&!(o+t>=n.length||o>=e.length);++o)n[o+t]=e[o];return o}function Y(e,n){return e instanceof n||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===n.name}function q(e){return e!=e}const X=function(){const e="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){const r=16*t;for(let o=0;o<16;++o)n[r+o]=e[t]+e[o]}return n}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},669:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * PlainTextViewer コンポーネントのスタイル\n * VSCode風の行番号付きプレーンテキスト表示\n */\n\n/* メインコンテナ */\n.plain-text-viewer {\n  /* 行の基本高さ（パフォーマンス最適化） */\n  --min-line-height: 21px;\n  --line-height-value: 1.4;\n  --line-padding: 2px;\n  /* 計算済み高さ */\n  --calculated-line-height: calc(var(--min-line-height) + var(--line-padding) * 2);\n  \n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  font-family: var(--vscode-editor-font-family, 'Consolas', 'Courier New', monospace);\n  font-size: var(--vscode-editor-font-size, 14px);\n  line-height: var(--vscode-editor-line-height, 1.5);\n  background-color: var(--vscode-editor-background);\n  color: var(--vscode-editor-foreground);\n  border: 1px solid var(--vscode-panel-border);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n/* コンテンツエリア */\n.text-content {\n  display: flex;\n  flex-direction: row !important;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* 行番号カラム */\n.plain-text-viewer .plain-text-line-numbers {\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.03));\n  border-right: 1px solid var(--vscode-panel-border);\n  padding: 8px 0;\n  min-width: 60px;\n  max-width: 60px;\n  flex-shrink: 0 !important;\n  user-select: none;\n  /* 独立スクロールを無効化、JavaScriptでのみ制御 */\n  overflow-y: hidden !important;\n  overflow-x: hidden !important;\n  /* ポインターイベントを無効化してスクロールを防止 */\n  pointer-events: none;\n  position: relative;\n  max-height: 100%;\n  /* スクロールバーを非表示にする */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE/Edge */\n}\n\n/* 行番号エリアのスクロールバーを非表示にする */\n.plain-text-viewer .plain-text-line-numbers::-webkit-scrollbar {\n  display: none;\n}\n\n/* スクロール同期の特別設定 */\n.plain-text-viewer .plain-text-line-numbers {\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n  /* ホイールスクロールやタッチスクロールを無効化 */\n  -webkit-overflow-scrolling: auto;\n  /* マウスホイールを通す */\n  pointer-events: none;\n}\n\n.plain-text-viewer .plain-text-main-text-area {\n  scroll-behavior: auto !important;\n  overscroll-behavior: none !important;\n}\n\n/* パフォーマンス最適化クラス */\n.plain-text-main-text-area.performance-mode {\n  /* 大ファイル用の最適化 */\n  will-change: auto;\n  transform: translateZ(0); /* GPUアクセラレーション */\n}\n\n.text-line.fixed-height {\n  /* 大ファイルでは高さを固定してパフォーマンス向上 */\n  height: var(--calculated-line-height) !important;\n  min-height: var(--calculated-line-height) !important;\n}\n\n.line-content.dynamic-height {\n  /* 長い行がある小ファイルでのみ動的高さ */\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n.text-line.fixed-height .line-content {\n  /* 大ファイルでは改行を無効化してパフォーマンス向上 */\n  white-space: nowrap !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  height: var(--min-line-height) !important;\n}\n\n.plain-text-line-number {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  min-height: var(--min-line-height);\n  padding: 2px 12px;\n  font-size: 12px;\n  font-weight: 400;\n  color: var(--vscode-editorLineNumber-foreground);\n  cursor: pointer;\n  transition: all 0.15s ease;\n  box-sizing: border-box;\n  line-height: var(--line-height-value);\n  /* 動的高さ調整のための設定 */\n  margin: 0;\n  border: 0;\n  /* テキスト行と同じ高さになるよう調整 */\n  flex-shrink: 0;\n  /* 行番号はクリック可能にする */\n  pointer-events: auto;\n}\n\n.plain-text-line-number:hover {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.1));\n  color: var(--vscode-editorLineNumber-activeForeground);\n}\n\n.plain-text-line-number.active {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.08));\n  color: var(--vscode-editorLineNumber-activeForeground);\n}\n\n.plain-text-line-number.selected {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.3));\n  color: var(--vscode-editor-selectionForeground, #ffffff);\n}\n\n/* メインテキストエリア */\n.plain-text-viewer .plain-text-main-text-area {\n  flex: 1 !important;\n  overflow-y: auto;\n  padding: 8px 0;\n  font-family: inherit;\n  max-height: 100%;\n  position: relative;\n}\n\n.plain-text-viewer .plain-text-main-text-area.word-wrap {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n.plain-text-viewer .plain-text-main-text-area.no-wrap {\n  white-space: pre;\n  overflow-x: auto;\n}\n\n/* テキスト行 */\n.text-line {\n  display: flex;\n  align-items: flex-start;\n  min-height: var(--min-line-height);\n  padding: 2px 12px;\n  cursor: pointer;\n  transition: background-color 0.15s ease;\n  border-left: 3px solid transparent;\n  position: relative;\n  box-sizing: border-box;\n  line-height: var(--line-height-value);\n  /* 動的高さ調整のための設定 */\n  margin: 0;\n  border: 0;\n  /* テキストの長さに応じて高さが変わる */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n}\n\n.text-line:hover {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.05));\n}\n\n.text-line.active {\n  background-color: var(--vscode-editor-hoverHighlightBackground, rgba(255, 255, 255, 0.08));\n  border-left-color: var(--vscode-focusBorder, #007acc);\n}\n\n.text-line.selected {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.2));\n  border-left-color: var(--vscode-editor-selectionBackground, #007acc);\n}\n\n/* 行コンテンツ */\n.line-content {\n  flex: 1;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  font-family: inherit;\n  letter-spacing: 0.2px;\n  /* 動的高さ調整のための設定 */\n  line-height: var(--line-height-value);\n  min-height: calc(var(--min-line-height) - 4px); /* paddingを差し引いた値 */\n  /* テキストが長い場合は改行される */\n  word-break: break-word;\n  hyphens: auto;\n}\n\n/* 空行の表示 */\n.text-line:has(.line-content:empty) .line-content::before,\n.line-content:empty::before {\n  content: ' ';\n  display: inline-block;\n  width: 1ch;\n  height: 1em;\n}\n\n/* 検索ハイライト */\n.search-highlight {\n  background-color: var(--vscode-editor-findMatchBackground, rgba(234, 92, 0, 0.33));\n  color: var(--vscode-editor-findMatchForeground);\n  border-radius: 2px;\n  padding: 1px 2px;\n}\n\n/* フッター */\n.plain-text-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background-color: var(--vscode-editor-lineHighlightBackground, rgba(255, 255, 255, 0.03));\n  border-top: 1px solid var(--vscode-panel-border);\n  font-size: 12px;\n  color: var(--vscode-descriptionForeground);\n}\n\n.line-count {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.selection-count {\n  color: var(--vscode-symbolIcon-numberForeground, #b5cea8);\n  font-weight: 500;\n}\n\n.content-stats {\n  color: var(--vscode-descriptionForeground);\n  opacity: 0.8;\n}\n\n/* スクロールバースタイル */\n.text-content ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.text-content ::-webkit-scrollbar-track {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.1));\n}\n\n.text-content ::-webkit-scrollbar-thumb {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.4));\n  border-radius: 4px;\n}\n\n.text-content ::-webkit-scrollbar-thumb:hover {\n  background: var(--vscode-scrollbarSlider-hoverBackground, rgba(121, 121, 121, 0.6));\n}\n\n/* 改行なしモードの水平スクロール */\n.main-text-area.no-wrap::-webkit-scrollbar {\n  height: 12px;\n}\n\n.main-text-area.no-wrap::-webkit-scrollbar-track {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.1));\n}\n\n.main-text-area.no-wrap::-webkit-scrollbar-thumb {\n  background: var(--vscode-scrollbarSlider-background, rgba(121, 121, 121, 0.4));\n  border-radius: 6px;\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .plain-text-line-numbers {\n    min-width: 50px;\n  }\n  \n  .plain-text-line-number {\n    padding: 0 8px;\n    font-size: 11px;\n  }\n  \n  .text-line {\n    padding: 0 8px;\n  }\n  \n  .plain-text-footer {\n    padding: 6px 8px;\n    font-size: 11px;\n    flex-direction: column;\n    gap: 4px;\n    align-items: flex-start;\n  }\n}\n\n/* ダークテーマ特別対応 */\n.vscode-dark .text-line.selected {\n  background-color: rgba(0, 122, 204, 0.25);\n}\n\n.vscode-dark .plain-text-line-number.selected {\n  background-color: rgba(0, 122, 204, 0.35);\n}\n\n/* ライトテーマ特別対応 */\n.vscode-light .text-line.selected {\n  background-color: rgba(0, 122, 204, 0.15);\n}\n\n.vscode-light .plain-text-line-number.selected {\n  background-color: rgba(0, 122, 204, 0.25);\n}\n\n/* ハイコントラストテーマ対応 */\n.vscode-high-contrast .text-line {\n  border-left-width: 2px;\n}\n\n.vscode-high-contrast .text-line.selected {\n  border-left-width: 4px;\n  background-color: transparent;\n  outline: 2px solid var(--vscode-focusBorder);\n}\n\n/* セレクション状態のアニメーション */\n.text-line.selected,\n.plain-text-line-number.selected {\n  animation: fadeInSelection 0.2s ease-out;\n}\n\n@keyframes fadeInSelection {\n  from {\n    background-color: transparent;\n  }\n  to {\n    background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.2));\n  }\n}\n\n/* アクセシビリティ対応 */\n@media (prefers-reduced-motion: reduce) {\n  .text-line,\n  .plain-text-line-number,\n  .text-line.selected,\n  .plain-text-line-number.selected {\n    transition: none;\n    animation: none;\n  }\n}\n\n/* フォーカス状態 */\n.plain-text-viewer:focus-within .text-line:focus {\n  outline: 2px solid var(--vscode-focusBorder);\n  outline-offset: -2px;\n}\n\n/* テキスト選択カスタマイズ */\n.plain-text-viewer ::selection {\n  background-color: var(--vscode-editor-selectionBackground, rgba(0, 122, 204, 0.3));\n  color: var(--vscode-editor-selectionForeground);\n}\n\n/* プリント対応 */\n@media print {\n  .plain-text-viewer {\n    border: none;\n    background: white;\n    color: black;\n    font-family: 'Times New Roman', serif;\n  }\n  \n  .plain-text-line-numbers {\n    background: transparent;\n    border-right: 1px solid #ccc;\n  }\n  \n  .text-line {\n    break-inside: avoid;\n  }\n  \n  .plain-text-footer {\n    display: none;\n  }\n}",""]);const s=i},753:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,'/* AdvancedRecordingCard - 統一スタイル */\n\n.advanced-recording-card {\n  background: var(--color-bg-secondary);\n  border-radius: 12px;\n  border: 2px solid var(--color-border);\n  padding: 16px;\n  margin: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 120px);\n  overflow: hidden;\n  color: var(--color-text-primary);\n  font-family: var(--font-family-ui);\n}\n\n.advanced-recording-card:hover {\n  border-color: var(--color-accent);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n}\n\n.card-body {\n  flex: 1;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n/* 録音ボタン */\n.recording-control {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 12px;\n}\n\n.record-button {\n  background: var(--color-error);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 24px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  min-width: 200px;\n  color: white;\n  font-weight: var(--font-weight-medium);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.record-button.recording {\n  background: #6c757d;\n  animation: none;\n}\n\n.record-button:hover:not(:disabled) {\n  opacity: 0.9;\n  transform: translateY(-1px);\n}\n\n.record-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n@keyframes recording-pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.8; }\n  100% { opacity: 1; }\n}\n\n/* 録音情報 */\n.recording-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex: 1;\n}\n\n.level-meter {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.level-bar {\n  width: 60px;\n  height: 6px;\n  background: var(--color-bg-tertiary);\n  border-radius: 3px;\n  overflow: hidden;\n  border: 1px solid var(--color-border);\n}\n\n.level-fill {\n  height: 100%;\n  background: var(--color-accent);\n  transition: width 0.1s ease;\n}\n\n.level-text {\n  font-size: var(--font-size-sm);\n  color: var(--color-text-secondary);\n  min-width: 30px;\n}\n\n.recording-stats {\n  display: flex;\n  gap: 12px;\n}\n\n.recording-stats .stat-item {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.stat-label {\n  font-size: 10px;\n  color: var(--color-text-primary);\n  text-transform: uppercase;\n}\n\n.stat-value {\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  font-family: var(--font-family-mono);\n}\n\n/* アコーディオンヘッダー */\n.accordion-header {\n  background: var(--color-bg-tertiary);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 12px 16px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: var(--color-text-primary);\n  font-size: var(--font-size-lg);\n  font-weight: var(--font-weight-medium);\n  user-select: none;\n}\n\n.accordion-header:hover {\n  background: var(--color-bg-hover);\n  border-color: var(--color-accent);\n}\n\n.accordion-icon {\n  font-size: 12px;\n  transition: transform 0.2s ease;\n  color: var(--color-text-secondary);\n}\n\n.accordion-icon.expanded {\n  transform: rotate(180deg);\n}\n\n.accordion-content {\n  background: var(--color-bg-tertiary);\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  margin-bottom: 8px;\n}\n\n/* セクション共通スタイル */\n.settings-section,\n.transcription-results,\n.stats-section,\n.chunks-section,\n.error-section {\n  margin-bottom: 8px;\n}\n\n.transcription-results {\n  background: var(--color-bg-tertiary);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 8px;\n}\n\n.transcription-results h3,\n.error-section h3 {\n  margin: 0 0 8px 0;\n  color: var(--color-text-primary);\n  font-size: var(--font-size-lg);\n  font-weight: var(--font-weight-medium);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n/* 設定グループ */\n.setting-group {\n  margin-bottom: 12px;\n}\n\n.setting-group:last-child {\n  margin-bottom: 0;\n}\n\n.setting-group h4 {\n  margin: 0 0 8px 0;\n  color: var(--color-text-primary);\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.settings-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 8px;\n}\n\n.setting-item {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px 12px;\n  background: var(--color-bg-secondary);\n  border-radius: 6px;\n}\n\n.setting-item label {\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  font-size: var(--font-size-sm);\n}\n\n.setting-select,\n.setting-input {\n  padding: 6px 8px;\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  font-size: var(--font-size-sm);\n  width: 100%;\n}\n\n.setting-select:focus,\n.setting-input:focus {\n  outline: none;\n  border-color: var(--color-accent);\n  box-shadow: 0 0 0 1px var(--color-accent);\n}\n\n.setting-select:disabled,\n.setting-input:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.setting-hint {\n  font-size: 10px;\n  color: var(--color-text-secondary);\n  margin-top: 2px;\n}\n\n/* トグルスイッチ */\n.setting-toggle {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.setting-toggle input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.toggle-slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-bg-primary);\n  transition: 0.2s;\n  border-radius: 20px;\n  border: 1px solid var(--color-border);\n}\n\n.toggle-slider:before {\n  position: absolute;\n  content: "";\n  height: 14px;\n  width: 14px;\n  left: 2px;\n  bottom: 2px;\n  background-color: var(--color-text-secondary);\n  transition: 0.2s;\n  border-radius: 50%;\n}\n\n.setting-toggle input:checked + .toggle-slider {\n  background-color: var(--color-accent);\n  border-color: var(--color-accent);\n}\n\n.setting-toggle input:checked + .toggle-slider:before {\n  background-color: white;\n  transform: translateX(20px);\n}\n\n.setting-toggle input:disabled + .toggle-slider {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* 統計表示 */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 8px;\n}\n\n.stats-section .stat-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: var(--color-bg-primary);\n  border-radius: 6px;\n}\n\n.stat-item label {\n  font-weight: var(--font-weight-medium);\n  color: var(--color-text-primary);\n  font-size: var(--font-size-sm);\n}\n\n.stat-item span {\n  color: var(--color-accent);\n  font-weight: var(--font-weight-medium);\n  font-size: var(--font-size-sm);\n}\n\n/* 文字起こし結果 */\n.transcription-results {\n  background: var(--color-bg-tertiary);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 12px;\n}\n\n.transcription-results h3 {\n  margin: 0 0 8px 0;\n  color: var(--color-accent);\n  font-size: var(--font-size-lg);\n  font-weight: var(--font-weight-medium);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.transcription-display {\n  background: var(--color-bg-primary);\n  border-radius: 6px;\n  padding: 10px;\n  max-height: 250px;\n  overflow-y: auto;\n  border: 1px solid var(--color-border);\n  margin-bottom: 10px;\n}\n\n.transcription-placeholder {\n  text-align: center;\n  color: var(--color-text-secondary);\n  font-style: italic;\n  padding: 12px;\n  font-size: var(--font-size-sm);\n}\n\n.transcription-timeline {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.transcription-chunk {\n  background: var(--color-bg-secondary);\n  border-radius: 6px;\n  padding: 8px;\n  border-left: 3px solid transparent;\n  transition: all 0.3s ease;\n  margin-bottom: 6px;\n}\n\n.transcription-chunk.pending {\n  border-left-color: var(--color-warning);\n}\n\n.transcription-chunk.processing {\n  border-left-color: var(--color-accent);\n  animation: processing-pulse 2s infinite;\n}\n\n.transcription-chunk.completed {\n  border-left-color: var(--color-success);\n}\n\n.transcription-chunk.failed {\n  border-left-color: var(--color-error);\n}\n\n@keyframes processing-pulse {\n  0% { opacity: 0.7; }\n  50% { opacity: 1; }\n  100% { opacity: 0.7; }\n}\n\n.chunk-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n  font-size: var(--font-size-sm);\n}\n\n.chunk-time {\n  color: var(--color-text-secondary);\n  font-family: var(--font-family-mono);\n}\n\n.chunk-status-badge {\n  padding: 2px 6px;\n  border-radius: 10px;\n  font-size: 10px;\n  font-weight: var(--font-weight-medium);\n}\n\n.chunk-status-badge.pending {\n  background: rgba(255, 204, 2, 0.2);\n  color: var(--color-warning);\n}\n\n.chunk-status-badge.processing {\n  background: rgba(0, 122, 204, 0.2);\n  color: var(--color-accent);\n}\n\n.chunk-status-badge.completed {\n  background: rgba(79, 193, 255, 0.2);\n  color: var(--color-success);\n}\n\n.chunk-status-badge.failed {\n  background: rgba(244, 71, 71, 0.2);\n  color: var(--color-error);\n}\n\n.chunk-transcription-text {\n  color: var(--color-text-primary);\n  line-height: 1.5;\n  font-size: var(--font-size-sm);\n}\n\n.no-text {\n  color: var(--color-text-secondary);\n  font-style: italic;\n}\n\n.processing-text {\n  color: var(--color-accent);\n  font-style: italic;\n}\n\n.transcription-actions {\n  text-align: center;\n}\n\n.copy-all-button {\n  background: var(--color-accent);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.copy-all-button:hover:not(:disabled) {\n  opacity: 0.9;\n  transform: translateY(-1px);\n}\n\n.copy-all-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* チャンクログ */\n.chunk-actions {\n  margin-bottom: 12px;\n  text-align: center;\n}\n\n.download-all-button {\n  background: var(--color-bg-tertiary);\n  color: var(--color-text-primary);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.download-all-button:hover:not(:disabled) {\n  background: var(--color-bg-hover);\n  border-color: var(--color-accent);\n  transform: translateY(-1px);\n}\n\n.download-all-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.chunks-list {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.chunk-item {\n  background: var(--color-bg-secondary);\n  border-radius: 6px;\n  padding: 10px;\n  border-left: 3px solid var(--color-success);\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.chunk-info {\n  display: flex;\n  gap: 12px;\n  flex: 1;\n  font-family: var(--font-family-mono);\n  font-size: var(--font-size-sm);\n  align-items: center;\n}\n\n.chunk-id {\n  color: var(--color-text-primary);\n  font-weight: var(--font-weight-medium);\n  min-width: 80px;\n}\n\n.chunk-size {\n  color: var(--color-success);\n  min-width: 50px;\n}\n\n.chunk-time {\n  color: var(--color-text-secondary);\n  min-width: 70px;\n}\n\n.chunk-status {\n  display: inline-block;\n  padding: 3px 8px;\n  border-radius: 10px;\n  font-size: 10px;\n  font-weight: var(--font-weight-medium);\n  text-transform: uppercase;\n  min-width: 60px;\n  text-align: center;\n}\n\n.chunk-status.pending {\n  background: rgba(255, 204, 2, 0.2);\n  color: var(--color-warning);\n}\n\n.chunk-status.processing {\n  background: rgba(0, 122, 204, 0.2);\n  color: var(--color-accent);\n}\n\n.chunk-status.completed {\n  background: rgba(79, 193, 255, 0.2);\n  color: var(--color-success);\n}\n\n.chunk-status.failed {\n  background: rgba(244, 71, 71, 0.2);\n  color: var(--color-error);\n}\n\n.chunk-download-button {\n  background: var(--color-success);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 4px 6px;\n  font-size: 10px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.chunk-download-button:hover {\n  opacity: 0.9;\n  transform: translateY(-1px);\n}\n\n/* エラー表示 */\n.error-section {\n  background: var(--color-bg-tertiary);\n  border: 1px solid var(--color-error);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 8px;\n}\n\n.error-section h3 {\n  margin: 0 0 8px 0;\n  color: var(--color-text-primary);\n  font-size: var(--font-size-lg);\n  font-weight: var(--font-weight-medium);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.errors-list {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  max-height: 120px;\n  overflow-y: auto;\n}\n\n.error-item {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  padding: 6px;\n  background: var(--color-bg-primary);\n  border-radius: 6px;\n  border-left: 3px solid var(--color-error);\n}\n\n.error-time {\n  font-family: var(--font-family-mono);\n  font-size: 10px;\n  color: var(--color-warning);\n  min-width: 60px;\n}\n\n.error-type {\n  font-weight: var(--font-weight-medium);\n  color: var(--color-error);\n  min-width: 80px;\n  text-transform: uppercase;\n  font-size: 10px;\n}\n\n.error-message {\n  color: var(--color-text-primary);\n  flex: 1;\n  font-size: var(--font-size-sm);\n}\n\n/* スクロールバー */\n.card-body::-webkit-scrollbar,\n.transcription-display::-webkit-scrollbar,\n.chunks-list::-webkit-scrollbar,\n.errors-list::-webkit-scrollbar {\n  width: 6px;\n}\n\n.card-body::-webkit-scrollbar-track,\n.transcription-display::-webkit-scrollbar-track,\n.chunks-list::-webkit-scrollbar-track,\n.errors-list::-webkit-scrollbar-track {\n  background: var(--color-bg-secondary);\n  border-radius: 3px;\n}\n\n.card-body::-webkit-scrollbar-thumb,\n.transcription-display::-webkit-scrollbar-thumb,\n.chunks-list::-webkit-scrollbar-thumb,\n.errors-list::-webkit-scrollbar-thumb {\n  background: var(--color-border);\n  border-radius: 3px;\n}\n\n.card-body::-webkit-scrollbar-thumb:hover,\n.transcription-display::-webkit-scrollbar-thumb:hover,\n.chunks-list::-webkit-scrollbar-thumb:hover,\n.errors-list::-webkit-scrollbar-thumb:hover {\n  background: var(--color-accent);\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .settings-grid,\n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .record-button {\n    min-width: 100%;\n  }\n  \n  .chunk-info {\n    flex-direction: column;\n    gap: 8px;\n    align-items: flex-start;\n  }\n  \n  .chunk-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n  \n  .error-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n}',""]);const s=i},789:(e,n,t)=>{"use strict";t.d(n,{modelDownloadService:()=>o});const r=[{id:"small",name:"Whisper Small",description:"軽量・高速モデル（244MB）",size:"244MB",sizeBytes:255852544,version:"1.0.0",license:"MIT",downloadUrl:"https://huggingface.co/Systran/faster-whisper-small/resolve/main",checksum:"sha256:..."},{id:"kotoba-whisper-v2.0-faster",name:"Kotoba Whisper v2.0",description:"日本語最適化モデル（769MB）",size:"769MB",sizeBytes:806354944,version:"2.0.0",license:"MIT",downloadUrl:"https://huggingface.co/kotoba-tech/kotoba-whisper-v2.0-faster/resolve/main",checksum:"sha256:..."},{id:"large-v2",name:"Whisper Large v2",description:"高精度モデル（3.1GB）",size:"3.1GB",sizeBytes:3328599654.4,version:"1.0.0",license:"MIT",downloadUrl:"https://huggingface.co/Systran/faster-whisper-large-v2/resolve/main",checksum:"sha256:..."}],o=new class{constructor(){this.downloadProgress=new Map,this.downloadControllers=new Map,this.installedModels=new Set,this.initializeInstalledModels()}async initializeInstalledModels(){try{await window.electronAPI.getModelsPath(),(await window.electronAPI.getInstalledModels()).forEach(e=>{this.installedModels.add(e)})}catch(e){console.error("Failed to initialize installed models:",e)}}async getAvailableModels(){return r.map(e=>({...e,isInstalled:this.installedModels.has(e.id),isDownloading:this.downloadProgress.has(e.id),downloadProgress:this.downloadProgress.get(e.id)?.progress||0}))}async getInstalledModels(){return(await this.getAvailableModels()).filter(e=>e.isInstalled)}async downloadModel(e){const{modelId:n,forceDownload:t=!1,verifyChecksum:o=!0,onProgress:a,onComplete:i,onError:s}=e;try{if(this.downloadProgress.has(n))throw new Error(`Model ${n} is already being downloaded`);if(this.installedModels.has(n)&&!t)throw new Error(`Model ${n} is already installed`);const e=r.find(e=>e.id===n);if(!e)throw new Error(`Model ${n} not found`);const o={...e,isInstalled:this.installedModels.has(n),isDownloading:!1,downloadProgress:0},s=new AbortController;this.downloadControllers.set(n,s);const l={modelId:n,progress:0,downloadedBytes:0,totalBytes:e.sizeBytes,speed:0,eta:0,status:"downloading"};this.downloadProgress.set(n,l),await this.performDownload(o,l,s.signal,a),l.status="completed",l.progress=100,this.installedModels.add(n),this.downloadProgress.delete(n),this.downloadControllers.delete(n),i?.(n)}catch(e){const t=e instanceof Error?e.message:String(e),r=this.downloadProgress.get(n);throw r&&(r.status="error",this.downloadProgress.delete(n)),this.downloadControllers.delete(n),s?.(t),e}}async performDownload(e,n,t,r){try{const t=(t,o)=>{o.modelId===e.id&&(n.progress=o.percent,n.downloadedBytes=Math.floor(o.percent/100*e.sizeBytes),n.totalBytes=e.sizeBytes,n.speed=0,n.eta=0,r?.(n))};window.electronAPI.on("models:downloadProgress",t),await window.electronAPI.downloadWhisperModel(e.id),window.electronAPI.removeListener("models:downloadProgress",t)}catch(e){throw t.aborted?n.status="cancelled":n.status="error",e}}async cancelDownload(e){const n=this.downloadControllers.get(e);n&&(n.abort(),this.downloadControllers.delete(e));const t=this.downloadProgress.get(e);t&&(t.status="cancelled",this.downloadProgress.delete(e))}async pauseDownload(e){const n=this.downloadProgress.get(e);n&&(n.status="paused")}async resumeDownload(e){const n=this.downloadProgress.get(e);n&&(n.status="downloading")}async removeModel(e){try{const n=await this.getModelPath(e);await window.electronAPI.removeModel(n),this.installedModels.delete(e)}catch(n){throw console.error(`Failed to remove model ${e}:`,n),n}}async checkForUpdates(){return[]}getDownloadProgress(e){return this.downloadProgress.get(e)||null}async getModelPath(e){return`${await window.electronAPI.getModelsPath()}/${e}`}}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},848:(e,n,t)=>{"use strict";e.exports=t(20)},915:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,'/* 設定モーダルのスタイリング */\n\n.settings-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.settings-modal {\n  background: var(--color-bg-primary);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  width: 90%;\n  max-width: 650px;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.settings-modal__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-bg-secondary);\n  border-radius: 8px 8px 0 0;\n}\n\n.settings-modal__header h2 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-text-primary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.settings-modal__close {\n  background: none;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n}\n\n.settings-modal__close:hover {\n  background: var(--color-bg-tertiary);\n  color: var(--color-text-primary);\n}\n\n.settings-modal__content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n}\n\n/* タブナビゲーション */\n.settings-modal__tabs {\n  display: flex;\n  border-bottom: 1px solid var(--color-border);\n  background: var(--color-bg-secondary);\n  border-radius: 8px 8px 0 0;\n}\n\n.settings-tab {\n  flex: 1;\n  padding: 12px 20px;\n  border: none;\n  background: transparent;\n  color: var(--color-text-secondary);\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border-bottom: 2px solid transparent;\n}\n\n.settings-tab:hover {\n  background: var(--color-bg-hover);\n  color: var(--color-text-primary);\n}\n\n.settings-tab.active {\n  color: var(--color-primary);\n  border-bottom-color: var(--color-primary);\n  background: var(--color-bg-primary);\n}\n\n.settings-modal__body {\n  padding: 20px;\n}\n\n.settings-section {\n  margin-bottom: 32px;\n}\n\n.settings-section:last-child {\n  margin-bottom: 0;\n}\n\n.settings-section h3 {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--color-text-primary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n}\n\n.settings-item {\n  margin-bottom: 16px;\n}\n\n.settings-item:last-child {\n  margin-bottom: 0;\n}\n\n.settings-item label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--color-text-primary);\n  margin-bottom: 6px;\n}\n\n.settings-item label input[type="checkbox"] {\n  margin-right: 8px;\n  transform: translateY(1px);\n}\n\n.settings-item select,\n.settings-item input[type="text"] {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  font-size: 14px;\n  transition: border-color 0.2s ease;\n}\n\n.settings-item select:focus,\n.settings-item input[type="text"]:focus {\n  outline: none;\n  border-color: var(--color-accent);\n  box-shadow: 0 0 0 2px rgba(var(--color-accent-rgb), 0.2);\n}\n\n.folder-input {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.folder-input input {\n  flex: 1;\n}\n\n.folder-input .btn {\n  flex-shrink: 0;\n}\n\n.settings-note,\n.settings-hint {\n  font-size: 12px;\n  color: var(--color-text-secondary);\n  margin-top: 4px;\n  font-style: italic;\n}\n\n.settings-modal__footer {\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  background: var(--color-bg-secondary);\n  border-radius: 0 0 8px 8px;\n}\n\n.settings-modal__actions {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.settings-modal__main-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.settings-modal__main-actions .btn {\n  min-width: 80px;\n}\n\n/* 画面固定設定ボタン */\n.settings-button-fixed {\n  position: fixed;\n  bottom: 16px;\n  left: 16px;\n  z-index: 100;\n  background: var(--color-bg-secondary);\n  border: 1px solid var(--color-border);\n  border-radius: 50%;\n  cursor: pointer;\n  width: 40px;\n  height: 40px;\n  font-size: 16px;\n  color: var(--color-text-secondary);\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(10px);\n}\n\n.settings-button-fixed:hover {\n  background: var(--color-accent);\n  color: white;\n  transform: rotate(90deg) scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\n}\n\n.settings-button-fixed:active {\n  transform: rotate(90deg) scale(0.95);\n}\n\n.settings-button-fixed:focus {\n  outline: 2px solid var(--color-accent);\n  outline-offset: 2px;\n}\n\n/* VSCodeスタイルの従来設定ボタン（未使用） */\n.left-panel__footer {\n  border-top: 1px solid var(--color-border);\n  padding: 8px;\n  background: var(--color-bg-secondary);\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.settings-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 6px 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  color: var(--color-text-secondary);\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.settings-button:hover {\n  background: var(--color-bg-tertiary);\n  color: var(--color-text-primary);\n  transform: rotate(45deg);\n}\n\n.settings-button:active {\n  transform: rotate(45deg) scale(0.95);\n}\n\n/* ダークテーマでの調整 */\n@media (prefers-color-scheme: dark) {\n  .settings-modal-overlay {\n    background-color: rgba(0, 0, 0, 0.8);\n  }\n  \n  .settings-modal {\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  }\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .settings-modal {\n    width: 95%;\n    max-height: 95vh;\n  }\n  \n  .settings-modal__content {\n    padding: 16px;\n  }\n  \n  .settings-modal__actions {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n  }\n  \n  .settings-modal__main-actions {\n    justify-content: center;\n  }\n}\n\n/* アクセシビリティ対応 */\n.settings-modal input:focus,\n.settings-modal select:focus,\n.settings-modal button:focus {\n  outline: 2px solid var(--color-accent);\n  outline-offset: 2px;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .settings-modal-overlay,\n  .settings-modal,\n  .settings-button {\n    animation: none;\n    transition: none;\n  }\n}',""]);const s=i},956:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a),s=t(462),l=i()(o());l.i(s.A),l.push([e.id,"/**\n * TextDisplayViewer メインスタイル\n * VSCode風レイアウトとコンポーネント統合\n */\n\n/* メインコンテナ */\n.text-display-viewer {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n}\n\n.text-display-viewer.full-width {\n  width: 100vw;\n  height: 100vh;\n}\n\n/* ヘッダーバー */\n.text-display-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px;\n  gap: 12px;\n  flex-shrink: 0;\n  border-bottom: 1px solid var(--vscode-border);\n  background-color: var(--vscode-bg-tertiary);\n}\n\n.text-display-header-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.text-display-header-right {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n/* ファイル名表示 */\n.text-display-filename {\n  font-weight: 600;\n  color: var(--vscode-text-primary);\n  font-size: var(--vscode-font-size);\n}\n\n.text-display-filename .file-icon {\n  margin-right: 6px;\n  opacity: 0.8;\n}\n\n/* モード切り替えボタン */\n.mode-toggle-group {\n  display: flex;\n  border: 1px solid var(--vscode-border);\n  border-radius: 4px;\n  overflow: hidden;\n  background-color: var(--vscode-bg-secondary);\n}\n\n.mode-toggle-button {\n  background-color: transparent;\n  color: var(--vscode-text-secondary);\n  border: none;\n  padding: 8px 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size-sm);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.15s ease;\n  border-right: 1px solid var(--vscode-border);\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  min-width: 80px;\n  justify-content: center;\n}\n\n.mode-toggle-button:last-child {\n  border-right: none;\n}\n\n.mode-toggle-button:hover {\n  background-color: var(--vscode-bg-hover);\n  color: var(--vscode-text-primary);\n}\n\n.mode-toggle-button.active {\n  background-color: var(--vscode-accent);\n  color: white;\n  box-shadow: inset 0 0 0 1px var(--vscode-accent);\n}\n\n.mode-toggle-button.active::before {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background-color: var(--vscode-accent-bright);\n}\n\n.mode-toggle-button .icon {\n  font-size: 12px;\n  opacity: 0.8;\n}\n\n.mode-toggle-button.active .icon {\n  opacity: 1;\n}\n\n/* 未保存変更インジケーター */\n.unsaved-indicator {\n  color: var(--vscode-warning);\n  font-size: 8px;\n  margin-left: 4px;\n  animation: pulse 1.5s ease-in-out infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.mode-toggle-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.mode-toggle-button:disabled:hover {\n  background-color: transparent;\n  color: var(--vscode-text-secondary);\n}\n\n/* アクションボタン */\n.action-button {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: var(--vscode-font-size-sm);\n}\n\n.action-button .icon {\n  font-size: 14px;\n}\n\n/* メタデータパネル */\n.metadata-panel {\n  border-bottom: 1px solid var(--vscode-border);\n  background-color: var(--vscode-bg-secondary);\n  transition: all 0.2s ease;\n  overflow: hidden;\n}\n\n.metadata-panel.collapsed {\n  height: 0;\n  border-bottom: none;\n}\n\n.metadata-panel.expanded {\n  height: auto;\n  min-height: 120px;\n}\n\n.metadata-content {\n  padding: 0 16px 16px 16px;\n}\n\n.metadata-toggle {\n  background: none;\n  border: none;\n  color: var(--vscode-text-secondary);\n  cursor: pointer;\n  padding: 8px 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size-sm);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  width: 100%;\n  text-align: left;\n  transition: color 0.15s ease;\n}\n\n.metadata-toggle:hover {\n  color: var(--vscode-text-primary);\n}\n\n.metadata-toggle .arrow {\n  transition: transform 0.2s ease;\n}\n\n.metadata-toggle.expanded .arrow {\n  transform: rotate(90deg);\n}\n\n.metadata-toggle .summary {\n  margin-left: auto;\n  font-size: var(--vscode-font-size-xs);\n  color: var(--vscode-text-tertiary);\n  opacity: 0.8;\n}\n\n/* メタデータグリッド */\n.metadata-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 24px;\n}\n\n.metadata-section {\n  background-color: var(--vscode-bg-primary);\n  border: 1px solid var(--vscode-border);\n  border-radius: 6px;\n  padding: 16px;\n}\n\n.metadata-section .section-title {\n  font-size: var(--vscode-font-size);\n  font-weight: 600;\n  color: var(--vscode-text-primary);\n  margin: 0 0 12px 0;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.metadata-items {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.metadata-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: var(--vscode-font-size-sm);\n  line-height: 1.4;\n}\n\n.metadata-item .label {\n  color: var(--vscode-text-secondary);\n  font-weight: 500;\n  min-width: 120px;\n  flex-shrink: 0;\n}\n\n.metadata-item .value {\n  color: var(--vscode-text-primary);\n  text-align: right;\n  font-family: var(--vscode-font-family);\n  font-weight: 400;\n  word-break: break-word;\n}\n\n/* 話者タグ */\n.speakers-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n  margin-top: 8px;\n}\n\n.speaker-tag {\n  background-color: var(--vscode-accent);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: var(--vscode-font-size-xs);\n  font-weight: 500;\n}\n\n/* メインコンテンツエリア */\n.text-display-content {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 表示モード */\n.view-mode-container {\n  flex: 1;\n  overflow-y: auto;\n  background-color: var(--vscode-bg-primary);\n}\n\n/* 編集モード */\n.edit-mode-container {\n  flex: 1;\n  overflow: hidden;\n  background-color: var(--vscode-bg-primary);\n}\n\n/* 行番号付きコンテナ */\n.line-numbered-content {\n  display: flex;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n}\n\n.line-numbers {\n  background-color: var(--vscode-bg-secondary);\n  border-right: 1px solid var(--vscode-border);\n  padding: 16px 8px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  line-height: var(--vscode-line-height);\n  color: var(--vscode-line-number);\n  text-align: right;\n  user-select: none;\n  min-width: 60px;\n  flex-shrink: 0;\n}\n\n.line-number {\n  display: block;\n  white-space: nowrap;\n  height: calc(var(--vscode-font-size) * var(--vscode-line-height));\n  transition: color 0.15s ease;\n}\n\n.line-number.active {\n  color: var(--vscode-line-number-active);\n  font-weight: 600;\n}\n\n/* テキストコンテンツ */\n.text-content {\n  flex: 1;\n  padding: 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  line-height: var(--vscode-line-height);\n  color: var(--vscode-text-primary);\n  overflow-y: auto;\n}\n\n/* 文字起こしライン */\n.transcription-line {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 2px;\n  padding: 4px 8px;\n  border-radius: 3px;\n  transition: background-color 0.15s ease;\n  cursor: text;\n  user-select: text;\n  min-height: calc(var(--vscode-font-size) * var(--vscode-line-height));\n}\n\n.transcription-line:hover {\n  background-color: var(--vscode-bg-hover);\n}\n\n.transcription-line.selected {\n  background-color: var(--vscode-bg-selection);\n}\n\n.transcription-line.active {\n  background-color: var(--vscode-bg-selection);\n  border-left: 3px solid var(--vscode-accent);\n}\n\n.timestamp-column {\n  color: var(--vscode-text-secondary);\n  font-size: var(--vscode-font-size-xs);\n  margin-right: 16px;\n  white-space: nowrap;\n  user-select: none;\n  min-width: 120px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  line-height: var(--vscode-line-height);\n}\n\n.timestamp {\n  font-family: var(--vscode-font-family-mono);\n  font-size: var(--vscode-font-size-xs);\n  opacity: 0.8;\n}\n\n.time-separator {\n  opacity: 0.5;\n  font-size: var(--vscode-font-size-xs);\n}\n\n.text-column {\n  flex: 1;\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  line-height: var(--vscode-line-height);\n  word-wrap: break-word;\n}\n\n.segment-text {\n  flex: 1;\n  line-height: var(--vscode-line-height);\n}\n\n.edited-marker {\n  opacity: 0.6;\n  font-size: var(--vscode-font-size-xs);\n  flex-shrink: 0;\n}\n\n/* 話者表示 */\n.speaker-label {\n  color: var(--vscode-text-accent);\n  font-weight: 600;\n  margin-right: 8px;\n  font-size: var(--vscode-font-size-sm);\n}\n\n/* プレーンテキスト表示 */\n.plain-text-content {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  line-height: 1.6;\n  padding: 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  color: var(--vscode-text-primary);\n}\n\n/* テキストエディター */\n.text-editor {\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  resize: none;\n  padding: 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n  line-height: var(--vscode-line-height);\n  background-color: var(--vscode-bg-primary);\n  color: var(--vscode-text-primary);\n  tab-size: 2;\n}\n\n.text-editor::selection {\n  background-color: var(--vscode-bg-selection);\n}\n\n/* 選択テキストのハイライト */\n.selection-highlight {\n  background-color: var(--vscode-bg-selection);\n  border-radius: 2px;\n  padding: 1px 2px;\n}\n\n/* コピー成功メッセージ */\n.copy-notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background-color: var(--vscode-success);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 4px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size-sm);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  z-index: 1000;\n  animation: slideInFadeOut 2s ease-in-out;\n}\n\n@keyframes slideInFadeOut {\n  0% {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  15%, 85% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n}\n\n/* エラー状態 */\n.error-message {\n  color: var(--vscode-error);\n  background-color: var(--vscode-bg-secondary);\n  border: 1px solid var(--vscode-error);\n  border-radius: 4px;\n  padding: 12px 16px;\n  margin: 16px;\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size-sm);\n}\n\n/* ローディング状態 */\n.loading-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  color: var(--vscode-text-secondary);\n  font-family: var(--vscode-font-family);\n  font-size: var(--vscode-font-size);\n}\n\n.loading-spinner {\n  width: 24px;\n  height: 24px;\n  border: 2px solid var(--vscode-text-tertiary);\n  border-top: 2px solid var(--vscode-accent);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-right: 12px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .text-display-header {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 8px;\n  }\n  \n  .text-display-header-left,\n  .text-display-header-right {\n    justify-content: center;\n  }\n  \n  .line-numbers {\n    min-width: 40px;\n    padding: 16px 4px;\n  }\n  \n  .timestamp {\n    min-width: 80px;\n    margin-right: 8px;\n  }\n}\n\n/* セグメント数表示 */\n.transcription-footer {\n  padding: 8px 16px;\n  border-top: 1px solid var(--vscode-border);\n  background-color: var(--vscode-bg-secondary);\n  font-size: var(--vscode-font-size-xs);\n  color: var(--vscode-text-secondary);\n  flex-shrink: 0;\n}\n\n.segment-count {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.selection-count {\n  color: var(--vscode-accent);\n  font-weight: 500;\n}\n\n/* 文字起こしビューアーのコンテナ */\n.transcription-viewer {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\n\n/* 印刷スタイル */\n@media print {\n  .text-display-header,\n  .metadata-toggle,\n  .action-button {\n    display: none;\n  }\n  \n  .text-display-viewer {\n    background: white;\n    color: black;\n  }\n  \n  .line-numbers {\n    background: transparent;\n    border: none;\n  }\n}",""]);const c=l},961:(e,n,t)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=t(551)},981:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * メインコントロールパネルのスタイル\n */\n\n.main-control-panel {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: 20px;\n  background: var(--color-bg-primary);\n  color: var(--color-text-primary);\n  overflow-y: auto;\n  max-width: 600px;\n  margin: 0 auto;\n  height: 100%;\n}\n\n/* ヘッダー */\n.control-header {\n  text-align: center;\n  margin-bottom: 12px;\n}\n\n.control-title {\n  font-size: 32px;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  background: linear-gradient(135deg, var(--color-accent), var(--color-accent-hover));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.control-subtitle {\n  font-size: 16px;\n  color: var(--color-text-secondary);\n  margin: 0;\n}\n\n/* セクション */\n.section-title {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0 0 16px 0;\n  color: var(--color-text-primary);\n}\n\n/* アクションカード */\n.action-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.action-card {\n  background: var(--color-bg-secondary);\n  border-radius: 12px;\n  border: 2px solid var(--color-border);\n  padding: 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  min-height: 100px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.action-card:hover {\n  border-color: var(--color-accent);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  transform: translateY(-2px);\n}\n\n.action-card.primary:hover {\n  border-color: var(--color-primary);\n}\n\n.action-card.warning:hover {\n  border-color: var(--color-warning);\n}\n\n.action-card.info:hover {\n  border-color: var(--color-info);\n}\n\n.action-card.secondary:hover {\n  border-color: var(--color-accent);\n}\n\n.card-icon {\n  font-size: 40px;\n  flex-shrink: 0;\n  line-height: 1;\n}\n\n.card-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.card-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-text-primary);\n  margin: 0;\n}\n\n.card-description {\n  font-size: 14px;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n  margin: 0;\n}\n\n.card-shortcut {\n  font-size: 12px;\n  color: var(--color-text-tertiary);\n  font-family: 'Courier New', monospace;\n  background: var(--color-bg-tertiary);\n  padding: 4px 8px;\n  border-radius: 4px;\n  align-self: flex-start;\n  margin-top: 4px;\n}\n\n/* 情報カード */\n.info-card {\n  background: var(--color-bg-secondary);\n  border-radius: 12px;\n  border: 2px solid var(--color-border);\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.info-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid var(--color-border);\n}\n\n.info-icon {\n  font-size: 24px;\n}\n\n.info-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-text-primary);\n  margin: 0;\n}\n\n.info-content {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.info-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n}\n\n.item-icon {\n  font-size: 18px;\n  flex-shrink: 0;\n}\n\n.info-item span:last-child {\n  font-size: 14px;\n  color: var(--color-text-secondary);\n  line-height: 1.4;\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .main-control-panel {\n    padding: 16px;\n    gap: 16px;\n  }\n  \n  .action-cards {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .action-card {\n    padding: 16px;\n    min-height: 80px;\n  }\n  \n  .card-icon {\n    font-size: 32px;\n  }\n  \n  .card-title {\n    font-size: 16px;\n  }\n  \n  .card-description {\n    font-size: 13px;\n  }\n  \n  .control-title {\n    font-size: 24px;\n  }\n  \n  .info-content {\n    gap: 10px;\n  }\n  \n  .info-item {\n    padding: 6px 0;\n  }\n}\n\n/* ダークモード対応 */\n@media (prefers-color-scheme: dark) {\n  .workflow-button:hover {\n    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);\n  }\n  \n  .control-title {\n    background: linear-gradient(135deg, var(--color-accent), #64b5f6);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n}\n\n/* アニメーション */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.main-control-panel {\n  animation: fadeInUp 0.5s ease-out;\n}",""]);const s=i},982:(e,n,t)=>{"use strict";e.exports=t(463)},989:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * タブバーのスタイル\n */\n\n.tab-bar {\n  display: flex;\n  align-items: center;\n  background: var(--color-bg-secondary);\n  border-bottom: 1px solid var(--color-border);\n  height: 40px;\n  padding: 0 8px;\n  overflow: hidden;\n  user-select: none;\n}\n\n.tab-list {\n  display: flex;\n  flex: 1;\n  overflow-x: auto;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.tab-list::-webkit-scrollbar {\n  display: none;\n}\n\n/* タブ基本スタイル */\n.tab {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 12px;\n  margin-right: 2px;\n  min-width: 120px;\n  max-width: 200px;\n  height: 32px;\n  background: var(--color-bg-tertiary);\n  border: 1px solid var(--color-border);\n  border-radius: 6px 6px 0 0;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.tab:hover {\n  background: var(--color-bg-hover);\n  border-color: var(--color-border-hover);\n}\n\n/* アクティブタブ */\n.tab.active {\n  background: var(--color-bg-primary);\n  border-color: var(--color-accent);\n  border-bottom-color: var(--color-bg-primary);\n  z-index: 1;\n}\n\n/* タブの状態別スタイル */\n.tab.recording {\n  border-left: 3px solid var(--color-danger);\n}\n\n.tab.transcribing {\n  border-left: 3px solid var(--color-warning);\n}\n\n.tab.loading {\n  border-left: 3px solid var(--color-info);\n}\n\n.tab.error {\n  border-left: 3px solid var(--color-danger);\n  background: var(--color-danger-bg);\n}\n\n.tab.playing {\n  border-left: 3px solid var(--color-success);\n}\n\n.tab.editing {\n  border-left: 3px solid var(--color-accent);\n}\n\n/* ドラッグ中のタブ */\n.tab.dragging {\n  opacity: 0.5;\n  transform: rotate(5deg);\n  z-index: 1000;\n}\n\n/* タブアイコン */\n.tab-icon {\n  font-size: 14px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n}\n\n/* タブタイトル */\n.tab-title {\n  flex: 1;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-text-primary);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.tab.active .tab-title {\n  color: var(--color-accent);\n}\n\n/* ステータスインジケーター */\n.status-indicator {\n  font-size: 10px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  font-weight: bold;\n}\n\n.status-indicator.recording {\n  color: var(--color-danger);\n  animation: pulse 1.5s infinite;\n}\n\n.status-indicator.transcribing {\n  color: var(--color-warning);\n  animation: spin 1s linear infinite;\n}\n\n.status-indicator.loading {\n  color: var(--color-info);\n  animation: spin 1s linear infinite;\n}\n\n.status-indicator.error {\n  color: var(--color-danger);\n  background: var(--color-danger-bg);\n  animation: flash 2s infinite;\n}\n\n/* 閉じるボタン */\n.tab-close-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 18px;\n  height: 18px;\n  border: none;\n  background: transparent;\n  color: var(--color-text-secondary);\n  font-size: 14px;\n  font-weight: bold;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n  opacity: 0;\n}\n\n.tab:hover .tab-close-button {\n  opacity: 1;\n}\n\n.tab-close-button:hover {\n  background: var(--color-danger);\n  color: white;\n}\n\n/* 新しいタブボタン */\n.new-tab-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  margin-left: 8px;\n  border: 1px solid var(--color-border);\n  background: var(--color-bg-tertiary);\n  color: var(--color-text-secondary);\n  font-size: 16px;\n  font-weight: bold;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n\n.new-tab-button:hover {\n  background: var(--color-bg-hover);\n  border-color: var(--color-accent);\n  color: var(--color-accent);\n}\n\n/* アニメーション */\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes flash {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.3;\n  }\n}\n\n/* レスポンシブ対応 */\n@media (max-width: 768px) {\n  .tab {\n    min-width: 80px;\n    max-width: 120px;\n    padding: 6px 8px;\n  }\n  \n  .tab-title {\n    font-size: 12px;\n  }\n  \n  .tab-icon {\n    font-size: 12px;\n    width: 14px;\n    height: 14px;\n  }\n}\n\n/* ダークモード対応 */\n@media (prefers-color-scheme: dark) {\n  .tab {\n    border-color: rgba(255, 255, 255, 0.1);\n  }\n  \n  .tab:hover {\n    border-color: rgba(255, 255, 255, 0.2);\n  }\n  \n  .tab.active {\n    border-color: var(--color-accent);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n  }\n}",""]);const s=i}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0,(()=>{"use strict";var e=t(848),n=t(338),r=t(540),o=t(72),a=t.n(o),i=t(825),s=t.n(i),l=t(659),c=t.n(l),d=t(56),u=t.n(d),p=t(159),f=t.n(p),h=t(113),g=t.n(h),m=t(131),v={};v.styleTagTransform=g(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),a()(m.A,v),m.A&&m.A.locals&&m.A.locals;const b=()=>{const[n,t]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{const e=await window.electronAPI.windowIsMaximized();t(e)}catch(e){console.error("最大化状態取得エラー:",e)}})()},[]);const o=(0,r.useCallback)(async()=>{try{await window.electronAPI.windowMinimize()}catch(e){console.error("最小化エラー:",e)}},[]),a=(0,r.useCallback)(async()=>{try{await window.electronAPI.windowMaximize();const e=await window.electronAPI.windowIsMaximized();t(e)}catch(e){console.error("最大化エラー:",e)}},[]),i=(0,r.useCallback)(async()=>{try{await window.electronAPI.windowClose()}catch(e){console.error("ウィンドウ閉じるエラー:",e)}},[]);return(0,e.jsxs)("div",{className:"titlebar",children:[(0,e.jsx)("div",{className:"titlebar__title",children:"Voise Encoder - 音声録音・再生アプリ"}),(0,e.jsxs)("div",{className:"titlebar__controls",children:[(0,e.jsx)("button",{className:"titlebar__button titlebar__button--minimize",onClick:o,title:"最小化",children:"─"}),(0,e.jsx)("button",{className:"titlebar__button titlebar__button--maximize",onClick:a,title:n?"元のサイズに戻す":"最大化",children:n?"❐":"□"}),(0,e.jsx)("button",{className:"titlebar__button titlebar__button--close",onClick:i,title:"閉じる",children:"✕"})]})]})};var x,y,w,k;!function(e){e.WELCOME="welcome",e.PLAYER="player",e.ADVANCED_RECORDING="advanced_recording"}(x||(x={})),function(e){e.IDLE="idle",e.LOADING="loading",e.RECORDING="recording",e.TRANSCRIBING="transcribing",e.PLAYING="playing",e.EDITING="editing",e.ERROR="error"}(y||(y={})),function(e){e.TRANSCRIBE_FILE="transcribe_file",e.OPEN_AUDIO_FILE="open_audio_file",e.OPEN_TEXT_FILE="open_text_file",e.ADVANCED_RECORD_WITH_TRANSCRIPTION="advanced_record_with_transcription"}(w||(w={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.SILENT=4]="SILENT"}(k||(k={}));class S{static safeStringify(e){try{return JSON.stringify(e,null,0)}catch(n){try{return JSON.stringify(e,(e,n)=>"object"==typeof n&&null!==n?n.constructor?.name?`[${n.constructor.name}]`:"[Object]":n)}catch{return"[非シリアライズ可能オブジェクト]"}}}static formatForConsole(e){let n=`${e.timestamp} [${k[e.level].padEnd(5)}] ${e.category.padEnd(20)} ${e.message}`;return e.context&&Object.keys(e.context).length>0&&(n+=` | Context: ${S.safeStringify(e.context)}`),e.data&&(n+=` | Data: ${S.safeStringify(e.data)}`),n}static formatForFile(e){return JSON.stringify(e)}}class E{constructor(e,n={}){this.category=e,this.context=n}static setLevel(e){E.globalLevel=e}static setDevelopmentMode(e){E.isDevelopment=e}updateContext(e){this.context={...this.context,...e}}createLogEntry(e,n,t,r){return{timestamp:(new Date).toISOString(),level:e,category:this.category,message:n,context:Object.keys(this.context).length>0?this.context:void 0,data:t,error:r}}shouldLog(e){return e>=E.globalLevel}output(e){if(!this.shouldLog(e.level))return;const n=S.formatForConsole(e);if(E.isDevelopment)switch(e.level){case k.DEBUG:console.debug(n);break;case k.INFO:console.info(n);break;case k.WARN:console.warn(n);break;case k.ERROR:console.error(n)}!E.isDevelopment&&(e.level,k.WARN)}debug(e,n){const t=this.createLogEntry(k.DEBUG,e,n);this.output(t)}info(e,n){const t=this.createLogEntry(k.INFO,e,n);this.output(t)}warn(e,n,t){const r=this.createLogEntry(k.WARN,e,n,t);this.output(r)}error(e,n,t){const r=this.createLogEntry(k.ERROR,e,t,n);this.output(r)}debugIf(e,n,t){e&&this.debug(n,t)}infoIf(e,n,t){e&&this.info(n,t)}warnIf(e,n,t){e&&this.warn(n,t)}errorIf(e,n,t,r){e&&this.error(n,t,r)}timeStart(e){this.debug(`⏱️ 処理開始: ${e}`)}timeEnd(e,n){const t=Date.now()-n;this.debug(`⏱️ 処理完了: ${e} (${t}ms)`)}stats(e,n){this.info(`📊 ${e}`,n)}perf(e,n){this.debug(`🚀 ${e}`,n)}security(e,n){this.warn(`🔒 ${e}`,n)}network(e,n){this.info(`🌐 ${e}`,n)}fileIO(e,n){this.debug(`📁 ${e}`,n)}userAction(e,n){this.info(`👤 ${e}`,n)}}E.globalLevel=k.INFO,E.isDevelopment=!1;const N={APP:"App",UI_BOTTOM_PANEL:"UI.BottomPanel",UI_SPEECH_RECOGNITION:"UI.SpeechRecognition",UI_FILE_LIST:"UI.FileList",UI_SETTINGS:"UI.Settings",TAB_SYSTEM:"Tab.System",HOOK_RECORDING_CONTROL:"Hook.RecordingControl",HOOK_DEVICE_MANAGER:"Hook.DeviceManager",HOOK_BOTTOM_PANEL_STATE:"Hook.BottomPanelState",SERVICE_RECORDING:"Service.Recording",SERVICE_TRANSCRIPTION:"Service.Transcription",SERVICE_FILE_MANAGER:"Service.FileManager",SERVICE_AUDIO_MIXING:"Service.AudioMixing",SERVICE_MICROPHONE_MONITOR:"Service.MicrophoneMonitor",AUDIO_CHUNK_PROCESSOR:"Audio.ChunkProcessor",AUDIO_DIFFERENTIAL_GENERATOR:"Audio.DifferentialGenerator",AUDIO_CHUNK_WATCHER:"Audio.ChunkWatcher",TRANSCRIPTION_ENGINE:"Transcription.Engine",TRANSCRIPTION_WEBSOCKET:"Transcription.WebSocket",TRANSCRIPTION_REALTIME:"Transcription.Realtime",TRANSCRIPTION_FILE_BASED:"Transcription.FileBased",TRANSCRIPTION_QUEUE:"Transcription.Queue",FILE_CHUNK_WATCHER:"File.ChunkWatcher",FILE_REALTIME_PROCESSOR:"File.RealtimeProcessor",FILE_TEXT_MANAGER:"File.TextManager",NETWORK_API:"Network.API",NETWORK_WEBSOCKET:"Network.WebSocket",SYSTEM_ELECTRON:"System.Electron",SYSTEM_PRELOAD:"System.Preload",SYSTEM_MAIN:"System.Main",ERROR_HANDLER:"Error.Handler",ERROR_RECOVERY:"Error.Recovery",PERF_MONITOR:"Perf.Monitor",PERF_METRICS:"Perf.Metrics",DEBUG_GENERAL:"Debug.General",DEBUG_STATE:"Debug.State",CHUNK_PROCESSOR:"Chunk.Processor",CHUNK_MANAGER:"Chunk.Manager",CHUNK_WATCHER:"Chunk.Watcher"};class C{static initialize(e){C.initialized||(void 0!==e?.level&&E.setLevel(e.level),void 0!==e?.isDevelopment&&E.setDevelopmentMode(e.isDevelopment),C.initialized=!0,"undefined"!=typeof window&&(window.setLogLevel=e=>{const n=k[e];C.setLogLevel(n),console.log(`✅ ログレベルを ${e} に変更しました`)},window.getLogLevel=()=>{const e=C.getCurrentLogLevel(),n=k[e];return console.log(`📊 現在のログレベル: ${n}`),n},window.showLogHelp=()=>{console.log("\n📋 ログレベル変更コマンド:\n- setLogLevel('DEBUG')  - デバッグレベル（全てのログを表示）\n- setLogLevel('INFO')   - 情報レベル（情報以上を表示） \n- setLogLevel('WARN')   - 警告レベル（警告以上を表示）\n- setLogLevel('ERROR')  - エラーレベル（エラーのみ表示）\n- setLogLevel('SILENT') - サイレント（ログ出力なし）\n- getLogLevel()         - 現在のログレベルを確認\n- showLogHelp()         - このヘルプを表示\n        ")},console.log("📋 ログレベル変更機能が利用可能です。showLogHelp() でヘルプを表示できます。")),C.getLogger(N.APP).info("LoggerFactory初期化完了",{level:k[e?.level||k.INFO],isDevelopment:e?.isDevelopment||!1,categoriesCount:Object.keys(N).length}))}static getLogger(e,n){const t=`${e}${n?JSON.stringify(n):""}`;return C.instances.has(t)||C.instances.set(t,new E(e,n)),C.instances.get(t)}static clearCategory(e){Array.from(C.instances.keys()).filter(n=>n.startsWith(e)).forEach(e=>C.instances.delete(e))}static clearAll(){C.instances.clear()}static getStats(){const e=Array.from(new Set(Array.from(C.instances.keys()).map(e=>e.split("{")[0])));return{totalInstances:C.instances.size,categories:e,memoryUsage:`${Math.round(.1*C.instances.size)}KB`}}static getDefaultConfig(){return{level:k.WARN,isDevelopment:!1}}static setLogLevel(e){E.setLevel(e),C.getLogger(N.APP).info("ログレベル変更",{newLevel:k[e]})}static getCurrentLogLevel(){return E.globalLevel||k.INFO}static createUILogger(e,n){return C.getLogger(`UI.${e}`,n)}static createServiceLogger(e,n){return C.getLogger(`Service.${e}`,n)}static createAudioLogger(e,n){return C.getLogger(`Audio.${e}`,n)}static createTranscriptionLogger(e,n){return C.getLogger(`Transcription.${e}`,n)}static createFileLogger(e,n){return C.getLogger(`File.${e}`,n)}static createErrorLogger(e,n){return C.getLogger(`Error.${e}`,n)}static createPerfLogger(e,n){return C.getLogger(`Perf.${e}`,n)}}C.instances=new Map,C.initialized=!1,C.getLogger;const T=C.getLogger(N.TAB_SYSTEM),_=(e,n)=>{switch(n.type){case"CREATE_TAB":{const{type:t,title:r,data:o,isClosable:a=!0,tabId:i}=n.payload;if(!t||!r)throw new Error("CREATE_TAB requires type and title");const s={id:i||`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:t,title:r,status:y.IDLE,isActive:!1,isClosable:a,data:o,createdAt:new Date,lastAccessedAt:new Date};return T.debug("新しいタブを作成",{tabId:s.id,type:t,title:r}),[...e,s]}case"CLOSE_TAB":{const{tabId:t}=n.payload,r=e.filter(e=>e.id!==t);return T.debug("タブを閉じました",{tabId:t,remainingTabs:r.length}),r}case"ACTIVATE_TAB":{const{tabId:t}=n.payload;return e.map(e=>({...e,isActive:e.id===t,lastAccessedAt:e.id===t?new Date:e.lastAccessedAt}))}case"UPDATE_TAB":{const{tabId:t,updates:r}=n.payload;return e.map(e=>e.id===t?{...e,...r,lastAccessedAt:new Date}:e)}case"REORDER_TABS":{const{fromIndex:t,toIndex:r}=n.payload;if(void 0===t||void 0===r)throw new Error("REORDER_TABS requires fromIndex and toIndex");const o=[...e],[a]=o.splice(t,1);return o.splice(r,0,a),T.debug("タブを並び替え",{fromIndex:t,toIndex:r}),o}default:return e}},j=(0,r.createContext)(null),A=({children:n})=>{const[t,o]=(0,r.useReducer)(_,[]),a=t.find(e=>e.isActive)?.id||null,i=(0,r.useCallback)((e,n)=>{const r=R(e,n),a=`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(e===x.ADVANCED_RECORDING){const i=t.find(e=>e.type===x.WELCOME||e.type===x.ADVANCED_RECORDING);return i?(o({type:"UPDATE_TAB",payload:{tabId:i.id,updates:{type:e,title:r,data:n,status:y.IDLE}}}),l(i.id),i.id):(o({type:"CREATE_TAB",payload:{type:e,title:r,data:n,isClosable:!1,tabId:a}}),l(a),a)}if(e===x.PLAYER){const i=t.find(e=>e.type===x.PLAYER);return i?(o({type:"UPDATE_TAB",payload:{tabId:i.id,updates:{title:r,data:n,status:y.IDLE}}}),l(i.id),i.id):(o({type:"CREATE_TAB",payload:{type:e,title:r,data:n,isClosable:!0,tabId:a}}),l(a),a)}return o({type:"CREATE_TAB",payload:{type:e,title:r,data:n,isClosable:!1,tabId:a}}),l(a),a},[t]),s=(0,r.useCallback)(e=>{const n=t.find(n=>n.id===e);if(!n)return;if(n.type!==x.PLAYER)return void T.warn("プレイヤータブ以外のクローズが試行されました",{tabId:e,type:n.type});o({type:"CLOSE_TAB",payload:{tabId:e}});const r=t.find(e=>e.type===x.WELCOME||e.type===x.ADVANCED_RECORDING);r&&l(r.id)},[t]),l=(0,r.useCallback)(e=>{o({type:"ACTIVATE_TAB",payload:{tabId:e}}),T.debug("タブをアクティブ化",{tabId:e})},[]),c=(0,r.useCallback)((e,n)=>{o({type:"UPDATE_TAB",payload:{tabId:e,updates:n}})},[]),d=(0,r.useCallback)((e,n)=>{o({type:"REORDER_TABS",payload:{fromIndex:e,toIndex:n}})},[]),u=(0,r.useCallback)(()=>t.find(e=>e.isActive)||null,[t]),p=(0,r.useCallback)(e=>t.find(n=>n.id===e)||null,[t]);(0,r.useEffect)(()=>{0===t.length&&(T.info("タブシステム初期化: ウェルカムタブを作成"),i(x.WELCOME))},[t.length,i]);const f={tabs:t,activeTabId:a,createTab:i,closeTab:s,activateTab:l,updateTab:c,reorderTabs:d,getActiveTab:u,getTabById:p};return(0,e.jsx)(j.Provider,{value:f,children:n})},I=()=>{const e=(0,r.useContext)(j);if(!e)throw new Error("useTabContext must be used within TabProvider");return e},R=(e,n)=>{switch(e){case x.WELCOME:return"Welcome";case x.ADVANCED_RECORDING:return"新録音システム";case x.PLAYER:return n?.fileName||"プレイヤー";default:return"タブ"}},L={recording:{microphone:{deviceId:"default",deviceName:"Microphone (Default)"},desktopAudio:{enabled:!1,deviceId:"default",deviceName:"System Audio"}},transcription:{model:"kotoba-whisper-v1.0",quality:"high",language:"ja",chunkDurationSeconds:20},file:{workspaceFolder:"D:\\work\\recordings",autoSaveInterval:3},detailed:{uiTheme:"light",logLevel:"info",autoLineBreak:!0}},z=(0,r.createContext)(null),P=({children:n})=>{const[t,o]=(0,r.useState)(L),a=async()=>{try{const e=localStorage.getItem("koeNote_recordingSettings"),n=localStorage.getItem("koeNote_transcriptionSettings"),t=localStorage.getItem("koeNote_fileSettings"),r=localStorage.getItem("koeNote_detailedSettings"),a={recording:e?JSON.parse(e):L.recording,transcription:n?JSON.parse(n):L.transcription,file:t?JSON.parse(t):L.file,detailed:r?JSON.parse(r):L.detailed};o(a),console.log("設定を読み込みました:",a)}catch(e){console.error("設定読み込みエラー:",e),o(L)}},i=async()=>{try{localStorage.setItem("koeNote_recordingSettings",JSON.stringify(t.recording)),localStorage.setItem("koeNote_transcriptionSettings",JSON.stringify(t.transcription)),localStorage.setItem("koeNote_fileSettings",JSON.stringify(t.file)),localStorage.setItem("koeNote_detailedSettings",JSON.stringify(t.detailed)),console.log("設定を保存しました:",t)}catch(e){console.error("設定保存エラー:",e)}};(0,r.useEffect)(()=>{a()},[]),(0,r.useEffect)(()=>{t!==L&&i()},[t]);const s={settings:t,updateRecordingSettings:e=>{o(n=>({...n,recording:{...n.recording,...e}}))},updateTranscriptionSettings:e=>{o(n=>({...n,transcription:{...n.transcription,...e}}))},updateFileSettings:e=>{o(n=>({...n,file:{...n.file,...e}}))},updateDetailedSettings:e=>{o(n=>({...n,detailed:{...n.detailed,...e}}))},resetToDefaults:()=>{o(L)},loadSettings:a,saveSettings:i};return(0,e.jsx)(z.Provider,{value:s,children:n})};var M=t(789),F=t(163),O={};O.styleTagTransform=g(),O.setAttributes=u(),O.insert=c().bind(null,"head"),O.domAPI=s(),O.insertStyleElement=f(),a()(F.A,O),F.A&&F.A.locals&&F.A.locals;const D=({onModelInstalled:n,onError:t})=>{const[o,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(new Set),[l,c]=(0,r.useState)(new Map),[d,u]=(0,r.useState)(null),[p,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{h()},[]);const h=async()=>{try{f(!0);const e=await M.modelDownloadService.getAvailableModels();a(e)}catch(e){const n=e instanceof Error?e.message:"Failed to load models";u(n),t?.(n)}finally{f(!1)}};return p?(0,e.jsx)("div",{className:"model-downloader",children:(0,e.jsx)("div",{className:"loading",children:"Loading available models..."})}):(0,e.jsxs)("div",{className:"model-downloader",children:[(0,e.jsx)("h3",{children:"Model Management"}),d&&(0,e.jsxs)("div",{className:"error-message",children:[d,(0,e.jsx)("button",{onClick:()=>u(null),children:"×"})]}),(0,e.jsx)("div",{className:"models-list",children:o.map(r=>{const o=i.has(r.id),a=l.get(r.id),d=r.isInstalled;return(0,e.jsxs)("div",{className:"model-item",children:[(0,e.jsxs)("div",{className:"model-info",children:[(0,e.jsx)("h4",{children:r.name}),(0,e.jsx)("p",{className:"model-description",children:r.description}),(0,e.jsxs)("div",{className:"model-details",children:[(0,e.jsxs)("span",{className:"model-size",children:["Size: ",r.size]}),(0,e.jsxs)("span",{className:"model-license",children:["License: ",r.license]}),(0,e.jsxs)("span",{className:"model-version",children:["Version: ",r.version]})]})]}),(0,e.jsx)("div",{className:"model-actions",children:d?(0,e.jsxs)("div",{className:"installed-status",children:[(0,e.jsx)("span",{className:"status-badge installed",children:"✓ Installed"}),(0,e.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await M.modelDownloadService.removeModel(e),h()}catch(e){const n=e instanceof Error?e.message:"Failed to remove model";u(n),t?.(n)}})(r.id),children:"Remove"})]}):o?(0,e.jsxs)("div",{className:"downloading-status",children:[(0,e.jsxs)("div",{className:"progress-info",children:[(0,e.jsx)("div",{className:"progress-bar",children:(0,e.jsx)("div",{className:"progress-fill",style:{width:`${a?.progress||0}%`}})}),(0,e.jsxs)("div",{className:"progress-details",children:[(0,e.jsxs)("span",{children:[Math.round(a?.progress||0),"%"]}),a&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:(p=a.speed,(e=>{if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]})(p)+"/s")}),(0,e.jsxs)("span",{children:["ETA: ",(f=a.eta,f<60?`${Math.round(f)}s`:f<3600?`${Math.round(f/60)}m`:`${Math.round(f/3600)}h`)]})]})]})]}),(0,e.jsx)("button",{className:"btn btn-secondary",onClick:()=>(async e=>{try{await M.modelDownloadService.cancelDownload(e),s(n=>{const t=new Set(n);return t.delete(e),t}),c(n=>{const t=new Map(n);return t.delete(e),t})}catch(e){console.error("Failed to cancel download:",e)}})(r.id),children:"Cancel"})]}):(0,e.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{try{u(null),s(n=>new Set(n).add(e)),await M.modelDownloadService.downloadModel({modelId:e,onProgress:n=>{c(t=>new Map(t).set(e,n))},onComplete:e=>{s(n=>{const t=new Set(n);return t.delete(e),t}),c(n=>{const t=new Map(n);return t.delete(e),t}),n?.(e),h()},onError:n=>{u(n),t?.(n),s(n=>{const t=new Set(n);return t.delete(e),t})}})}catch(e){const n=e instanceof Error?e.message:"Download failed";u(n),t?.(n)}})(r.id),children:"Download"})})]},r.id);var p,f})})]})};var B=t(368),$={};$.styleTagTransform=g(),$.setAttributes=u(),$.insert=c().bind(null,"head"),$.domAPI=s(),$.insertStyleElement=f(),a()(B.A,$),B.A&&B.A.locals&&B.A.locals;const U=({installedModels:n,currentModel:r,onModelSelect:o,onModelRemoved:a,onError:i,isLoading:s})=>{const l=e=>{o?.(e)};return s?(0,e.jsx)("div",{className:"model-status",children:(0,e.jsx)("div",{className:"loading",children:"Loading installed models..."})}):0===n.length?(0,e.jsx)("div",{className:"model-status",children:(0,e.jsxs)("div",{className:"empty-state",children:[(0,e.jsx)("h3",{children:"No Models Installed"}),(0,e.jsx)("p",{children:'Download models from the "Download Models" tab to get started.'})]})}):(0,e.jsxs)("div",{className:"model-status",children:[(0,e.jsxs)("h3",{children:["Installed Models (",n.length,")"]}),(0,e.jsx)("div",{className:"models-grid",children:n.map(n=>(0,e.jsxs)("div",{className:"model-card "+(r===n.id?"active":""),onClick:()=>l(n.id),children:[(0,e.jsxs)("div",{className:"model-card-header",children:[(0,e.jsx)("h4",{children:n.name}),r===n.id&&(0,e.jsx)("span",{className:"current-badge",children:"Current"})]}),(0,e.jsxs)("div",{className:"model-card-body",children:[(0,e.jsx)("p",{className:"model-description",children:n.description}),(0,e.jsxs)("div",{className:"model-meta",children:[(0,e.jsxs)("div",{className:"meta-item",children:[(0,e.jsx)("span",{className:"meta-label",children:"Size:"}),(0,e.jsx)("span",{className:"meta-value",children:n.size})]}),(0,e.jsxs)("div",{className:"meta-item",children:[(0,e.jsx)("span",{className:"meta-label",children:"Version:"}),(0,e.jsx)("span",{className:"meta-value",children:n.version})]}),(0,e.jsxs)("div",{className:"meta-item",children:[(0,e.jsx)("span",{className:"meta-label",children:"License:"}),(0,e.jsx)("span",{className:"meta-value",children:n.license})]}),n.lastUpdated&&(0,e.jsxs)("div",{className:"meta-item",children:[(0,e.jsx)("span",{className:"meta-label",children:"Updated:"}),(0,e.jsx)("span",{className:"meta-value",children:n.lastUpdated.toLocaleDateString()})]})]})]}),(0,e.jsxs)("div",{className:"model-card-actions",children:[(0,e.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.stopPropagation(),l(n.id)},disabled:r===n.id,children:r===n.id?"Active":"Select"}),(0,e.jsx)("button",{className:"btn btn-danger",onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm(`Are you sure you want to remove ${e}?`))try{const{modelDownloadService:n}=await Promise.resolve().then(t.bind(t,789));await n.removeModel(e),a?.()}catch(e){const n=e instanceof Error?e.message:"Failed to remove model";i?.(n)}})(n.id)},children:"Remove"})]})]},n.id))})]})};var W=t(157),V={};V.styleTagTransform=g(),V.setAttributes=u(),V.insert=c().bind(null,"head"),V.domAPI=s(),V.insertStyleElement=f(),a()(W.A,V),W.A&&W.A.locals&&W.A.locals;const G=({onModelChange:n,currentModel:t})=>{const[o,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)("download");(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{s(!0);const e=await M.modelDownloadService.getInstalledModels();a(e)}catch(e){const n=e instanceof Error?e.message:"Failed to load installed models";c(n)}finally{s(!1)}},f=e=>{c(e)};return(0,e.jsxs)("div",{className:"model-manager",children:[(0,e.jsxs)("div",{className:"model-manager-header",children:[(0,e.jsx)("h2",{children:"Model Management"}),(0,e.jsxs)("div",{className:"tab-buttons",children:[(0,e.jsx)("button",{className:"tab-button "+("download"===d?"active":""),onClick:()=>u("download"),children:"Download Models"}),(0,e.jsx)("button",{className:"tab-button "+("manage"===d?"active":""),onClick:()=>u("manage"),children:"Manage Installed"})]})]}),l&&(0,e.jsxs)("div",{className:"error-banner",children:[(0,e.jsx)("span",{children:l}),(0,e.jsx)("button",{onClick:()=>c(null),children:"×"})]}),(0,e.jsx)("div",{className:"model-manager-content",children:"download"===d?(0,e.jsx)(D,{onModelInstalled:e=>{p(),n?.(e)},onError:f}):(0,e.jsx)(U,{installedModels:o,currentModel:t,onModelSelect:e=>{n?.(e)},onModelRemoved:p,onError:f,isLoading:i})})]})};var H=t(915),K={};K.styleTagTransform=g(),K.setAttributes=u(),K.insert=c().bind(null,"head"),K.domAPI=s(),K.insertStyleElement=f(),a()(H.A,K),H.A&&H.A.locals&&H.A.locals;const Q=({isOpen:n,onClose:t})=>{const{currentModel:o,setCurrentModel:a}=Ie(),{settings:i,updateRecordingSettings:s,updateTranscriptionSettings:l,updateFileSettings:c,updateDetailedSettings:d,resetToDefaults:u}=(()=>{const e=(0,r.useContext)(z);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e})(),[p,f]=(0,r.useState)(i.recording),[h,g]=(0,r.useState)({...i.transcription,quality:i.transcription.quality,language:i.transcription.language}),[m,v]=(0,r.useState)(i.file),[b,x]=(0,r.useState)({...i.detailed,uiTheme:i.detailed.uiTheme,logLevel:i.detailed.logLevel}),[y,w]=(0,r.useState)([]),[k,S]=(0,r.useState)(null),[E,N]=(0,r.useState)([]),[C,T]=(0,r.useState)(!1),[_,j]=(0,r.useState)(!1),[A,I]=(0,r.useState)("general");return(0,r.useEffect)(()=>{n&&(async()=>{try{S(null);const e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind).map(e=>({deviceId:e.deviceId,label:e.label||`マイクロフォン ${e.deviceId.slice(0,8)}`,kind:e.kind,groupId:e.groupId}));w(e)}catch(e){const n={field:"devices",message:e instanceof Error?e.message:"デバイス取得に失敗しました",type:e instanceof Error&&"NotAllowedError"===e.name?"permission":"device"};S(n),console.error("デバイス取得エラー:",e)}})()},[n]),(0,r.useEffect)(()=>{n&&(f(i.recording),g({...i.transcription,model:o||i.transcription.model,quality:i.transcription.quality,language:i.transcription.language}),v(i.file),x({...i.detailed,uiTheme:i.detailed.uiTheme,logLevel:i.detailed.logLevel}))},[n,i,o]),n?(0,e.jsx)("div",{className:"settings-modal-overlay",children:(0,e.jsxs)("div",{className:"settings-modal",children:[(0,e.jsxs)("div",{className:"settings-modal__header",children:[(0,e.jsx)("h2",{children:"⚙️ KoeNote 設定"}),(0,e.jsx)("button",{className:"settings-modal__close",onClick:t,title:"閉じる",children:"✕"})]}),(0,e.jsxs)("div",{className:"settings-modal__content",children:[(0,e.jsxs)("div",{className:"settings-modal__tabs",children:[(0,e.jsx)("button",{className:"settings-tab "+("general"===A?"active":""),onClick:()=>I("general"),children:"一般設定"}),(0,e.jsx)("button",{className:"settings-tab "+("models"===A?"active":""),onClick:()=>I("models"),children:"モデル管理"})]}),"general"===A?(0,e.jsxs)("div",{className:"settings-modal__body",children:[(0,e.jsxs)("section",{className:"settings-section",children:[(0,e.jsx)("h3",{children:"📺 録音設定"}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"mic-device",children:"入力デバイス:"}),(0,e.jsxs)("select",{id:"mic-device",value:p.microphone.deviceId,onChange:e=>{const n=y.find(n=>n.deviceId===e.target.value);f(t=>({...t,microphone:{deviceId:e.target.value,deviceName:n?.label||"Unknown Device"}}))},children:[(0,e.jsx)("option",{value:"default",children:"Microphone (Default)"}),y.map(n=>(0,e.jsx)("option",{value:n.deviceId,children:n.label||`Device ${n.deviceId.slice(0,8)}`},n.deviceId))]})]}),(0,e.jsx)("div",{className:"settings-item",children:(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"checkbox",checked:p.desktopAudio.enabled,onChange:e=>f(n=>({...n,desktopAudio:{...n.desktopAudio,enabled:e.target.checked}}))}),"デスクトップ音声を録音"]})}),(0,e.jsx)("div",{className:"settings-note",children:"※ 録音・文字起こしタブの設定と同期されます"})]}),(0,e.jsxs)("section",{className:"settings-section",children:[(0,e.jsx)("h3",{children:"🤖 文字起こし設定"}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"transcription-model",children:"モデル:"}),(0,e.jsxs)("select",{id:"transcription-model",value:h.model,onChange:e=>g(n=>({...n,model:e.target.value})),children:[(0,e.jsx)("option",{value:"kotoba-whisper-v1.0",children:"Kotoba-Whisper v1.0"}),(0,e.jsx)("option",{value:"whisper-large",children:"Whisper Large"}),(0,e.jsx)("option",{value:"whisper-base",children:"Whisper Base"})]})]}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"transcription-quality",children:"品質:"}),(0,e.jsxs)("select",{id:"transcription-quality",value:h.quality,onChange:e=>g(n=>({...n,quality:e.target.value})),children:[(0,e.jsx)("option",{value:"high",children:"高精度（処理時間長）"}),(0,e.jsx)("option",{value:"medium",children:"標準"}),(0,e.jsx)("option",{value:"fast",children:"高速（精度低）"})]})]}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"transcription-language",children:"言語:"}),(0,e.jsxs)("select",{id:"transcription-language",value:h.language,onChange:e=>g(n=>({...n,language:e.target.value})),children:[(0,e.jsx)("option",{value:"ja",children:"日本語"}),(0,e.jsx)("option",{value:"en",children:"English"}),(0,e.jsx)("option",{value:"auto",children:"自動検出"})]})]}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"chunk-duration",children:"チャンク分割時間:"}),(0,e.jsxs)("select",{id:"chunk-duration",value:h.chunkDurationSeconds,onChange:e=>g(n=>({...n,chunkDurationSeconds:parseInt(e.target.value)})),children:[(0,e.jsx)("option",{value:10,children:"10秒"}),(0,e.jsx)("option",{value:20,children:"20秒"}),(0,e.jsx)("option",{value:30,children:"30秒"})]}),(0,e.jsx)("span",{className:"settings-hint",children:"リアルタイム処理用"})]})]}),(0,e.jsxs)("section",{className:"settings-section",children:[(0,e.jsx)("h3",{children:"📁 ファイル設定"}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"workspace-folder",children:"作業フォルダ:"}),(0,e.jsxs)("div",{className:"folder-input",children:[(0,e.jsx)("input",{type:"text",id:"workspace-folder",value:m.workspaceFolder,readOnly:!0}),(0,e.jsx)("button",{type:"button",onClick:async()=>{try{const e=await window.electronAPI.selectFolder();e&&v(n=>({...n,workspaceFolder:e}))}catch(e){console.error("フォルダ選択エラー:",e)}},className:"btn btn--secondary",children:"参照..."})]}),(0,e.jsx)("div",{className:"settings-hint",children:"録音・文字起こし結果の保存・読み込み先"})]}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"auto-save-interval",children:"自動保存間隔:"}),(0,e.jsxs)("select",{id:"auto-save-interval",value:m.autoSaveInterval,onChange:e=>v(n=>({...n,autoSaveInterval:parseInt(e.target.value)})),children:[(0,e.jsx)("option",{value:1,children:"1秒"}),(0,e.jsx)("option",{value:3,children:"3秒"}),(0,e.jsx)("option",{value:5,children:"5秒"}),(0,e.jsx)("option",{value:10,children:"10秒"})]})]})]}),(0,e.jsxs)("section",{className:"settings-section",children:[(0,e.jsx)("h3",{children:"🔧 詳細設定"}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"ui-theme",children:"UIテーマ:"}),(0,e.jsxs)("select",{id:"ui-theme",value:b.uiTheme,onChange:e=>x(n=>({...n,uiTheme:e.target.value})),children:[(0,e.jsx)("option",{value:"light",children:"ライト"}),(0,e.jsx)("option",{value:"dark",children:"ダーク"}),(0,e.jsx)("option",{value:"auto",children:"システム設定に従う"})]})]}),(0,e.jsxs)("div",{className:"settings-item",children:[(0,e.jsx)("label",{htmlFor:"log-level",children:"ログレベル:"}),(0,e.jsxs)("select",{id:"log-level",value:b.logLevel,onChange:e=>x(n=>({...n,logLevel:e.target.value})),children:[(0,e.jsx)("option",{value:"error",children:"ERROR"}),(0,e.jsx)("option",{value:"warn",children:"WARN"}),(0,e.jsx)("option",{value:"info",children:"INFO"}),(0,e.jsx)("option",{value:"debug",children:"DEBUG"})]})]}),(0,e.jsx)("div",{className:"settings-item",children:(0,e.jsxs)("label",{children:[(0,e.jsx)("input",{type:"checkbox",checked:b.autoLineBreak,onChange:e=>x(n=>({...n,autoLineBreak:e.target.checked}))}),"文字起こし結果の自動改行"]})})]})]}):(0,e.jsx)("div",{className:"settings-modal__body",children:(0,e.jsx)(G,{currentModel:o,onModelChange:a})})]}),(0,e.jsx)("div",{className:"settings-modal__footer",children:(0,e.jsxs)("div",{className:"settings-modal__actions",children:[(0,e.jsx)("button",{type:"button",onClick:()=>{if(window.confirm("すべての設定をデフォルトに戻しますか？"))try{u();const e={model:"kotoba-whisper-v1.0",quality:"medium",language:"ja",chunkDurationSeconds:20},n={workspaceFolder:"",autoSaveInterval:30},t={uiTheme:"auto",logLevel:"info",autoLineBreak:!0};f({microphone:{deviceId:"",deviceName:""},desktopAudio:{enabled:!1,deviceId:"",deviceName:""}}),g(e),v(n),x(t),N([]),S(null),console.log("設定をデフォルトに戻しました")}catch(e){N([{field:"general",message:"デフォルト設定への復元に失敗しました",type:"unknown"}]),console.error("設定リセットエラー:",e)}},className:"btn btn--secondary",children:"デフォルトに戻す"}),(0,e.jsxs)("div",{className:"settings-modal__main-actions",children:[(0,e.jsx)("button",{type:"button",onClick:()=>{N([]),S(null),j(!1),f(i.recording),g({...i.transcription,quality:i.transcription.quality,language:i.transcription.language}),v(i.file),x({...i.detailed,uiTheme:i.detailed.uiTheme,logLevel:i.detailed.logLevel}),t()},className:"btn btn--secondary",children:"キャンセル"}),(0,e.jsx)("button",{type:"button",onClick:async()=>{try{T(!0),N([]),j(!1);const e=(()=>{const e=[];return(h.chunkDurationSeconds<1||h.chunkDurationSeconds>300)&&e.push({field:"transcription.chunkDurationSeconds",message:"チャンク時間は1〜300秒の範囲で設定してください",type:"validation"}),m.autoSaveInterval<0&&e.push({field:"file.autoSaveInterval",message:"自動保存間隔は0以上の値を設定してください",type:"validation"}),m.workspaceFolder.trim()||e.push({field:"file.workspaceFolder",message:"ワークスペースフォルダを指定してください",type:"validation"}),e})();if(e.length>0)return N(e),void T(!1);s(p),l(h),c(m),d(b),a(h.model),console.log("設定を保存しました:",{recording:p,transcription:h,file:m,detailed:b}),j(!0),setTimeout(()=>{j(!1),t()},1e3)}catch(e){const n={field:"general",message:e instanceof Error?e.message:"設定の保存に失敗しました",type:"unknown"};N([n]),console.error("設定保存エラー:",e)}finally{T(!1)}},className:"btn btn--primary",children:"OK"})]})]})})]})}):null},Y=({files:n,selectedFileId:t,onFileSelect:r,onFileAction:o,isLoading:a=!1,error:i})=>{const s=e=>{if(0===e)return"0 B";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(1))+" "+["B","KB","MB","GB"][n]};if(a)return(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",color:"var(--color-text-secondary)"},children:(0,e.jsx)("div",{children:"📁 ファイル一覧を読み込み中..."})});if(i)return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"200px",color:"var(--color-error)",textAlign:"center",padding:"var(--spacing-md)"},children:[(0,e.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"❌"}),(0,e.jsx)("div",{style:{marginBottom:"8px"},children:i}),(0,e.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"4px 8px",fontSize:"var(--font-size-xs)",backgroundColor:"var(--color-accent)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"再試行"})]});if(0===n.length)return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"200px",color:"var(--color-text-secondary)",textAlign:"center"},children:[(0,e.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📁"}),(0,e.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"ファイルがありません"}),(0,e.jsx)("div",{style:{fontSize:"var(--font-size-sm)"},children:"録音を開始するとファイルがここに表示されます"})]});const l=[...n].sort((e,n)=>e.isRecording&&!n.isRecording?-1:!e.isRecording&&n.isRecording?1:new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime());return(0,e.jsxs)("div",{style:{padding:"var(--spacing-sm)",height:"100%",overflowY:"auto"},children:[(0,e.jsxs)("div",{style:{padding:"var(--spacing-sm)",borderBottom:"1px solid var(--color-border)",marginBottom:"var(--spacing-sm)",fontSize:"var(--font-size-sm)",fontWeight:"bold",color:"var(--color-text-primary)"},children:["📁 ファイル一覧 (",l.length,")"]}),l.map(n=>{const a=n.isPairedFile,i=n.hasTranscriptionFile,l=!!n.transcriptionPath;return a&&(console.log(`🔍 ペアファイル調査: ${n.filename}`),console.log(`  isPairedFile: ${a} (${typeof a})`),console.log(`  hasTranscriptionFile: ${i} (${typeof i})`),console.log(`  transcriptionPath: "${n.transcriptionPath}" (${typeof n.transcriptionPath})`),console.log(`  hasPath: ${l} (${typeof l})`),console.log(`  shouldShowChild: ${a&&i&&l}`)),(0,e.jsxs)("div",{style:{marginBottom:"var(--spacing-sm)"},children:[(0,e.jsx)("div",{onClick:()=>r(n.id),style:{padding:"var(--spacing-sm)",border:"1px solid var(--color-border)",borderRadius:"4px",backgroundColor:t===n.id?"var(--color-accent-light, #e3f2fd)":"var(--color-bg-secondary)",cursor:"pointer",transition:"all 0.2s ease",...n.isRecording&&{borderColor:"#ff4444",backgroundColor:"#fff5f5"},...n.isPairedFile&&{borderLeft:"4px solid var(--color-accent)"}},onMouseEnter:e=>{t!==n.id&&(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary, #f5f5f5)")},onMouseLeave:e=>{t!==n.id&&(e.currentTarget.style.backgroundColor="var(--color-bg-secondary, #fafafa)")},children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,e.jsx)("div",{style:{fontSize:"18px"},children:n.isRecording?"🔴":n.isTextFile?"📄":"md"===n.format?"📝":n.isRealtimeTranscription?"📋":"🎬"}),(0,e.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,e.jsxs)("div",{style:{fontWeight:"bold",fontSize:"var(--font-size-sm)",color:"var(--color-text-primary)",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[n.filename,n.isRecording&&(0,e.jsx)("span",{style:{marginLeft:"8px",padding:"2px 6px",fontSize:"var(--font-size-xs)",backgroundColor:"#ff4444",color:"white",borderRadius:"12px"},children:"録音中"})]}),(0,e.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)",fontSize:"var(--font-size-xs)",color:"var(--color-text-secondary)"},children:[(0,e.jsxs)("span",{children:["⏱️ ",(c=n.duration||0,0===c?"--:--":`${Math.floor(c/60)}:${Math.floor(c%60).toString().padStart(2,"0")}`)]}),(0,e.jsxs)("span",{children:["📊 ",s(n.size)]}),(0,e.jsx)("span",{children:n.format.toUpperCase()})]}),(0,e.jsxs)("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--color-text-tertiary)",marginTop:"2px"},children:["📅 ",new Date(n.createdAt).toLocaleString("ja-JP")]})]})]})}),(()=>{const e=n.isPairedFile&&n.hasTranscriptionFile&&n.transcriptionPath;return n.isPairedFile&&console.log(`🎯 子ノード表示判定: ${n.filename} = ${e}`),e})()&&(()=>{const r=n.transcriptionPath?.split(/[\\/]/).pop()||"transcription.txt",a=t===`${n.id}_transcription`;return(0,e.jsx)("div",{style:{marginTop:"4px",marginLeft:"20px",padding:"var(--spacing-xs)",backgroundColor:a?"var(--color-accent-light, #e3f2fd)":"var(--color-bg-primary)",border:"1px solid var(--color-border)",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease"},onClick:e=>{e.stopPropagation(),o("openTranscriptionFile",n.id,{filePath:n.transcriptionPath,fileName:r})},onMouseEnter:e=>{a||(e.currentTarget.style.backgroundColor="var(--color-bg-tertiary, #f0f0f0)")},onMouseLeave:e=>{a||(e.currentTarget.style.backgroundColor="var(--color-bg-primary, #ffffff)")},children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,e.jsx)("div",{style:{fontSize:"16px"},children:"📋"}),(0,e.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,e.jsx)("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--color-text-primary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r}),(0,e.jsxs)("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--color-text-secondary)",marginTop:"2px"},children:[n.transcriptionSize&&(0,e.jsxs)("span",{children:["📊 ",s(n.transcriptionSize)]}),(0,e.jsx)("span",{style:{marginLeft:"var(--spacing-xs)"},children:"文字起こし"})]})]})]})})})()]},n.id);var c})]})},q=()=>{const{selectedFile:n,setSelectedFile:t,setTranscriptionDisplayData:o,fileList:a,setFileList:i,recordingFile:s}=Ie(),{createTab:l}=I(),c=C.getLogger(N.UI_FILE_LIST),[d,u]=(0,r.useState)(""),[p,f]=(0,r.useState)(null),[h,g]=(0,r.useState)(new Map),[m,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),[S,E]=(0,r.useState)(""),T=(0,r.useCallback)(async e=>{y(!0),k(null);try{const n=await window.electronAPI.getFileList(e),t=await Promise.all(n.map(async e=>{try{const n=await window.electronAPI.checkTranscriptionExists(e.filepath),t=n?await window.electronAPI.getTranscriptionPath(e.filepath):void 0,r=s&&(e.id===s.id||e.filename===s.filename||e.filepath===s.filepath);return{...e,hasTranscriptionFile:n,transcriptionPath:t,isRecording:r||!1}}catch(n){return c.error("文字起こしファイル確認エラー",n),{...e,hasTranscriptionFile:!1,transcriptionPath:void 0,isRecording:!1}}}));i(t),c.info("ファイル一覧読み込み完了",{fileCount:t.length,transcriptionCount:t.filter(e=>e.hasTranscriptionFile).length})}catch(e){const n="ファイル一覧の読み込みに失敗しました";c.error(n,e),k(n),i([])}finally{y(!1)}},[i,s,c]),_=(0,r.useCallback)(async()=>{try{return(await window.electronAPI.loadSettings()).saveFolder||""}catch(e){return c.error("デフォルトフォルダ取得エラー",e),""}},[c]);(0,r.useEffect)(()=>{(async()=>{if(!d)try{const e=await _();e&&(u(e),await T(e))}catch(e){c.error("初期化エラー",e)}})()},[_,T,d,c]),(0,r.useEffect)(()=>{if(d){if(s){const e=setTimeout(()=>{T(d)},500);return()=>clearTimeout(e)}T(d)}},[s,d,T]);const j=(0,r.useMemo)(()=>{if(!S)return a;const e=S.toLowerCase();return a.filter(n=>n.filename.toLowerCase().includes(e)||n.filepath.toLowerCase().includes(e))},[a,S]),A=(0,r.useCallback)(e=>{const n=a.find(n=>n.id===e);if(n){t(n),f(e);const r=n.isTextFile||"txt"===n.format||"md"===n.format?"text":n.isRealtimeTranscription?"transcription":"audio";l(x.PLAYER,{filePath:n.filepath,fileName:n.filename,fileType:r,duration:n.duration,hasTranscriptionFile:n.hasTranscriptionFile,transcriptionPath:n.transcriptionPath}),c.info("ファイル選択",{filename:n.filename,fileId:e,fileType:r})}},[a,t,l,c]),R=(0,r.useCallback)(async(e,n,...t)=>{const r=a.find(e=>e.id===n);if(r)try{switch(e){case"openTranscriptionFile":const a=t[0];a&&(f(`${n}_transcription`),l(x.PLAYER,{filePath:a.filePath,fileName:a.fileName,fileType:"transcription",content:"",hasTranscriptionFile:!1}),c.info("文字起こしファイル選択",{transcriptionFile:a.fileName,fileId:n}));break;case"delete":window.confirm(`ファイル「${r.filename}」を削除しますか？`)&&(await window.electronAPI.deleteFile(r.filepath),await T(d),c.info("ファイル削除完了",{filename:r.filename}));break;case"toggleTranscription":if(r.hasTranscriptionFile&&r.transcriptionPath){const e=await window.electronAPI.loadTranscriptionFile(r.transcriptionPath);o(e),l(x.PLAYER,{filePath:r.transcriptionPath,fileName:`${r.filename} - 文字起こし`,fileType:"transcription",content:e}),c.info("文字起こし表示",{filename:r.filename})}break;case"export":break;default:c.warn("未知のファイル操作",{action:e,fileId:n})}}catch(e){c.error("ファイル操作エラー",e)}},[a,d,T,o,l,t,f,c]);return(0,r.useCallback)((e,n)=>{e.preventDefault()},[]),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text-primary)",fontFamily:"var(--font-family-ui)",fontSize:"var(--font-size-md)"},children:[(0,e.jsxs)("div",{style:{padding:"var(--spacing-md)",borderBottom:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-text-primary)"},children:[(0,e.jsx)("div",{style:{marginBottom:"var(--spacing-sm)"},children:(0,e.jsx)("input",{type:"text",placeholder:"ファイルを検索...",value:S,onChange:e=>E(e.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid var(--color-border)",borderRadius:"4px",fontSize:"var(--font-size-sm)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)",outline:"none"}})}),(0,e.jsx)("button",{onClick:()=>v(!0),style:{width:"100%",padding:"8px 12px",backgroundColor:"var(--color-accent)",color:"white",border:"none",borderRadius:"4px",fontSize:"var(--font-size-sm)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:"⚙️ 設定"})]}),(0,e.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,e.jsx)(Y,{files:j,selectedFileId:p,expandedFiles:new Set,onFileSelect:A,onFileAction:R,onToggleExpand:()=>{},isLoading:b,error:w||void 0})}),m&&(0,e.jsx)(Q,{isOpen:m,onClose:()=>v(!1)})]})};var X=t(989),J={};J.styleTagTransform=g(),J.setAttributes=u(),J.insert=c().bind(null,"head"),J.domAPI=s(),J.insertStyleElement=f(),a()(X.A,J),X.A&&X.A.locals&&X.A.locals;const Z=()=>{const{tabs:n,activeTabId:t,activateTab:o,closeTab:a}=I(),[i,s]=(0,r.useState)(null),l=(0,r.useCallback)(e=>{o(e)},[o]),c=(0,r.useCallback)((e,n)=>{e.stopPropagation(),a(n)},[a]),d=(0,r.useCallback)((e,n)=>{s(n),e.dataTransfer.effectAllowed="move"},[]),u=(0,r.useCallback)(()=>{s(null)},[]),p=(e,n)=>{if(n===y.LOADING)return"⏳";if(n===y.ERROR)return"❌";switch(e){case x.WELCOME:return"🏠";case x.ADVANCED_RECORDING:return n===y.RECORDING?"🔴":"🚀";case x.PLAYER:return n===y.PLAYING?"▶️":n===y.EDITING?"✏️":"📄";default:return"📄"}},f=n=>{switch(n){case y.RECORDING:return(0,e.jsx)("span",{className:"status-indicator recording",children:"●"});case y.TRANSCRIBING:return(0,e.jsx)("span",{className:"status-indicator transcribing",children:"⚡"});case y.LOADING:return(0,e.jsx)("span",{className:"status-indicator loading",children:"⏳"});case y.ERROR:return(0,e.jsx)("span",{className:"status-indicator error",children:"!"});default:return null}};return 0===n.length?null:(0,e.jsx)("div",{className:"tab-bar",children:(0,e.jsx)("div",{className:"tab-list",children:n.map((n,t)=>(0,e.jsxs)("div",{className:`tab ${n.isActive?"active":""} ${n.status} ${i===n.id?"dragging":""}`,onClick:()=>l(n.id),draggable:!0,onDragStart:e=>d(e,n.id),onDragEnd:u,title:`${n.title} - ${n.status}`,children:[(0,e.jsx)("span",{className:"tab-icon",children:p(n.type,n.status)}),(0,e.jsx)("span",{className:"tab-title",children:n.title}),f(n.status),n.isClosable&&(0,e.jsx)("button",{className:"tab-close-button",onClick:e=>c(e,n.id),title:"タブを閉じる",children:"×"})]},n.id))})})};var ee=t(981),ne={};ne.styleTagTransform=g(),ne.setAttributes=u(),ne.insert=c().bind(null,"head"),ne.domAPI=s(),ne.insertStyleElement=f(),a()(ee.A,ne),ee.A&&ee.A.locals&&ee.A.locals;const te=C.getLogger(N.UI_BOTTOM_PANEL),re=()=>{const{createTab:n}=I(),t=[{action:w.ADVANCED_RECORD_WITH_TRANSCRIPTION,title:"🎙️ 録音、文字起こし",description:"音声録音とリアルタイム文字起こし",icon:"🎙️",shortcut:"Ctrl+R",color:"success"},{action:w.TRANSCRIBE_FILE,title:"📄 ファイル文字起こし",description:"既存の音声ファイルを文字起こし",icon:"📄",color:"warning"},{action:w.OPEN_AUDIO_FILE,title:"🎵 音声ファイルを開く",description:"音声ファイルを再生・分析",icon:"🎵",color:"info"}],o=(0,r.useCallback)(e=>{switch(te.info("ワークフロー開始",{action:e}),e){case w.ADVANCED_RECORD_WITH_TRANSCRIPTION:n(x.ADVANCED_RECORDING,{recordingSettings:{source:"microphone",deviceId:void 0,chunkSize:64,chunkDuration:3,chunkSizeMode:"duration",format:"mp3"},transcriptionSettings:{enabled:!0,serverUrl:"ws://localhost:8770",language:"ja",model:"small"}});break;case w.TRANSCRIBE_FILE:case w.OPEN_AUDIO_FILE:a("audio");break;default:te.warn("未対応のワークフローアクション",{action:e})}},[n]),a=(0,r.useCallback)(async e=>{try{const t={path:"audio"===e?"/mock/sample.wav":"/mock/sample.txt",name:"audio"===e?"sample.wav":"sample.txt"};t&&(n(x.PLAYER,"audio"===e?{filePath:t.path,fileName:t.name,fileType:"audio"}:{filePath:t.path,fileName:t.name,fileType:"text"}),te.info("ファイル選択完了",{type:e,fileName:t.name,filePath:t.path}))}catch(e){te.error("ファイル選択エラー",e instanceof Error?e:new Error(String(e)))}},[n]);return(0,e.jsxs)("div",{className:"main-control-panel",children:[(0,e.jsxs)("div",{className:"control-header",children:[(0,e.jsx)("h2",{className:"control-title",children:"KoeNote"}),(0,e.jsx)("p",{className:"control-subtitle",children:"音声録音・文字起こしアプリ"})]}),(0,e.jsxs)("div",{className:"action-cards",children:[t.map(n=>(0,e.jsxs)("div",{className:`action-card ${n.color}`,onClick:()=>o(n.action),children:[(0,e.jsx)("div",{className:"card-icon",children:n.icon}),(0,e.jsxs)("div",{className:"card-content",children:[(0,e.jsx)("div",{className:"card-title",children:n.title}),(0,e.jsx)("div",{className:"card-description",children:n.description}),n.shortcut&&(0,e.jsx)("div",{className:"card-shortcut",children:n.shortcut})]})]},n.action)),(0,e.jsxs)("div",{className:"action-card secondary",onClick:()=>a("text"),children:[(0,e.jsx)("div",{className:"card-icon",children:"📝"}),(0,e.jsxs)("div",{className:"card-content",children:[(0,e.jsx)("div",{className:"card-title",children:"テキストを開く"}),(0,e.jsx)("div",{className:"card-description",children:"既存のテキストファイルを開いて編集"})]})]})]}),(0,e.jsxs)("div",{className:"info-card",children:[(0,e.jsxs)("div",{className:"info-header",children:[(0,e.jsx)("span",{className:"info-icon",children:"💡"}),(0,e.jsx)("span",{className:"info-title",children:"クイックスタート"})]}),(0,e.jsxs)("div",{className:"info-content",children:[(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("span",{className:"item-icon",children:"🎙️"}),(0,e.jsx)("span",{children:"録音開始で音声収録とリアルタイム文字起こし"})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("span",{className:"item-icon",children:"📁"}),(0,e.jsx)("span",{children:"音声ファイルを開いて後から文字起こし"})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("span",{className:"item-icon",children:"✍️"}),(0,e.jsx)("span",{children:"テキストファイルで結果の編集と保存"})]})]})]})]})};var oe=t(374),ae=t(299),ie={};ie.styleTagTransform=g(),ie.setAttributes=u(),ie.insert=c().bind(null,"head"),ie.domAPI=s(),ie.insertStyleElement=f(),a()(ae.A,ie),ae.A&&ae.A.locals&&ae.A.locals;const se=C.getLogger(N.UI_BOTTOM_PANEL),le=({tabId:n,data:o})=>{const{updateTab:a}=I(),[i,s]=(0,r.useState)(o?.fileName||"未選択ファイル"),[l,c]=(0,r.useState)(o?.filePath||""),[d,u]=(0,r.useState)(o?.fileType||"text"),[p,f]=(0,r.useState)(!1),[h,g]=(0,r.useState)(0),[m,v]=(0,r.useState)(o?.duration||0),[b,x]=(0,r.useState)(1),w=(0,r.useRef)(null),[k,S]=(0,r.useState)(o?.content||""),[E,N]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[_,j]=(0,r.useState)(o?.hasTranscriptionFile||!1),[A,R]=(0,r.useState)(o?.transcriptionPath||""),[L,z]=(0,r.useState)(""),[P,M]=(0,r.useState)(null),[F,O]=(0,r.useState)(!1),[D,B]=(0,r.useState)(0),[$,U]=(0,r.useState)(null),W=(0,r.useCallback)(async()=>{if(w.current&&"audio"===d)try{p?(w.current.pause(),f(!1),se.info("音声一時停止",{fileName:i})):(await w.current.play(),f(!0),se.info("音声再生開始",{fileName:i}))}catch(e){se.error("音声再生エラー",e instanceof Error?e:new Error(String(e)),{fileName:i}),U("音声の再生に失敗しました")}},[p,i,d]),V=(0,r.useCallback)(e=>{w.current&&"audio"===d&&(w.current.currentTime=e,g(e))},[d]),G=(0,r.useCallback)(e=>{w.current&&"audio"===d&&(w.current.volume=e,x(e))},[d]),H=((0,r.useCallback)(e=>{S(e.target.value),T(!0)},[]),(0,r.useCallback)(()=>{N(!E)},[E]),(0,r.useCallback)(async()=>{if(C&&l)try{if(U(null),se.info("ファイル保存開始",{fileName:i,filePath:l}),!window.electronAPI?.saveFile)throw se.warn("ElectronAPI.saveFileが利用できません。保存をスキップします。"),new Error("保存機能が利用できません");{const e=(new TextEncoder).encode(k);await window.electronAPI.saveFile(e.buffer,i),T(!1),se.info("ファイル保存完了",{fileName:i,filePath:l})}}catch(e){se.error("ファイル保存エラー",e instanceof Error?e:new Error(String(e)),{fileName:i,filePath:l}),U("ファイルの保存に失敗しました")}},[k,C,i,l]),(0,r.useCallback)(async()=>{if("audio"===d)try{if(O(!0),B(0),z(""),U(null),se.info("文字起こし開始",{fileName:i,filePath:l}),window.electronAPI?.speechTranscribe)try{if(!(await window.electronAPI.speechGetServerStatus()).isRunning&&(se.info("音声認識サーバーを起動中..."),!await window.electronAPI.speechStartServer()))throw new Error("音声認識サーバーの起動に失敗しました");const e=await window.electronAPI.speechTranscribe(l);M(e);const n=e.segments.map(e=>`[${Math.floor(e.start)}s] ${e.text}`).join("\n");z(n),B(100),O(!1),se.info("文字起こし完了",{fileName:i,segmentCount:e.segments.length,duration:e.duration})}catch(e){throw se.error("文字起こしAPI呼び出しエラー",e instanceof Error?e:new Error(String(e)),{fileName:i,filePath:l}),e}else{se.warn("ElectronAPI.speechTranscribeが利用できません。モック処理を実行します。");const e=setInterval(()=>{B(n=>{const t=n+10;return t>=100?(clearInterval(e),O(!1),z("サンプル文字起こし結果です。\n\nこのテキストは実際の音声から生成された文字起こし結果の例です。"),se.info("文字起こし完了（モック）",{fileName:i}),100):t})},500)}}catch(e){se.error("文字起こしエラー",e instanceof Error?e:new Error(String(e)),{fileName:i}),U("文字起こしに失敗しました: "+(e instanceof Error?e.message:String(e))),O(!1),B(0)}},[i,l,d]));(0,r.useEffect)(()=>{if(!o)return;let e=!1;o.fileName&&o.fileName!==i&&(s(o.fileName),e=!0),o.filePath&&o.filePath!==l&&(c(o.filePath),e=!0),o.fileType&&o.fileType!==d&&(u(o.fileType),e=!0),"number"==typeof o.duration&&o.duration!==m&&(v(o.duration),e=!0),void 0===o.content||o.content===k||C||(S(o.content),e=!0),"boolean"==typeof o.hasTranscriptionFile&&o.hasTranscriptionFile!==_&&(j(o.hasTranscriptionFile),e=!0),o.transcriptionPath&&o.transcriptionPath!==A&&(R(o.transcriptionPath),e=!0),e&&se.info("PlayerCardデータ更新",{fileName:o.fileName,filePath:o.filePath,fileType:o.fileType})},[o?.fileName,o?.filePath,o?.fileType,o?.duration,o?.hasTranscriptionFile,o?.transcriptionPath]),(0,r.useEffect)(()=>{(async()=>{if(l)try{if(U(null),"audio"===d){if(w.current&&window.electronAPI?.loadAudioFile)try{const e=await window.electronAPI.loadAudioFile(l);if(!e)throw new Error("音声ファイル読み込み失敗");w.current.src=e,w.current.load(),se.info("音声ファイル読み込み完了",{fileName:i,filePath:l})}catch(e){se.error("音声ファイル読み込みエラー",e instanceof Error?e:new Error(String(e)),{fileName:i,filePath:l}),U("音声ファイルの読み込みに失敗しました")}else w.current&&(w.current.src=`file://${l}`,w.current.load());if(_&&A&&(se.info("既存の文字起こしファイル読み込み開始",{fileName:i,transcriptionPath:A}),window.electronAPI?.readFile)){const e=await window.electronAPI.readFile(A),n=(new TextDecoder).decode(e);z(n);try{Promise.resolve().then(t.bind(t,374)).then(e=>e.MetadataParser.parseTranscriptionFile(n,A)).then(e=>{e.segments.length>0&&Promise.resolve().then(t.bind(t,374)).then(n=>n.TranscriptionAdapter.convertToLegacyResult(e)).then(e=>{M(e)})})}catch(e){se.warn("文字起こしファイル解析エラー（従来表示を継続）",e)}se.info("既存の文字起こしファイル読み込み完了",{fileName:i,transcriptionPath:A})}}else if("text"===d||"transcription"===d)if(se.info("テキストファイル読み込み開始",{fileName:i,filePath:l}),window.electronAPI?.readFile){const e=await window.electronAPI.readFile(l),n=(new TextDecoder).decode(e);S(n),se.info("テキストファイル読み込み完了",{fileName:i,filePath:l})}else S(`# ${i}\n\nファイルパス: ${l}\n\nここにファイルの内容が表示されます。`),se.info("テキストファイル読み込み完了（モック）",{fileName:i,filePath:l})}catch(e){se.error("ファイル読み込みエラー",e instanceof Error?e:new Error(String(e)),{fileName:i,filePath:l}),U("ファイルの読み込みに失敗しました")}else S("")})()},[l,d]);const K=(0,r.useCallback)(()=>P?oe.TranscriptionAdapter.generateFileContent(P,i,"kotoba-whisper"):L,[P,L,i]),Q=(0,r.useCallback)(async e=>{try{if(!i)return!1;const n=`${i.replace(/\.[^/.]+$/,"")}_transcription.txt`,t=await window.electronAPI.saveTextFile(n,e);return t&&(se.info("文字起こし結果保存完了",{fileName:i,transcriptionFileName:n}),R(n),j(!0)),t}catch(e){return se.error("文字起こし保存エラー",e instanceof Error?e:new Error(String(e))),!1}},[i]),Y=(0,r.useCallback)(e=>{z(e)},[]);(0,r.useEffect)(()=>{const e=w.current;if(!e||"audio"!==d)return;const n=()=>{v(e.duration),se.info("音声メタデータ読み込み完了",{fileName:i,duration:e.duration})},t=()=>{g(e.currentTime)},r=()=>{f(!1),se.info("音声再生完了",{fileName:i})},o=()=>{U("音声ファイルの読み込みに失敗しました"),se.error("音声ファイル読み込みエラー",void 0,{fileName:i,filePath:l})};return e.addEventListener("loadedmetadata",n),e.addEventListener("timeupdate",t),e.addEventListener("ended",r),e.addEventListener("error",o),()=>{e.removeEventListener("loadedmetadata",n),e.removeEventListener("timeupdate",t),e.removeEventListener("ended",r),e.removeEventListener("error",o)}},[i,l,d]),(0,r.useEffect)(()=>{const e=F?y.TRANSCRIBING:p?y.PLAYING:E?y.EDITING:$?y.ERROR:y.IDLE;a(n,{status:e,data:{fileName:i,filePath:l,fileType:d,duration:m,isPlaying:p,currentTime:h,volume:b,content:k,isEdited:C,transcriptionText:L,hasTranscriptionFile:_,transcriptionPath:A}})},[p,F,E,$,n,a,i,l,d,m,h,b,k,C,L,_,A]);const q=e=>{const n=Math.floor(e/60),t=Math.floor(e%60);return`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`};return(0,e.jsxs)("div",{className:"player-card","data-testid":"player-card",children:[(0,e.jsx)("div",{className:"file-header",children:(0,e.jsxs)("div",{className:"file-info",children:[(0,e.jsxs)("div",{className:"file-name","data-testid":"selected-file-name",children:["audio"===d?"🎵":"📝"," ",i]}),(0,e.jsx)("div",{className:"file-type","data-testid":"selected-file-info",children:"audio"===d?"音声ファイル":"テキストファイル"})]})}),$&&(0,e.jsxs)("div",{className:"message error",children:[(0,e.jsx)("span",{className:"message-icon",children:"⚠️"}),(0,e.jsx)("span",{children:$})]}),"audio"===d&&(0,e.jsxs)("div",{className:"audio-player","data-testid":"audio-player",children:[(0,e.jsx)("audio",{ref:w,style:{display:"none"}}),(0,e.jsxs)("div",{className:"playback-controls",children:[(0,e.jsx)("button",{className:"play-button",onClick:W,"data-testid":"play-button",children:p?"⏸️":"▶️"}),(0,e.jsxs)("div",{className:"time-display",children:[(0,e.jsx)("span",{"data-testid":"audio-current-time",children:q(h)})," / ",(0,e.jsx)("span",{"data-testid":"audio-duration",children:q(m)})]}),(0,e.jsx)("input",{type:"range",className:"seek-bar",min:0,max:m,value:h,onChange:e=>V(Number(e.target.value)),"data-testid":"audio-seek-bar"}),(0,e.jsxs)("div",{className:"volume-control","data-testid":"volume-control",children:[(0,e.jsx)("span",{children:"🔊"}),(0,e.jsx)("input",{type:"range",min:0,max:1,step:.1,value:b,onChange:e=>G(Number(e.target.value)),"data-testid":"volume-slider"}),(0,e.jsxs)("span",{className:"volume-value",children:[Math.round(100*b),"%"]})]})]}),(0,e.jsxs)("div",{className:"transcription-section",children:[(0,e.jsxs)("div",{className:"transcription-header",children:[(0,e.jsx)("h3",{children:"文字起こし"}),!F&&!L&&(0,e.jsx)("button",{className:"transcribe-button",onClick:H,"data-testid":"transcribe-button",children:"文字起こし開始"})]}),F&&(0,e.jsxs)("div",{className:"transcription-progress","data-testid":"transcription-progress",children:[(0,e.jsx)("div",{className:"progress-bar","data-testid":"transcription-progress-bar",children:(0,e.jsx)("div",{className:"progress-fill",style:{width:`${D}%`}})}),(0,e.jsxs)("span",{"data-testid":"progress-percentage",children:[D,"%"]})]}),(L||P)&&(0,e.jsx)("div",{className:"transcription-result","data-testid":"transcription-result",children:(0,e.jsx)(oe.TextDisplayViewer,{content:K(),filePath:`${i.replace(/\.[^/.]+$/,"")}_transcription.txt`,onContentChange:Y,onSave:Q,forceFileType:"transcription",showLineNumbers:!0,showMetadata:!0,initialMode:"view",className:"transcription-display"})})]})]}),("text"===d||"transcription"===d)&&k&&(0,e.jsx)("div",{className:"text-editor-section",children:(0,e.jsx)("div",{className:"text-content",children:(0,e.jsx)(oe.TextDisplayViewer,{content:k,filePath:l,onContentChange:S,onSave:async e=>{try{if(window.electronAPI?.saveTextFile){const n=await window.electronAPI.saveTextFile(l,e);return n&&(T(!1),se.info("テキストファイル保存完了",{fileName:i,filePath:l})),n}return!1}catch(e){return se.error("テキストファイル保存エラー",e instanceof Error?e:new Error(String(e))),!1}},showLineNumbers:!0,showMetadata:!0,initialMode:"view",className:"text-display"})})})]})};class ce{constructor(e="ws://localhost:8770",n){this.ws=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=2e3,this.pendingChunks=new Map,this.lastSentChunkNumber=0,this.logger=C.getLogger(N.TRANSCRIPTION_WEBSOCKET),this.serverUrl=e,this.onConnectionChange=n.onConnectionChange,this.onTranscriptionResult=n.onTranscriptionResult,this.onTranscriptionProgress=n.onTranscriptionProgress,this.onError=n.onError}async connect(){try{return this.logger.info("Whisperサーバーに接続中",{serverUrl:this.serverUrl}),this.ws=new WebSocket(this.serverUrl),this.ws.onopen=()=>{this.logger.info("Whisperサーバーに接続成功"),this.isConnected=!0,this.reconnectAttempts=0,this.onConnectionChange(!0)},this.ws.onmessage=e=>{try{const n=JSON.parse(e.data);this.handleServerMessage(n)}catch(e){console.error("🔗 サーバーメッセージパースエラー:",e),this.onError("サーバーメッセージの解析に失敗しました")}},this.ws.onclose=e=>{this.logger.info("Whisperサーバー接続切断",{code:e.code,reason:e.reason}),this.isConnected=!1,this.onConnectionChange(!1),!e.wasClean&&this.reconnectAttempts<this.maxReconnectAttempts&&this.attemptReconnect()},this.ws.onerror=e=>{console.error("🔗 WebSocketエラー:",e),this.onError("WebSocket接続エラーが発生しました")},new Promise(e=>{const n=setTimeout(()=>{console.warn("🔗 WebSocket接続タイムアウト"),e(!1)},1e4),t=()=>{this.isConnected?(clearTimeout(n),e(!0)):this.ws?.readyState===WebSocket.CLOSED?(clearTimeout(n),e(!1)):setTimeout(t,100)};t()})}catch(e){return console.error("🔗 WebSocket接続エラー:",e),this.onError("WebSocket接続の初期化に失敗しました"),!1}}handleServerMessage(e){switch(this.logger.info("サーバーメッセージ受信",{type:e.type}),e.type){case"connection":this.logger.info("接続確認メッセージ",{message:e.message});break;case"chunk_progress":let n=e.chunkNumber||0;if(0===n&&this.pendingChunks.size>0){const t=Array.from(this.pendingChunks.entries()).sort(([e],[n])=>parseInt(e)-parseInt(n))[0];t&&(n=t[1],this.logger.info("進捗: 最古のチャンク番号を推定",{chunkNumber:n,status:e.status}))}this.onTranscriptionProgress({chunkNumber:n,status:e.status,message:e.message});break;case"chunk_result":if(this.logger.info("文字起こし結果受信",{text:e.result?.text||"(空文字)",serverData:e}),"completed"===e.status&&e.result){let n=e.result.text||"";!n&&e.result.segments&&e.result.segments.length>0&&(n=e.result.segments.map(e=>e.text).filter(e=>e&&e.trim()).join(" ").trim());let t=e.chunkNumber||0;if(0===t){if(this.logger.info("chunkNumber=0のため、pendingChunksから推定",{pendingChunks:Array.from(this.pendingChunks.entries())}),this.pendingChunks.size>0){const e=Array.from(this.pendingChunks.entries()).sort(([e],[n])=>parseInt(e)-parseInt(n))[0];e?(t=e[1],this.pendingChunks.delete(e[0]),this.logger.info("最古のチャンク番号を使用",{chunkNumber:t,timestamp:e[0]})):(t=this.lastSentChunkNumber,this.logger.info("フォールバック: 最後のチャンク番号を使用",{chunkNumber:t}))}}else e.timestamp&&void 0!==this.pendingChunks.get(e.timestamp.toString())&&this.pendingChunks.delete(e.timestamp.toString());const r={chunkNumber:t,text:n,segments:e.result.segments||[],timestamp:Date.now()};console.log("🔗 変換後の結果:",r),this.onTranscriptionResult(r)}else console.log("🔗 文字起こし失敗:",e),this.onTranscriptionProgress({chunkNumber:e.chunkNumber||0,status:"failed",message:e.message||"チャンク文字起こしに失敗しました"});break;case"error":console.error("🔗 サーバーエラー:",e.message),this.onError(e.message);break;default:console.warn("🔗 未知のメッセージタイプ:",e.type)}}async sendChunkForTranscription(e){if(!this.isConnected||!this.ws)return console.warn("🔗 サーバーに接続されていません"),this.onError("サーバーに接続されていません"),!1;try{if(e.audioData.size>5242880)return console.warn(`🔗 チャンク#${e.chunkNumber}が大きすぎます (${(e.audioData.size/1024/1024).toFixed(1)}MB)`),this.onError("チャンクサイズが大きすぎます"),!1;const n={type:"transcribe_chunk",audio_data:await new Promise((n,t)=>{const r=new FileReader;r.onload=()=>{const e=r.result.split(",")[1];n(e)},r.onerror=()=>t(r.error),r.readAsDataURL(e.audioData)}),language:"ja",chunkNumber:e.chunkNumber,timestamp:e.timestamp};return this.pendingChunks.set(e.timestamp.toString(),e.chunkNumber),this.lastSentChunkNumber=e.chunkNumber,console.log(`🔗 チャンク#${e.chunkNumber}を送信 (${(e.audioData.size/1024).toFixed(1)}KB)`,{chunkNumber:e.chunkNumber,timestamp:e.timestamp,pendingChunks:this.pendingChunks.size}),this.ws.send(JSON.stringify(n)),!0}catch(e){return console.error("🔗 チャンク送信エラー:",e),this.onError("チャンクの送信に失敗しました"),!1}}async attemptReconnect(){this.reconnectAttempts++,console.log(`🔗 再接続試行 ${this.reconnectAttempts}/${this.maxReconnectAttempts}`),setTimeout(async()=>{await this.connect()},this.reconnectDelay)}async healthCheck(){if(!this.isConnected||!this.ws)return!1;try{return this.ws.send(JSON.stringify({type:"health_check"})),!0}catch(e){return console.error("🔗 ヘルスチェックエラー:",e),!1}}disconnect(){console.log("🔗 Whisperサーバー接続を切断"),this.ws&&(this.ws.close(1e3,"Client disconnecting"),this.ws=null),this.isConnected=!1,this.onConnectionChange(!1)}getConnectionStatus(){return{connected:this.isConnected,reconnectAttempts:this.reconnectAttempts,serverUrl:this.serverUrl}}}class de{constructor(){this.audioContext=null,this.microphoneStream=null,this.desktopStream=null,this.mixedStream=null,this.microphoneSource=null,this.desktopSource=null,this.microphoneGain=null,this.desktopGain=null,this.destination=null,this.microphoneAnalyser=null,this.desktopAnalyser=null,this.mixedAnalyser=null,this.levelMonitoringTimer=null,this.onLevelsUpdate=null,console.log("🎛️ AudioMixingService初期化")}async createMixedStream(e){try{if(console.log("🎬 ミキシングストリーム作成開始",e),this.audioContext||(this.audioContext=new AudioContext,console.log("🔊 AudioContext作成完了")),await this.cleanup(),this.destination=this.audioContext.createMediaStreamDestination(),console.log("📡 出力先ノード作成完了"),e.enableMicrophone&&await this.setupMicrophoneStream(e.microphoneDeviceId,e.microphoneGain),e.enableDesktop&&await this.setupDesktopStream(e.desktopSourceId,e.desktopGain),!e.enableMicrophone&&!e.enableDesktop)throw new Error("マイクまたはデスクトップ音声の少なくとも一方を有効にしてください");return this.mixedStream=this.destination.stream,this.startLevelMonitoring(),console.log("✅ ミキシングストリーム作成完了",{audioTracks:this.mixedStream.getAudioTracks().length,micEnabled:e.enableMicrophone,desktopEnabled:e.enableDesktop}),this.mixedStream}catch(e){throw console.error("❌ ミキシングストリーム作成エラー:",e),await this.cleanup(),e}}async setupMicrophoneStream(e,n=.7){try{console.log("🎤 マイク音声設定開始",{deviceId:e,gainValue:n});const t={audio:{deviceId:e?{exact:e}:void 0,echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:48e3,channelCount:2},video:!1};this.microphoneStream=await navigator.mediaDevices.getUserMedia(t),console.log("🎤 マイクストリーム取得完了"),this.microphoneSource=this.audioContext.createMediaStreamSource(this.microphoneStream),this.microphoneGain=this.audioContext.createGain(),this.microphoneAnalyser=this.audioContext.createAnalyser(),this.microphoneGain.gain.value=n,this.microphoneAnalyser.fftSize=256,this.microphoneAnalyser.smoothingTimeConstant=.8,this.microphoneSource.connect(this.microphoneGain),this.microphoneGain.connect(this.microphoneAnalyser),this.microphoneAnalyser.connect(this.destination),console.log("✅ マイク音声設定完了")}catch(e){throw console.error("❌ マイク音声設定エラー:",e),new Error(`マイク音声の設定に失敗しました: ${e instanceof Error?e.message:String(e)}`)}}async setupDesktopStream(e,n=.8){try{console.log("🖥️ デスクトップ音声設定開始",{sourceId:e,gainValue:n}),this.desktopStream=await navigator.mediaDevices.getDisplayMedia({audio:!0,video:{width:{ideal:1},height:{ideal:1}}}),console.log("🖥️ デスクトップストリーム取得完了"),this.desktopStream.getVideoTracks().forEach(e=>{e.stop(),this.desktopStream.removeTrack(e)}),this.desktopSource=this.audioContext.createMediaStreamSource(this.desktopStream),this.desktopGain=this.audioContext.createGain(),this.desktopAnalyser=this.audioContext.createAnalyser(),this.desktopGain.gain.value=n,this.desktopAnalyser.fftSize=256,this.desktopAnalyser.smoothingTimeConstant=.8,this.desktopSource.connect(this.desktopGain),this.desktopGain.connect(this.desktopAnalyser),this.desktopAnalyser.connect(this.destination),console.log("✅ デスクトップ音声設定完了")}catch(e){throw console.error("❌ デスクトップ音声設定エラー:",e),new Error(`デスクトップ音声の設定に失敗しました: ${e instanceof Error?e.message:String(e)}`)}}startLevelMonitoring(){this.levelMonitoringTimer&&clearInterval(this.levelMonitoringTimer),this.levelMonitoringTimer=setInterval(()=>{const e=this.getCurrentLevels();this.onLevelsUpdate&&this.onLevelsUpdate(e)},100),console.log("📊 音声レベル監視開始")}getCurrentLevels(){const e={microphoneLevel:0,desktopLevel:0,mixedLevel:0};if(this.microphoneAnalyser){const n=this.microphoneAnalyser.frequencyBinCount,t=new Uint8Array(n);this.microphoneAnalyser.getByteFrequencyData(t);let r=0;for(let e=0;e<n;e++)r+=t[e];e.microphoneLevel=Math.min(1,r/n/128)}if(this.desktopAnalyser){const n=this.desktopAnalyser.frequencyBinCount,t=new Uint8Array(n);this.desktopAnalyser.getByteFrequencyData(t);let r=0;for(let e=0;e<n;e++)r+=t[e];e.desktopLevel=Math.min(1,r/n/128)}return e.mixedLevel=Math.min(1,e.microphoneLevel+e.desktopLevel),e}updateGains(e,n){this.microphoneGain&&(this.microphoneGain.gain.value=Math.max(0,Math.min(1,e))),this.desktopGain&&(this.desktopGain.gain.value=Math.max(0,Math.min(1,n))),console.log("🎚️ ゲイン更新:",{microphoneGain:e,desktopGain:n})}setLevelsUpdateCallback(e){this.onLevelsUpdate=e}getMixedStream(){return this.mixedStream}isActive(){return null!==this.mixedStream&&this.mixedStream.active}async cleanup(){console.log("🧹 AudioMixingService クリーンアップ開始"),this.levelMonitoringTimer&&(clearInterval(this.levelMonitoringTimer),this.levelMonitoringTimer=null),this.microphoneSource&&(this.microphoneSource.disconnect(),this.microphoneSource=null),this.desktopSource&&(this.desktopSource.disconnect(),this.desktopSource=null),this.microphoneGain&&(this.microphoneGain.disconnect(),this.microphoneGain=null),this.desktopGain&&(this.desktopGain.disconnect(),this.desktopGain=null),this.microphoneStream&&(this.microphoneStream.getTracks().forEach(e=>e.stop()),this.microphoneStream=null),this.desktopStream&&(this.desktopStream.getTracks().forEach(e=>e.stop()),this.desktopStream=null),this.microphoneAnalyser=null,this.desktopAnalyser=null,this.mixedAnalyser=null,this.destination=null,this.mixedStream=null,console.log("✅ AudioMixingService クリーンアップ完了")}}class ue{constructor(e,n,t,r,o){this.audioContext=null,this.workletNode=null,this.stream=null,this.sourceNode=null,this.mp3Encoder=null,this.mp3Buffer=[],this.chunkSizeThreshold=65536,this.isRecording=!1,this.recordingStartTime=0,this.chunkCount=0,this.totalDataSize=0,this.processedSamples=0,this.transcriptionService=null,this.transcriptionConfig=null,this.statsTimer=null,this.analyserNode=null,this.audioLevelData=null,this.currentAudioLevel=0,this.audioMixingService=null,this.onChunkReady=e,this.onError=n||(e=>console.error("🎵 録音エラー:",e)),this.onStatsUpdate=t||(()=>{}),this.onTranscriptionResult=r,this.onTranscriptionProgress=o}setTranscriptionConfig(e){this.transcriptionConfig=e,console.log("🎵 文字起こし設定更新:",e)}async startWithConfig(e){try{console.log("🎵 AudioWorkletRecordingService: 録音開始",e);const n=await this.getAudioStream(e);await this.start(n)}catch(e){throw this.onError(e),e}}async getAudioStream(e){switch(console.log("🎵 音声ストリーム取得開始:",e.type),e.type){case"microphone":try{console.log("🎤 マイクロフォン音声取得を開始");const n=await navigator.mediaDevices.getUserMedia({audio:{deviceId:e.deviceId?{exact:e.deviceId}:void 0,echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:44100,channelCount:1},video:!1});return console.log("🎤 マイクロフォンストリーム取得成功"),n}catch(e){if(e instanceof Error){if("AbortError"===e.name||e.message.includes("aborted"))throw new Error("マイクロフォンアクセスがキャンセルされました。ブラウザダイアログで「許可」をクリックしてください。");if("NotAllowedError"===e.name)throw new Error("マイクロフォンアクセスが拒否されました。ブラウザ設定でマイクロフォンを許可してください。");if("NotFoundError"===e.name)throw new Error("マイクロフォンデバイスが見つかりません。マイクが接続されているか確認してください。")}throw e}case"desktop":try{console.log("🖥️ デスクトップ音声取得を開始（画面共有ダイアログが表示されます）");const e=await navigator.mediaDevices.getDisplayMedia({audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:44100},video:{width:{ideal:1},height:{ideal:1}}});console.log("🖥️ デスクトップストリーム取得成功"),e.getVideoTracks().forEach(n=>{n.stop(),e.removeTrack(n)});const n=e.getAudioTracks();if(0===n.length)throw new Error("デスクトップ音声が取得できませんでした。画面共有時に「システム音声を共有」にチェックを入れてください。");return console.log("🎵 デスクトップ音声トラック確認完了:",n.length),e}catch(e){if(e instanceof Error){if("AbortError"===e.name||e.message.includes("aborted"))throw new Error("デスクトップ音声の取得がキャンセルされました。画面共有ダイアログで「共有」をクリックし、「システム音声を共有」にチェックを入れてください。");if("NotAllowedError"===e.name)throw new Error("デスクトップ音声の取得が拒否されました。ブラウザ設定で画面共有を許可してください。");if("NotFoundError"===e.name)throw new Error("デスクトップ音声デバイスが見つかりません。システム音声が有効か確認してください。")}throw e}case"mix":try{console.log("🎧 マイク＋デスクトップミックス録音開始"),this.audioMixingService||(this.audioMixingService=new de);const n={enableMicrophone:!0,enableDesktop:!0,microphoneDeviceId:e.deviceId,desktopSourceId:e.desktopSourceId,microphoneGain:.7,desktopGain:.7},t=await this.audioMixingService.createMixedStream(n);return console.log("🎧 ミックスストリーム作成完了:",{audioTracks:t.getAudioTracks().length,videoTracks:t.getVideoTracks().length}),t}catch(n){return console.error("❌ ミックス録音エラー:",n),console.warn("🎵 ミックス録音に失敗、マイクのみで録音を継続します"),await navigator.mediaDevices.getUserMedia({audio:{deviceId:e.deviceId?{exact:e.deviceId}:void 0,echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:44100,channelCount:1},video:!1})}default:throw new Error(`未対応の音声ソースタイプ: ${e.type}`)}}async start(e){try{console.log("🎵 AudioWorkletRecordingService: 録音初期化開始"),this.audioContext=new AudioContext({sampleRate:44100,latencyHint:"interactive"}),console.log("🎵 AudioContext作成完了:",{sampleRate:this.audioContext.sampleRate,state:this.audioContext.state});const n=this.createPCMProcessorCode(),t=new Blob([n],{type:"application/javascript"}),r=URL.createObjectURL(t);try{await this.audioContext.audioWorklet.addModule(r),console.log("🎵 AudioWorklet モジュール登録完了")}finally{URL.revokeObjectURL(r)}if(this.workletNode=new AudioWorkletNode(this.audioContext,"pcm-processor"),this.workletNode.port.onmessage=e=>{this.handleWorkletMessage(e.data)},console.log("🎵 AudioWorkletNode作成完了"),this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=256,this.audioLevelData=new Uint8Array(this.analyserNode.frequencyBinCount),this.sourceNode.connect(this.analyserNode),this.analyserNode.connect(this.workletNode),console.log("🎵 音声ストリーム接続完了"),this.initializeMp3Encoder(),this.isRecording=!0,this.recordingStartTime=Date.now(),this.chunkCount=0,this.totalDataSize=0,this.processedSamples=0,this.mp3Buffer=[],this.startStatsUpdates(),this.startAudioLevelUpdates(),this.transcriptionConfig?.enabled)try{await this.initializeTranscriptionService()}catch(e){console.warn("🎵 文字起こしサービス初期化失敗、録音は継続します:",e),this.transcriptionService=null}console.log("🎵 AudioWorkletRecordingService: 録音開始完了")}catch(e){throw console.error("🎵 録音開始エラー:",e),await this.cleanup(),e}}createPCMProcessorCode(){return"\n      /**\n       * PCMProcessorWorklet - AudioWorkletProcessorベースのPCMデータ取得\n       */\n      class PCMProcessorWorklet extends AudioWorkletProcessor {\n        constructor() {\n          super();\n          this.processCount = 0;\n          this.lastReportTime = 0;\n          console.log('🎵 PCMProcessorWorklet: 初期化完了');\n        }\n\n        process(inputs, outputs, parameters) {\n          const input = inputs[0];\n          \n          if (!input || input.length === 0) {\n            return true;\n          }\n\n          const channelData = input[0];\n          \n          if (!channelData || channelData.length === 0) {\n            return true;\n          }\n\n          try {\n            // PCMデータをメインスレッドに送信\n            this.port.postMessage({\n              type: 'pcm-data',\n              data: channelData,\n              sampleRate: sampleRate,\n              timestamp: currentTime,\n              frameCount: channelData.length\n            });\n\n            this.processCount++;\n\n            // 1秒ごとに処理統計をレポート\n            if (currentTime - this.lastReportTime >= 1.0) {\n              this.port.postMessage({\n                type: 'stats',\n                processCount: this.processCount,\n                sampleRate: sampleRate,\n                timestamp: currentTime\n              });\n              this.lastReportTime = currentTime;\n            }\n\n          } catch (error) {\n            console.error('🎵 PCMProcessorWorklet: データ送信エラー:', error);\n            \n            this.port.postMessage({\n              type: 'error',\n              message: error.message,\n              timestamp: currentTime\n            });\n          }\n\n          return true;\n        }\n      }\n\n      // AudioWorkletProcessorとして登録\n      registerProcessor('pcm-processor', PCMProcessorWorklet);\n      console.log('🎵 PCMProcessorWorklet: AudioWorkletProcessor登録完了');\n    "}async initializeTranscriptionService(){if(this.transcriptionConfig?.enabled)try{console.log("🎵 文字起こしサービス初期化開始");const e=this.transcriptionConfig.serverUrl||"ws://localhost:8770";this.transcriptionService=new ce(e,{onConnectionChange:e=>{console.log("🎵 文字起こしサーバー接続状態:",e)},onTranscriptionResult:e=>{console.log("🎵 文字起こし結果受信:",e.text),this.onTranscriptionResult?.(e)},onTranscriptionProgress:e=>{console.log("🎵 文字起こし進捗:",e.status),this.onTranscriptionProgress?.(e)},onError:e=>{console.error("🎵 文字起こしエラー:",e),this.onError(new Error(`文字起こしエラー: ${e}`))}}),await this.transcriptionService.connect()?console.log("🎵 文字起こしサービス初期化完了"):console.warn("🎵 文字起こしサーバーへの接続に失敗")}catch(e){console.error("🎵 文字起こしサービス初期化エラー:",e),this.transcriptionService=null}else console.log("🎵 文字起こし機能は無効です")}initializeMp3Encoder(){try{if(console.log("🎵 MP3エンコーダー初期化開始"),"undefined"==typeof lamejs)throw new Error("lamejsライブラリがグローバルスコープにロードされていません。index.htmlのscriptタグを確認してください。");if(console.log("🎵 グローバルlamejs確認:",{lamejs:typeof lamejs,Mp3Encoder:typeof lamejs?.Mp3Encoder,keys:lamejs?Object.keys(lamejs):"undefined"}),!lamejs||"function"!=typeof lamejs.Mp3Encoder)throw new Error("lamejs.Mp3Encoderが関数として定義されていません");this.mp3Encoder=new lamejs.Mp3Encoder(1,44100,128),console.log("🎵 MP3エンコーダー初期化完了")}catch(e){console.error("🎵 MP3エンコーダー初期化エラー:",e),console.warn("🎵 MP3エンコーダー初期化失敗、WAV形式にフォールバック"),this.mp3Encoder={isWavFallback:!0,initialized:!0,sampleRate:44100,channels:1}}}handleWorkletMessage(e){try{switch(e.type){case"pcm-data":this.processPcmData(e.data,e.frameCount);break;case"stats":console.log("🎵 Worklet統計:",e);break;case"error":console.error("🎵 Workletエラー:",e.message),this.onError(new Error(`AudioWorkletエラー: ${e.message}`));break;default:console.warn("🎵 未知のWorkletメッセージ:",e.type)}}catch(e){console.error("🎵 Workletメッセージ処理エラー:",e),this.onError(e)}}processPcmData(e,n){if(this.mp3Encoder&&this.isRecording)try{const t=new Int16Array(n);for(let r=0;r<n;r++){const n=Math.max(-1,Math.min(1,e[r]));t[r]=32767*n}if(this.mp3Encoder.isWavFallback){const e=new Int8Array(t.buffer);this.mp3Buffer.push(e),this.totalDataSize+=e.length}else{const e=this.mp3Encoder.encodeBuffer(t);e&&e.length>0&&(this.mp3Buffer.push(new Int8Array(e)),this.totalDataSize+=e.length)}this.processedSamples+=n,this.checkAndFlushChunk()}catch(e){console.error("🎵 PCMデータ処理エラー:",e),this.onError(e)}}createWavBlob(e){try{const n=e.reduce((e,n)=>e+n.length,0),t=44100,r=1,o=16,a=44,i=a+n-8,s=new ArrayBuffer(a),l=new DataView(s),c=(e,n)=>{for(let t=0;t<n.length;t++)l.setUint8(e+t,n.charCodeAt(t))};c(0,"RIFF"),l.setUint32(4,i,!0),c(8,"WAVE"),c(12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,r,!0),l.setUint32(24,t,!0),l.setUint32(28,t*r*o/8,!0),l.setUint16(32,r*o/8,!0),l.setUint16(34,o,!0),c(36,"data"),l.setUint32(40,n,!0);const d=[new Uint8Array(s),...e];return new Blob(d,{type:"audio/wav"})}catch(n){return console.error("🎵 WAVファイル作成エラー:",n),new Blob(e,{type:"audio/pcm"})}}checkAndFlushChunk(){this.mp3Buffer.reduce((e,n)=>e+n.length,0)>=this.chunkSizeThreshold&&this.flushChunk()}flushChunk(){if(0!==this.mp3Buffer.length)try{let e;e=this.mp3Encoder.isWavFallback?this.createWavBlob(this.mp3Buffer):new Blob(this.mp3Buffer,{type:"audio/mp3"}),this.chunkCount++;const n={chunk:e,chunkNumber:this.chunkCount,timestamp:Date.now(),size:e.size};console.log("🎵 チャンク生成完了:",{chunkNumber:this.chunkCount,size:e.size,bufferChunks:this.mp3Buffer.length}),this.onChunkReady(n),this.isRecording?this.sendChunkForTranscription(n).catch(e=>{console.error("🎵 文字起こしチャンク送信エラー:",e)}):console.log("🎵 録音停止中のためチャンク送信をスキップ:",n.chunkNumber),this.mp3Buffer=[]}catch(e){console.error("🎵 チャンクフラッシュエラー:",e),this.onError(e)}}startStatsUpdates(){this.statsTimer=setInterval(()=>{if(this.isRecording){const e={duration:(Date.now()-this.recordingStartTime)/1e3,chunksGenerated:this.chunkCount,totalDataSize:this.totalDataSize,currentBitrate:this.calculateCurrentBitrate(),processedSamples:this.processedSamples,audioLevel:this.currentAudioLevel};this.onStatsUpdate(e)}},1e3)}startAudioLevelUpdates(){const e=()=>{if(this.isRecording&&this.analyserNode&&this.audioLevelData){this.analyserNode.getByteFrequencyData(this.audioLevelData);const n=this.audioLevelData.reduce((e,n)=>e+n,0)/this.audioLevelData.length;this.currentAudioLevel=n/255,requestAnimationFrame(e)}};requestAnimationFrame(e)}calculateCurrentBitrate(){const e=(Date.now()-this.recordingStartTime)/1e3;return 0===e?0:8*this.totalDataSize/e}async stop(){console.log("🎵 AudioWorkletRecordingService: 録音停止開始");try{if(this.isRecording=!1,this.mp3Encoder){if(!this.mp3Encoder.isWavFallback&&this.mp3Encoder.flush)try{const e=this.mp3Encoder.flush();e&&e.length>0&&this.mp3Buffer.push(new Int8Array(e))}catch(e){console.warn("🎵 MP3エンコーダーフラッシュエラー:",e)}this.isRecording=!1,this.mp3Buffer.length>0&&this.flushChunk()}this.statsTimer&&(clearInterval(this.statsTimer),this.statsTimer=null);const e=this.mp3Encoder?.isWavFallback?"audio/wav":"audio/mp3",n=new Blob([],{type:e});return await this.cleanup(),console.log("🎵 AudioWorkletRecordingService: 録音停止完了",{chunksGenerated:this.chunkCount,totalDataSize:this.totalDataSize}),n}catch(e){throw console.error("🎵 録音停止エラー:",e),e}}async cleanup(){console.log("🎵 AudioWorkletRecordingService: クリーンアップ開始");try{this.statsTimer&&(clearInterval(this.statsTimer),this.statsTimer=null),this.workletNode&&(this.workletNode.disconnect(),this.workletNode=null),this.analyserNode&&(this.analyserNode.disconnect(),this.analyserNode=null),this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null),this.audioLevelData=null,this.currentAudioLevel=0,this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.audioContext&&"closed"!==this.audioContext.state&&(await this.audioContext.close(),this.audioContext=null),this.mp3Encoder=null,this.mp3Buffer=[],await this.disconnectTranscriptionService(),this.audioMixingService&&(await this.audioMixingService.cleanup(),this.audioMixingService=null),console.log("🎵 AudioWorkletRecordingService: クリーンアップ完了")}catch(e){console.error("🎵 クリーンアップエラー:",e)}}getCurrentState(){return this.isRecording?"recording":"inactive"}getCurrentStats(){return{duration:this.isRecording?(Date.now()-this.recordingStartTime)/1e3:0,chunksGenerated:this.chunkCount,totalDataSize:this.totalDataSize,currentBitrate:this.calculateCurrentBitrate(),processedSamples:this.processedSamples,audioLevel:this.currentAudioLevel}}setChunkSizeThreshold(e){this.chunkSizeThreshold=Math.max(65536,e),console.log("🎵 チャンクサイズ閾値更新:",this.chunkSizeThreshold)}async sendChunkForTranscription(e){if(this.transcriptionService&&this.transcriptionConfig?.enabled)try{console.log(`🎵 チャンク#${e.chunkNumber}を文字起こしサーバーに送信開始`);const n={chunkNumber:e.chunkNumber,audioData:e.chunk,timestamp:e.timestamp};await this.transcriptionService.sendChunkForTranscription(n)?console.log(`🎵 チャンク#${e.chunkNumber}送信成功`):console.warn(`🎵 チャンク#${e.chunkNumber}送信失敗`)}catch(e){throw console.error("🎵 文字起こしチャンク送信処理エラー:",e),e}}async disconnectTranscriptionService(){if(this.transcriptionService)try{this.transcriptionService.disconnect(),this.transcriptionService=null,console.log("🎵 文字起こしサービス切断完了")}catch(e){console.error("🎵 文字起こしサービス切断エラー:",e)}}}var pe=t(668).hp;const fe=C.getLogger(N.SERVICE_FILE_MANAGER);class he{static async saveRecording(e,n){const t={success:!1,errors:[]};try{fe.info("録音データ保存開始",{options:n,chunksCount:e.chunks.length});const r=n.baseName||this.generateBaseName(e.startTime),o=n.workingDirectory||await this.getDefaultWorkingDirectory();if(n.saveAudio&&e.chunks.length>0)try{const a=await this.saveAudioFile(e.chunks.map(e=>e.blob),o,r,n.format);t.audioFilePath=a,fe.info("音声ファイル保存完了",{path:a})}catch(e){const n=`音声ファイル保存失敗: ${e instanceof Error?e.message:String(e)}`;t.errors.push(n),fe.error("音声ファイル保存エラー",new Error(n))}if(n.saveTranscription)try{const a=this.extractTranscriptionData(e);if(a.length>0){const e=await this.saveTranscriptionFile(a,o,r,n.includeTimestamps);t.textFilePath=e,fe.info("文字起こしファイル保存完了",{path:e})}else t.errors.push("文字起こしデータが見つかりません")}catch(e){const n=`文字起こしファイル保存失敗: ${e instanceof Error?e.message:String(e)}`;t.errors.push(n),fe.error("文字起こしファイル保存エラー",new Error(n))}return t.success=!(0!==t.errors.length||n.saveAudio&&!t.audioFilePath||n.saveTranscription&&!t.textFilePath),fe.info("録音データ保存完了",{success:t.success,errors:t.errors.length}),t}catch(e){const n=`保存処理エラー: ${e instanceof Error?e.message:String(e)}`;return t.errors.push(n),fe.error("保存処理エラー",new Error(n)),t}}static async saveAudioFile(e,n,t,r){const o=new Blob(e,{type:"mp3"===r?"audio/mp3":"audio/wav"}),a=`${n}/${t}.${r}`;try{const e=await o.arrayBuffer(),n=pe.from(e);if(await window.electronAPI.saveFileToPath(a,n))return fe.info("音声ファイル保存完了",{filePath:a}),a;throw new Error("音声ファイルの保存に失敗しました")}catch(e){throw fe.error("音声ファイル保存エラー",new Error(String(e))),new Error(`音声ファイルの保存に失敗しました: ${e instanceof Error?e.message:String(e)}`)}}static async saveTranscriptionFile(e,n,t,r){const o=`${n}/${t}.trans.txt`,a=this.generateTranscriptionMetadata(e,t),i=this.formatTranscriptionContent(e,a,r);try{if(await window.electronAPI.saveTextFile(o,i))return fe.info("文字起こしファイル保存完了",{filePath:o}),o;throw new Error("文字起こしファイルの保存に失敗しました")}catch(e){throw fe.error("文字起こしファイル保存エラー",new Error(String(e))),new Error(`文字起こしファイルの保存に失敗しました: ${e instanceof Error?e.message:String(e)}`)}}static extractTranscriptionData(e){return e.chunks.filter(e=>e.transcriptionText&&e.transcriptionText.trim()).map(e=>({chunkNumber:e.id,timestamp:e.timestamp,text:e.transcriptionText,duration:void 0})).sort((e,n)=>e.chunkNumber-n.chunkNumber)}static generateBaseName(e){return`recording_${e.toISOString().replace(/:/g,"").replace(/\./g,"").replace(/[-T]/g,"_").slice(0,15)}`}static async getDefaultWorkingDirectory(){try{const e=await window.electronAPI.loadSettings();return e&&e.saveFolder?(fe.info("設定フォルダを使用",{folder:e.saveFolder}),e.saveFolder):await window.electronAPI.getWorkingDirectory()||"./recordings"}catch(e){return fe.warn("作業ディレクトリ取得失敗、デフォルトを使用",{error:e}),"./recordings"}}static getPresetOptions(){return{audioOnly:{saveAudio:!0,saveTranscription:!1,format:"mp3",includeTimestamps:!1},transcriptionOnly:{saveAudio:!1,saveTranscription:!0,format:"mp3",includeTimestamps:!0},both:{saveAudio:!0,saveTranscription:!0,format:"mp3",includeTimestamps:!0},bothPlainText:{saveAudio:!0,saveTranscription:!0,format:"mp3",includeTimestamps:!1}}}static async saveChunk(e,n,t,r,o){const a=`${o||await this.getDefaultWorkingDirectory()}/${t}.${r}`;try{let t;try{const o=await window.electronAPI.readFile(a),i=new Blob([o],{type:"mp3"===r?"audio/mp3":"audio/wav"});t=new Blob([i,e],{type:"mp3"===r?"audio/mp3":"audio/wav"}),fe.info(`チャンク#${n}を既存ファイルに追記`,{filePath:a})}catch(r){t=e,fe.info(`チャンク#${n}で新規ファイル作成`,{filePath:a})}const o=await t.arrayBuffer(),i=pe.from(o);if(await window.electronAPI.saveFileToPath(a,i))return fe.info(`チャンク#${n}保存完了`,{filePath:a}),a;throw new Error(`チャンク#${n}の保存に失敗しました`)}catch(e){throw fe.error(`チャンク#${n}保存エラー`,new Error(String(e))),new Error(`チャンク#${n}の保存に失敗しました: ${e instanceof Error?e.message:String(e)}`)}}static async appendTranscription(e,n,t,r,o=!0,a){const i=`${a||await this.getDefaultWorkingDirectory()}/${r}.trans.txt`;try{let a="";try{const e=await window.electronAPI.readFile(i);a=pe.from(e).toString("utf-8")}catch(i){if(o){const o=[{chunkNumber:e,timestamp:t,text:n}],i=this.generateTranscriptionMetadata(o,r);a=this.formatTranscriptionMetadataHeader(i)}}let s="";if(s=o?`[${this.formatTimestamp(t)}] ${n}\n`:`${n}\n`,a+=s,await window.electronAPI.saveTextFile(i,a))return fe.info(`チャンク#${e}文字起こしを追記`,{filePath:i,text:n.substring(0,50)+"..."}),i;throw new Error(`チャンク#${e}の文字起こし追記に失敗しました`)}catch(n){throw fe.error(`チャンク#${e}文字起こし追記エラー`,new Error(String(n))),new Error(`チャンク#${e}の文字起こし追記に失敗しました: ${n instanceof Error?n.message:String(n)}`)}}static async showSaveDialog(e,n){try{return await window.electronAPI.showSaveDialog({defaultPath:e,filters:n})}catch(n){return fe.error("ファイル保存ダイアログエラー",new Error(String(n))),`./recordings/${e}_${(new Date).toISOString().replace(/:/g,"").replace(/\./g,"").replace(/[-T]/g,"_").slice(0,15)}`}}static generateTranscriptionMetadata(e,n){return{audioFile:`${n}.mp3`,model:"kotoba-whisper-medium",transcribedAt:(new Date).toISOString(),duration:e.length>0?(e[e.length-1].timestamp.getTime()-e[0].timestamp.getTime())/1e3:0,segmentCount:e.length,language:"ja",speakers:[],coverage:95}}static formatTranscriptionContent(e,n,t){let r="";return r+="---\n",r+=`audio_file: ${n.audioFile}\n`,r+=`model: ${n.model}\n`,r+=`transcribed_at: ${n.transcribedAt}\n`,r+=`duration: ${n.duration.toFixed(3)}\n`,r+=`segment_count: ${n.segmentCount}\n`,r+=`language: ${n.language}\n`,r+="speakers: []\n",r+=`coverage: ${n.coverage.toFixed(1)}\n`,r+="---\n\n",t?e.forEach(e=>{const n=this.formatTimestamp(e.timestamp);r+=`[${n}] ${e.text}\n`}):r=e.map(e=>e.text).filter(e=>e&&e.trim()).join("\n"),r}static formatTranscriptionMetadataHeader(e){let n="";return n+="---\n",n+=`audio_file: ${e.audioFile}\n`,n+=`model: ${e.model}\n`,n+=`transcribed_at: ${e.transcribedAt}\n`,n+=`duration: ${e.duration.toFixed(3)}\n`,n+=`segment_count: ${e.segmentCount}\n`,n+=`language: ${e.language}\n`,n+="speakers: []\n",n+=`coverage: ${e.coverage.toFixed(1)}\n`,n+="---\n\n",n}static formatTimestamp(e){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${Math.floor(e.getMilliseconds()/100)}`}}const ge=C.getLogger(N.SERVICE_RECORDING),me=(0,r.createContext)(null),ve=({children:n})=>{const{setRecordingFile:t}=Ie(),o=(0,r.useRef)({recordingSettings:{source:"microphone",deviceId:void 0,chunkSize:64,chunkDuration:3,chunkSizeMode:"duration",format:"mp3"},transcriptionSettings:{enabled:!0,serverUrl:"ws://localhost:8770",language:"ja",model:"small"}}),[a,i]=(0,r.useState)({startTime:new Date,duration:0,audioLevel:0,isRecording:!1,recordingSettings:o.current.recordingSettings,transcriptionSettings:o.current.transcriptionSettings,chunks:[],stats:{totalChunks:0,totalDataSize:0,currentBitrate:0,processedSamples:0},errors:[]}),s=(0,r.useRef)(null),l=(0,r.useRef)(0),c=(0,r.useRef)(""),d=(0,r.useCallback)((e,n)=>{const t={timestamp:new Date,type:e,message:n};i(e=>({...e,errors:[...e.errors,t]})),ge.error(`グローバル録音 ${e} エラー:`,new Error(n))},[]),u=(0,r.useCallback)(async e=>{ge.info(`グローバル録音 チャンク#${e.chunkNumber}生成`,{size:e.size});const n={id:e.chunkNumber,size:e.size,timestamp:new Date(e.timestamp),blob:e.chunk,transcriptionStatus:"pending"};i(e=>({...e,chunks:[...e.chunks,n]}));try{const n=o.current.recordingSettings.format,t=await he.saveChunk(e.chunk,e.chunkNumber,c.current,n);ge.info(`グローバル録音 チャンク#${e.chunkNumber}自動保存完了`,{filePath:t})}catch(n){const t=`チャンク#${e.chunkNumber}自動保存失敗: ${n instanceof Error?n.message:String(n)}`;d("recording",t)}},[d,t]),p=(0,r.useCallback)(e=>{const n=Date.now(),t=l.current?(n-l.current)/1e3:0;i(n=>({...n,duration:t,audioLevel:e.audioLevel,stats:{totalChunks:e.chunksGenerated,totalDataSize:e.totalDataSize,currentBitrate:e.currentBitrate,processedSamples:e.processedSamples}}))},[]),f=(0,r.useCallback)(e=>{d("recording",e.message)},[d,t]),h=(0,r.useCallback)(async e=>{if(ge.info(`グローバル録音 文字起こし結果 #${e.chunkNumber}:`,e.text),i(n=>({...n,chunks:n.chunks.map(n=>n.id===e.chunkNumber?{...n,transcriptionStatus:"completed",transcriptionText:e.text}:n)})),e.text&&e.text.trim())try{const n=new Date,t=await he.appendTranscription(e.chunkNumber,e.text,n,c.current,!0);ge.info(`グローバル録音 チャンク#${e.chunkNumber}文字起こし追記完了`,{filePath:t,text:e.text.substring(0,30)+"..."})}catch(n){const t=`チャンク#${e.chunkNumber}文字起こし追記失敗: ${n instanceof Error?n.message:String(n)}`;d("transcription",t)}},[d,t]),g=(0,r.useCallback)(e=>{ge.info(`グローバル録音 文字起こし進捗 #${e.chunkNumber}:`,e.status);const n="completed"===e.status?"completed":"failed"===e.status?"failed":"processing";i(t=>({...t,chunks:t.chunks.map(t=>t.id===e.chunkNumber?{...t,transcriptionStatus:n}:t)}))},[]),m=(0,r.useCallback)(async e=>{try{if(a.isRecording)return void ge.warn("既に録音中です");ge.info("グローバル録音システム開始",{config:e}),o.current=e;const n=(new Date).toISOString().replace(/:/g,"").replace(/\./g,"").replace(/[-T]/g,"_").slice(0,15);c.current=`recording_${n}`,s.current=new ue(u,f,p,h,g),e.transcriptionSettings.enabled&&s.current.setTranscriptionConfig({enabled:!0,serverUrl:e.transcriptionSettings.serverUrl,language:e.transcriptionSettings.language}),s.current.setChunkSizeThreshold(1024*e.recordingSettings.chunkSize);const r={type:e.recordingSettings.source,deviceId:e.recordingSettings.deviceId};await s.current.startWithConfig(r),l.current=Date.now();const d=new Date;i(n=>({...n,isRecording:!0,audioLevel:0,startTime:d,recordingSettings:e.recordingSettings,transcriptionSettings:e.transcriptionSettings,chunks:[],errors:[]}));const m={id:c.current,filename:`${c.current}.${e.recordingSettings.format}`,filepath:"",format:e.recordingSettings.format,size:0,createdAt:d,duration:0,isRecording:!0,hasTranscriptionFile:e.transcriptionSettings.enabled,transcriptionPath:e.transcriptionSettings.enabled?`${c.current}.trans.txt`:void 0,isPairedFile:e.transcriptionSettings.enabled};t(m),ge.info("グローバル録音システム開始完了",{baseName:c.current})}catch(e){const n=e instanceof Error?e.message:String(e);throw d("recording",`録音開始失敗: ${n}`),e}},[a.isRecording,u,f,p,h,g,d,t]),v=(0,r.useCallback)(async()=>{try{if(!s.current)return d("recording","録音サービスが初期化されていません"),null;ge.info("グローバル録音システム停止開始");const e=await s.current.stop();return i(e=>({...e,isRecording:!1,audioLevel:0,chunks:e.chunks.map(e=>"pending"===e.transcriptionStatus||"processing"===e.transcriptionStatus?{...e,transcriptionStatus:"failed",transcriptionText:"録音停止によりキャンセル"}:e)})),s.current=null,l.current=0,t(null),ge.info("グローバル録音システム停止完了",{finalBlobSize:e.size}),e}catch(e){const n=e instanceof Error?e.message:String(e);return d("recording",`録音停止失敗: ${n}`),null}},[d,t]),b=(0,r.useCallback)(e=>{a.isRecording?d("recording","録音中は設定を変更できません"):(o.current={recordingSettings:{...o.current.recordingSettings,...e.recordingSettings},transcriptionSettings:{...o.current.transcriptionSettings,...e.transcriptionSettings}},i(n=>({...n,recordingSettings:{...n.recordingSettings,...e.recordingSettings},transcriptionSettings:{...n.transcriptionSettings,...e.transcriptionSettings}})),ge.info("グローバル録音設定更新",e))},[a.isRecording,d]),x=(0,r.useCallback)(e=>{const n=a.chunks.find(n=>n.id===e);if(!n)return void d("recording",`チャンク#${e}が見つかりません`);const t=URL.createObjectURL(n.blob),r=document.createElement("a");r.href=t,r.download=`recording_chunk_${e}.${a.recordingSettings.format}`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),ge.info(`チャンク#${e}ダウンロード完了`)},[a.chunks,a.recordingSettings.format,d]),y=(0,r.useCallback)(()=>{if(0===a.chunks.length)return void d("recording","ダウンロード可能なチャンクがありません");const e=a.chunks.map(e=>e.blob),n=new Blob(e,{type:"mp3"===a.recordingSettings.format?"audio/mp3":"audio/wav"}),t=(new Date).toISOString().replace(/:/g,"").replace(/\./g,"").replace(/[-T]/g,"_").slice(0,15),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`recording_${t}.${a.recordingSettings.format}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r),ge.info("統合ファイルダウンロード完了",{chunksCount:a.chunks.length})},[a.chunks,a.recordingSettings.format,d]);(0,r.useEffect)(()=>()=>{s.current&&s.current.stop().catch(e=>{ge.error("グローバル録音サービスクリーンアップエラー:",e)})},[]);const w={recordingData:a,isRecording:a.isRecording,startRecording:m,stopRecording:v,updateConfig:b,getChunkById:e=>a.chunks.find(n=>n.id===e),getTotalDuration:()=>a.duration,getTotalDataSize:()=>a.stats.totalDataSize,getChunksCount:()=>a.chunks.length,getErrorsCount:()=>a.errors.length,getTranscriptionCount:()=>a.chunks.filter(e=>e.transcriptionText).length,hasTranscriptionData:()=>a.chunks.some(e=>e.transcriptionText&&e.transcriptionText.trim()),downloadChunk:x,downloadAllChunks:y};return(0,e.jsx)(me.Provider,{value:w,children:n})};class be{static durationToBytes(e,n=be.DEFAULT_FORMAT){const t=n.bitDepth/8,r=n.sampleRate*n.channels*t*e*n.compression;return Math.round(r/1024)}static bytesToDuration(e,n=be.DEFAULT_FORMAT){const t=1024*e/n.compression,r=n.bitDepth/8,o=t/(n.sampleRate*n.channels*r);return Math.round(10*o)/10}static calculateOptimalSize(e,n,t){const r=t||be.DEFAULT_FORMAT;return"duration"===e?{sizeKB:be.durationToBytes(n,r),durationSeconds:n}:{sizeKB:n,durationSeconds:be.bytesToDuration(n,r)}}static getPresets(){return[{label:"1秒 (超高速)",durationSeconds:1,sizeKB:be.durationToBytes(1),useCase:"字幕生成、リアルタイム翻訳"},{label:"2秒 (高速)",durationSeconds:2,sizeKB:be.durationToBytes(2),useCase:"ライブ配信、即座の反応が必要"},{label:"3秒 (推奨)",durationSeconds:3,sizeKB:be.durationToBytes(3),useCase:"会議、講演のリアルタイム文字起こし"},{label:"5秒 (バランス)",durationSeconds:5,sizeKB:be.durationToBytes(5),useCase:"インタビュー、対話"},{label:"10秒 (高精度)",durationSeconds:10,sizeKB:be.durationToBytes(10),useCase:"講演録音、長い発話の正確な転写"},{label:"15秒 (最高精度)",durationSeconds:15,sizeKB:be.durationToBytes(15),useCase:"音楽、詩、複雑な内容の高精度転写"}]}static debugSizeChart(){console.table([{サイズ:"32KB",推定時間:be.bytesToDuration(32)+"秒"},{サイズ:"64KB",推定時間:be.bytesToDuration(64)+"秒"},{サイズ:"128KB",推定時間:be.bytesToDuration(128)+"秒"},{サイズ:"256KB",推定時間:be.bytesToDuration(256)+"秒"},{サイズ:"512KB",推定時間:be.bytesToDuration(512)+"秒"}])}}be.DEFAULT_FORMAT={sampleRate:44100,bitDepth:16,channels:1,compression:.12};var xe=t(753),ye={};ye.styleTagTransform=g(),ye.setAttributes=u(),ye.insert=c().bind(null,"head"),ye.domAPI=s(),ye.insertStyleElement=f(),a()(xe.A,ye),xe.A&&xe.A.locals&&xe.A.locals;const we=({tabId:n,data:t})=>{const[o,a]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),{recordingData:d,isRecording:u,startRecording:p,stopRecording:f,updateConfig:h,downloadChunk:g,downloadAllChunks:m,getTotalDuration:v,getTotalDataSize:b,getChunksCount:x,getErrorsCount:y,getTranscriptionCount:w,hasTranscriptionData:k}=(()=>{const e=(0,r.useContext)(me);if(!e)throw new Error("useRecordingContext must be used within RecordingProvider");return e})(),S=(0,r.useCallback)(async()=>{const e={recordingSettings:d.recordingSettings,transcriptionSettings:d.transcriptionSettings};try{await p(e),console.log("🚀 AdvancedRecording 録音開始完了")}catch(e){console.error("🚀 AdvancedRecording 録音開始エラー:",e)}},[p,d.recordingSettings,d.transcriptionSettings]);return(0,e.jsx)("div",{className:"advanced-recording-card",children:(0,e.jsxs)("div",{className:"card-body",children:[(0,e.jsxs)("div",{className:"recording-control",children:[(0,e.jsxs)("button",{className:"record-button "+(u?"recording":"idle"),onClick:u?f:S,children:[(0,e.jsx)("span",{className:"button-icon",children:u?"🛑":"🎬"}),(0,e.jsx)("span",{className:"button-text",children:u?"録音停止":"録音開始"})]}),(0,e.jsxs)("div",{className:"recording-info",children:[(0,e.jsxs)("div",{className:"level-meter",children:[(0,e.jsx)("div",{className:"level-bar",children:(0,e.jsx)("div",{className:"level-fill",style:{width:`${Math.min(100*d.audioLevel,100)}%`}})}),(0,e.jsx)("span",{className:"level-text",children:"音量"})]}),(0,e.jsxs)("div",{className:"recording-stats",children:[(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("span",{className:"stat-label",children:"録音時間:"}),(0,e.jsxs)("span",{className:"stat-value",children:[d.duration.toFixed(1),"秒"]})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("span",{className:"stat-label",children:"処理チャンク:"}),(0,e.jsxs)("span",{className:"stat-value",children:[d.stats.totalChunks,"個"]})]})]})]})]}),(0,e.jsxs)("div",{className:"settings-section",children:[(0,e.jsxs)("h3",{className:"accordion-header",onClick:()=>a(!o),children:["⚙️ 設定",(0,e.jsx)("span",{className:"accordion-icon "+(o?"expanded":""),children:"▼"})]}),o&&(0,e.jsxs)("div",{className:"accordion-content",children:[(0,e.jsxs)("div",{className:"setting-group",children:[(0,e.jsx)("h4",{children:"📋 録音設定"}),(0,e.jsxs)("div",{className:"settings-grid",children:[(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"音声ソース:"}),(0,e.jsxs)("select",{value:d.recordingSettings.source,onChange:e=>h({recordingSettings:{...d.recordingSettings,source:e.target.value}}),disabled:u,className:"setting-select",children:[(0,e.jsx)("option",{value:"microphone",children:"🎤 マイクロフォン"}),(0,e.jsx)("option",{value:"desktop",children:"🖥️ デスクトップ音声"}),(0,e.jsx)("option",{value:"mix",children:"🎧 マイク + デスクトップ"})]})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"チャンク時間:"}),(0,e.jsxs)("select",{value:d.recordingSettings.chunkDuration,onChange:e=>{const n=parseFloat(e.target.value),t=be.durationToBytes(n);h({recordingSettings:{...d.recordingSettings,chunkDuration:n,chunkSize:t}})},disabled:u,className:"setting-select",children:[(0,e.jsx)("option",{value:1,children:"1秒 (超高速)"}),(0,e.jsx)("option",{value:2,children:"2秒 (高速)"}),(0,e.jsx)("option",{value:3,children:"3秒 (推奨)"}),(0,e.jsx)("option",{value:5,children:"5秒 (バランス)"}),(0,e.jsx)("option",{value:10,children:"10秒 (高精度)"}),(0,e.jsx)("option",{value:15,children:"15秒 (最高精度)"})]}),(0,e.jsxs)("span",{className:"setting-hint",children:["≈",be.durationToBytes(d.recordingSettings.chunkDuration),"KB"]})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"エンコード形式:"}),(0,e.jsxs)("select",{value:d.recordingSettings.format,onChange:e=>h({recordingSettings:{...d.recordingSettings,format:e.target.value}}),disabled:u,className:"setting-select",children:[(0,e.jsx)("option",{value:"mp3",children:"MP3 (lamejs)"}),(0,e.jsx)("option",{value:"wav",children:"WAV (フォールバック)"})]})]})]})]}),(0,e.jsxs)("div",{className:"setting-group",children:[(0,e.jsx)("h4",{children:"🔗 文字起こし設定"}),(0,e.jsxs)("div",{className:"settings-grid",children:[(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"有効:"}),(0,e.jsxs)("label",{className:"setting-toggle",children:[(0,e.jsx)("input",{type:"checkbox",checked:d.transcriptionSettings.enabled,onChange:e=>h({transcriptionSettings:{...d.transcriptionSettings,enabled:e.target.checked}}),disabled:u}),(0,e.jsx)("span",{className:"toggle-slider"})]})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"言語:"}),(0,e.jsxs)("select",{value:d.transcriptionSettings.language,onChange:e=>h({transcriptionSettings:{...d.transcriptionSettings,language:e.target.value}}),disabled:u,className:"setting-select",children:[(0,e.jsx)("option",{value:"ja",children:"🇯🇵 日本語"}),(0,e.jsx)("option",{value:"en",children:"🇺🇸 英語"}),(0,e.jsx)("option",{value:"auto",children:"🌐 自動検出"})]})]}),(0,e.jsxs)("div",{className:"setting-item",children:[(0,e.jsx)("label",{children:"モデル:"}),(0,e.jsxs)("select",{value:d.transcriptionSettings.model,onChange:e=>h({transcriptionSettings:{...d.transcriptionSettings,model:e.target.value}}),disabled:u,className:"setting-select",children:[(0,e.jsx)("option",{value:"small",children:"Small (高速)"}),(0,e.jsx)("option",{value:"medium",children:"Medium (バランス)"}),(0,e.jsx)("option",{value:"large",children:"Large (高精度)"})]})]})]})]})]})]}),(0,e.jsxs)("div",{className:"stats-section",children:[(0,e.jsxs)("h3",{className:"accordion-header",onClick:()=>s(!i),children:["📊 録音統計",(0,e.jsx)("span",{className:"accordion-icon "+(i?"expanded":""),children:"▼"})]}),i&&(0,e.jsx)("div",{className:"accordion-content",children:(0,e.jsxs)("div",{className:"stats-grid",children:[(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"録音時間:"}),(0,e.jsxs)("span",{children:[d.duration.toFixed(1),"秒"]})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"生成チャンク数:"}),(0,e.jsx)("span",{children:d.stats.totalChunks})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"総データサイズ:"}),(0,e.jsxs)("span",{children:[(d.stats.totalDataSize/1024).toFixed(1),"KB"]})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"現在のビットレート:"}),(0,e.jsxs)("span",{children:[(d.stats.currentBitrate/1e3).toFixed(1),"kbps"]})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"文字起こし完了:"}),(0,e.jsxs)("span",{children:[w(),"/",x()]})]}),(0,e.jsxs)("div",{className:"stat-item",children:[(0,e.jsx)("label",{children:"文字起こし文字数:"}),(0,e.jsxs)("span",{children:[d.chunks.reduce((e,n)=>e+(n.transcriptionText?.length||0),0),"文字"]})]})]})})]}),d.transcriptionSettings.enabled&&(0,e.jsxs)("div",{className:"transcription-results",children:[(0,e.jsx)("h3",{style:{color:"var(--color-text-primary)"},children:"📝 文字起こし結果"}),(0,e.jsx)("div",{className:"transcription-display",children:0===d.chunks.length?(0,e.jsx)("div",{className:"transcription-placeholder",children:"録音を開始すると、文字起こし結果がここに表示されます..."}):(0,e.jsx)("div",{className:"transcription-timeline",children:d.chunks.map(n=>(0,e.jsxs)("div",{className:`transcription-chunk ${n.transcriptionStatus}`,children:[(0,e.jsxs)("div",{className:"chunk-header",children:[(0,e.jsx)("span",{className:"chunk-time",children:new Date(n.timestamp).toLocaleTimeString()}),(0,e.jsxs)("span",{className:`chunk-status-badge ${n.transcriptionStatus}`,children:["pending"===n.transcriptionStatus&&"⏳ 待機中","processing"===n.transcriptionStatus&&"⚡ 処理中","completed"===n.transcriptionStatus&&"✅ 完了","failed"===n.transcriptionStatus&&"❌ キャンセル"]})]}),(0,e.jsx)("div",{className:"chunk-transcription-text",children:n.transcriptionText?n.transcriptionText:"completed"===n.transcriptionStatus?(0,e.jsx)("span",{className:"no-text",children:"(音声なし)"}):"failed"===n.transcriptionStatus?(0,e.jsx)("span",{className:"no-text",children:"(キャンセルされました)"}):(0,e.jsx)("span",{className:"processing-text",children:"処理中..."})})]},n.id))})}),d.chunks.length>0&&(0,e.jsx)("div",{className:"transcription-actions",children:(0,e.jsx)("button",{className:"copy-all-button",onClick:()=>{const e=d.chunks.filter(e=>e.transcriptionText).map(e=>e.transcriptionText).join("\n");e&&(navigator.clipboard.writeText(e),console.log("全文字起こし結果をクリップボードにコピーしました"))},disabled:!d.chunks.some(e=>e.transcriptionText),children:"📋 全文コピー"})})]}),d.chunks.length>0&&(0,e.jsxs)("div",{className:"chunks-section",children:[(0,e.jsxs)("h3",{className:"accordion-header",onClick:()=>c(!l),children:["🎯 チャンクログ (",d.chunks.length,"個)",(0,e.jsx)("span",{className:"accordion-icon "+(l?"expanded":""),children:"▼"})]}),l&&(0,e.jsx)("div",{className:"accordion-content",children:(0,e.jsx)("div",{className:"chunks-list",children:d.chunks.map(n=>(0,e.jsxs)("div",{className:"chunk-item",children:[(0,e.jsxs)("div",{className:"chunk-info",children:[(0,e.jsxs)("span",{className:"chunk-id",children:["チャンク #",n.id]}),(0,e.jsxs)("span",{className:"chunk-size",children:[(n.size/1024).toFixed(1),"KB"]}),(0,e.jsx)("span",{className:"chunk-time",children:n.timestamp.toLocaleTimeString()})]}),(0,e.jsx)("div",{className:`chunk-status ${n.transcriptionStatus}`,children:n.transcriptionStatus}),(0,e.jsx)("button",{className:"chunk-download-button",onClick:()=>g(n.id),title:`チャンク#${n.id}をダウンロード`,children:"📥"})]},n.id))})})]}),d.errors.length>0&&(0,e.jsxs)("div",{className:"error-section",children:[(0,e.jsx)("h3",{children:"❌ エラー情報"}),(0,e.jsx)("div",{className:"errors-list",children:d.errors.map((n,t)=>(0,e.jsxs)("div",{className:"error-item",children:[(0,e.jsx)("div",{className:"error-time",children:n.timestamp.toLocaleTimeString()}),(0,e.jsx)("div",{className:"error-type",children:n.type}),(0,e.jsx)("div",{className:"error-message",children:n.message})]},t))})]})]})})},ke=()=>{const{getActiveTab:n}=I(),t=n();if(!t)return(0,e.jsx)("div",{style:{height:"100%",overflow:"auto"},children:(0,e.jsx)(re,{})});const r={height:"100%",overflow:"auto",background:"var(--color-bg-primary)",padding:"0"};switch(t.type){case x.WELCOME:return(0,e.jsx)("div",{style:r,children:(0,e.jsx)(re,{})});case x.PLAYER:return(0,e.jsx)("div",{style:{...r,padding:"0"},children:(0,e.jsx)(le,{tabId:t.id,data:t.data})});case x.ADVANCED_RECORDING:return(0,e.jsx)("div",{style:{...r,padding:"0"},children:(0,e.jsx)(we,{tabId:t.id,data:t.data})});default:return(0,e.jsx)("div",{style:r,children:(0,e.jsxs)("div",{style:{background:"var(--color-bg-secondary)",borderRadius:"12px",border:"2px solid var(--color-danger)",padding:"40px",margin:"16px",textAlign:"center"},children:[(0,e.jsx)("h2",{style:{color:"var(--color-text-primary)",marginBottom:"16px"},children:"未対応のタブタイプ"}),(0,e.jsxs)("p",{style:{color:"var(--color-text-secondary)"},children:["タブタイプ: ",t.type]})]})})}},Se=()=>{const[n,t]=(0,r.useState)(300),[o,a]=(0,r.useState)(!1),i=(0,r.useCallback)(e=>{a(!0),e.preventDefault()},[]),s=(0,r.useCallback)(e=>{if(!o)return;const n=e.clientX;n>=200&&n<=600&&t(n)},[o]),l=(0,r.useCallback)(()=>{a(!1)},[]);return r.useEffect(()=>(o?(document.addEventListener("mousemove",s),document.addEventListener("mouseup",l),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l),document.body.style.cursor="",document.body.style.userSelect=""}),[o,s,l]),(0,e.jsxs)("div",{className:"main-layout","data-testid":"main-layout",children:[(0,e.jsx)("div",{className:"left-panel",style:{width:`${n}px`,minWidth:`${n}px`,maxWidth:`${n}px`,backgroundColor:"var(--color-bg-secondary)",borderRight:"1px solid var(--color-border)",display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,e.jsx)(q,{})}),(0,e.jsx)("div",{className:"resize-handle",onMouseDown:i,style:{width:"4px",backgroundColor:o?"var(--color-accent)":"var(--color-border)",cursor:"col-resize",userSelect:"none",transition:o?"none":"background-color 0.2s ease"}}),(0,e.jsxs)("div",{className:"right-panel",style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,e.jsx)(Z,{}),(0,e.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,e.jsx)(ke,{})})]})]})};var Ee;!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.TEST="test"}(Ee||(Ee={}));const Ne={[Ee.DEVELOPMENT]:{globalLevel:k.DEBUG,environment:Ee.DEVELOPMENT,enableConsoleOutput:!0,enableFileOutput:!1,categoryLevels:{[N.UI_BOTTOM_PANEL]:k.DEBUG,[N.UI_SPEECH_RECOGNITION]:k.DEBUG,[N.UI_FILE_LIST]:k.INFO,[N.UI_SETTINGS]:k.INFO,[N.HOOK_RECORDING_CONTROL]:k.DEBUG,[N.HOOK_DEVICE_MANAGER]:k.INFO,[N.HOOK_BOTTOM_PANEL_STATE]:k.INFO,[N.SERVICE_RECORDING]:k.DEBUG,[N.SERVICE_TRANSCRIPTION]:k.DEBUG,[N.SERVICE_FILE_MANAGER]:k.INFO,[N.SERVICE_AUDIO_MIXING]:k.DEBUG,[N.SERVICE_MICROPHONE_MONITOR]:k.INFO,[N.AUDIO_CHUNK_PROCESSOR]:k.DEBUG,[N.AUDIO_DIFFERENTIAL_GENERATOR]:k.DEBUG,[N.AUDIO_CHUNK_WATCHER]:k.INFO,[N.TRANSCRIPTION_ENGINE]:k.DEBUG,[N.TRANSCRIPTION_REALTIME]:k.DEBUG,[N.TRANSCRIPTION_FILE_BASED]:k.DEBUG,[N.FILE_CHUNK_WATCHER]:k.INFO,[N.FILE_REALTIME_PROCESSOR]:k.DEBUG,[N.FILE_TEXT_MANAGER]:k.INFO,[N.NETWORK_API]:k.INFO,[N.NETWORK_WEBSOCKET]:k.WARN,[N.SYSTEM_ELECTRON]:k.INFO,[N.SYSTEM_PRELOAD]:k.INFO,[N.SYSTEM_MAIN]:k.INFO,[N.ERROR_HANDLER]:k.WARN,[N.ERROR_RECOVERY]:k.INFO,[N.PERF_MONITOR]:k.DEBUG,[N.PERF_METRICS]:k.DEBUG,[N.DEBUG_GENERAL]:k.DEBUG,[N.DEBUG_STATE]:k.DEBUG},enablePerformanceLogs:!0,enableDebugLogs:!0,maxLogHistorySize:1e4,timestampFormat:"HH:mm:ss.SSS",includeStackTrace:!0,excludeCategories:[],globalContext:{environment:"development",version:"1.0.0"}},[Ee.PRODUCTION]:{globalLevel:k.WARN,environment:Ee.PRODUCTION,enableConsoleOutput:!1,enableFileOutput:!0,categoryLevels:{[N.APP]:k.INFO,[N.UI_BOTTOM_PANEL]:k.WARN,[N.UI_SPEECH_RECOGNITION]:k.WARN,[N.UI_FILE_LIST]:k.ERROR,[N.UI_SETTINGS]:k.WARN,[N.SERVICE_RECORDING]:k.INFO,[N.SERVICE_TRANSCRIPTION]:k.INFO,[N.SERVICE_FILE_MANAGER]:k.WARN,[N.SERVICE_AUDIO_MIXING]:k.WARN,[N.SERVICE_MICROPHONE_MONITOR]:k.ERROR,[N.AUDIO_CHUNK_PROCESSOR]:k.WARN,[N.AUDIO_DIFFERENTIAL_GENERATOR]:k.WARN,[N.AUDIO_CHUNK_WATCHER]:k.ERROR,[N.TRANSCRIPTION_ENGINE]:k.INFO,[N.TRANSCRIPTION_REALTIME]:k.INFO,[N.TRANSCRIPTION_FILE_BASED]:k.INFO,[N.FILE_CHUNK_WATCHER]:k.WARN,[N.FILE_REALTIME_PROCESSOR]:k.INFO,[N.FILE_TEXT_MANAGER]:k.WARN,[N.NETWORK_API]:k.INFO,[N.NETWORK_WEBSOCKET]:k.WARN,[N.SYSTEM_ELECTRON]:k.WARN,[N.SYSTEM_PRELOAD]:k.WARN,[N.SYSTEM_MAIN]:k.WARN,[N.ERROR_HANDLER]:k.INFO,[N.ERROR_RECOVERY]:k.INFO,[N.PERF_MONITOR]:k.SILENT,[N.PERF_METRICS]:k.SILENT,[N.DEBUG_GENERAL]:k.SILENT,[N.DEBUG_STATE]:k.SILENT},enablePerformanceLogs:!1,enableDebugLogs:!1,maxLogHistorySize:1e3,timestampFormat:"YYYY-MM-DD HH:mm:ss",includeStackTrace:!1,excludeCategories:[N.DEBUG_GENERAL,N.DEBUG_STATE,N.PERF_MONITOR,N.PERF_METRICS],globalContext:{environment:"production",version:"1.0.0"}},[Ee.TEST]:{globalLevel:k.ERROR,environment:Ee.TEST,enableConsoleOutput:!1,enableFileOutput:!1,categoryLevels:{[N.APP]:k.ERROR,[N.ERROR_HANDLER]:k.ERROR,[N.ERROR_RECOVERY]:k.ERROR},enablePerformanceLogs:!1,enableDebugLogs:!1,maxLogHistorySize:100,timestampFormat:"HH:mm:ss",includeStackTrace:!0,excludeCategories:[],globalContext:{environment:"test",version:"1.0.0"}}};class Ce{static initialize(){return Ce.currentEnvironment=Ce.detectEnvironment(),Ce.currentConfig=Ne[Ce.currentEnvironment],Ce.currentConfig}static detectEnvironment(){return Ee.PRODUCTION}static getCurrentConfig(){return Ce.currentConfig||Ce.initialize(),Ce.currentConfig}static getCurrentEnvironment(){return Ce.currentEnvironment||Ce.initialize(),Ce.currentEnvironment}static getLogLevelForCategory(e){const n=Ce.getCurrentConfig();return n.categoryLevels[e]??n.globalLevel}static isCategoryFiltered(e){const n=Ce.getCurrentConfig();return!!n.excludeCategories.includes(e)||!(!n.includeOnlyCategories||n.includeOnlyCategories.includes(e))}static updateConfig(e){Ce.currentConfig={...Ce.currentConfig,...e}}static getDebugInfo(){const e=Ce.getCurrentConfig(),n=Object.values(N),t=n.filter(e=>!Ce.isCategoryFiltered(e)&&Ce.getLogLevelForCategory(e)<k.SILENT),r=n.filter(e=>Ce.isCategoryFiltered(e));return{environment:Ce.currentEnvironment,globalLevel:k[e.globalLevel],enabledCategories:t,filteredCategories:r}}}Ce.getCurrentConfig,Ce.getLogLevelForCategory,Ce.isCategoryFiltered,Ce.initialize;var Te=t(606);class _e{static async initialize(){if(_e.isInitialized)console.warn("LoggerInitializer: 既に初期化済みです");else{_e.initStartTime=performance.now();try{const e=Ce.initialize(),n=_e.loadEnvironmentConfig(),t={...e,...n};C.initialize({level:t.globalLevel,isDevelopment:t.environment===Ee.DEVELOPMENT,globalContext:{...t.globalContext,initTimestamp:(new Date).toISOString(),processId:Te.pid,platform:Te.platform,nodeVersion:Te.version}}),_e.appLogger=C.getLogger(N.APP);const r=performance.now()-_e.initStartTime;_e.appLogger.info("ログシステム初期化完了",{initTime:`${r.toFixed(2)}ms`,environment:t.environment,logLevel:k[t.globalLevel],enableConsole:t.enableConsoleOutput,enableFile:t.enableFileOutput,categoriesCount:Object.keys(N).length}),t.enableDebugLogs&&_e.logSystemInfo(),t.enablePerformanceLogs&&_e.startPerformanceMonitoring(),_e.isInitialized=!0}catch(e){console.error("ログシステム初期化エラー:",e),C.initialize({level:k.WARN,isDevelopment:!0}),_e.isInitialized=!0}}}static loadEnvironmentConfig(){const e=Te.env,n={};return e.KOENOTE_LOG_LEVEL&&(n.globalLevel=k[e.KOENOTE_LOG_LEVEL]),e.KOENOTE_LOG_ENABLE_CONSOLE&&(n.enableConsoleOutput="true"===e.KOENOTE_LOG_ENABLE_CONSOLE),e.KOENOTE_LOG_ENABLE_PERFORMANCE&&(n.enablePerformanceLogs="true"===e.KOENOTE_LOG_ENABLE_PERFORMANCE),e.KOENOTE_LOG_CATEGORIES&&(n.includeOnlyCategories=e.KOENOTE_LOG_CATEGORIES.split(",").map(e=>e.trim())),e.KOENOTE_LOG_EXCLUDE_CATEGORIES&&(n.excludeCategories=e.KOENOTE_LOG_EXCLUDE_CATEGORIES.split(",").map(e=>e.trim())),n}static logSystemInfo(){const e=C.getLogger(N.SYSTEM_ELECTRON);e.debug("システム情報",{platform:Te.platform,arch:Te.arch,nodeVersion:Te.version,electronVersion:Te.versions.electron,chromeVersion:Te.versions.chrome,processId:Te.pid,workingDirectory:Te.cwd(),memoryUsage:Te.memoryUsage()});const n=C.getStats();e.debug("Logger統計情報",n);const t=Ce.getDebugInfo();e.debug("ログ設定情報",t)}static startPerformanceMonitoring(){const e=C.getLogger(N.PERF_MONITOR);setInterval(()=>{const n=Te.memoryUsage();e.perf("メモリ使用量",{rss:`${Math.round(n.rss/1024/1024)}MB`,heapUsed:`${Math.round(n.heapUsed/1024/1024)}MB`,heapTotal:`${Math.round(n.heapTotal/1024/1024)}MB`,external:`${Math.round(n.external/1024/1024)}MB`})},6e4),setInterval(()=>{const n=C.getStats();e.perf("Logger統計",n)},3e5),e.info("パフォーマンス監視開始")}static enableDebugMode(){_e.appLogger&&_e.appLogger.info("デバッグモードを有効化"),"undefined"!=typeof window&&(window.koeNoteLogDebug={setLogLevel:e=>{C.getLogger(N.APP).info(`ログレベルを${e}に変更`),Ce.updateConfig({globalLevel:k[e]})},getLogStats:()=>C.getStats(),showSystemInfo:()=>{_e.logSystemInfo()},testAllCategories:()=>{Object.values(N).forEach(e=>{C.getLogger(e).debug(`テストログ: ${e}`)})},showConfig:()=>Ce.getDebugInfo()},_e.appLogger?.info("デバッグユーティリティをwindow.koeNoteLogDebugに追加"))}static isReady(){return _e.isInitialized}static getInitTime(){return _e.initStartTime>0?performance.now()-_e.initStartTime:0}static shutdown(){_e.appLogger&&_e.appLogger.info("ログシステムシャットダウン開始"),C.clearAll(),_e.isInitialized=!1,_e.initStartTime=0,console.log("ログシステムシャットダウン完了")}}_e.isInitialized=!1,_e.initStartTime=0;const je=_e.initialize;_e.enableDebugMode,_e.isReady,_e.shutdown,"undefined"!=typeof window?document.addEventListener("DOMContentLoaded",()=>{je()}):void 0!==Te&&Te.nextTick(()=>{je()});const Ae=(0,r.createContext)(null),Ie=()=>{const e=(0,r.useContext)(Ae);if(!e)throw new Error("useAppContext must be used within AppProvider");return e};var Re=t(668).hp;const Le=[{id:"mock-1",filename:"sample_recording.webm",filepath:"/mock/path/sample_recording.webm",format:"webm",size:1024e3,createdAt:new Date("2025-07-28T10:00:00Z"),duration:30,hasTranscriptionFile:!0,transcriptionPath:"/mock/path/sample_recording_transcription.txt"},{id:"mock-2",filename:"test_audio.webm",filepath:"/mock/path/test_audio.webm",format:"webm",size:2048e3,createdAt:new Date("2025-07-28T11:00:00Z"),duration:60,hasTranscriptionFile:!1}],ze={saveFolder:"/mock/recordings",audioQuality:"high",defaultVolume:1,defaultInputDevice:"default",mp3Bitrate:192,autoTranscribe:!0};void 0===globalThis.global&&(globalThis.global=globalThis),window.addEventListener("error",e=>{console.error("Global Error:",e.error),console.error("Error details:",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?.stack})}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason)}),window.electronAPI?console.log("Electron API が正常に読み込まれました"):(console.error("Electron API が利用できません。Electronアプリケーション内で実行してください。"),console.log("ブラウザ環境用のモックAPIを設定中..."),window.electronAPI||(console.log("Setting up mock Electron API for browser environment"),window.electronAPI={selectFolder:async()=>"/mock/selected/folder",saveFile:async(e,n,t)=>(console.log("Mock saveFile:",n,"size:",e.byteLength),`/mock/path/${t?t+"/":""}${n}`),getFileList:async e=>(console.log("Mock getFileList:",e),Le),deleteFile:async e=>(console.log("Mock deleteFile:",e),!0),loadAudioFile:async e=>(console.log("Mock loadAudioFile:",e),"data:audio/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOiWETkvOhEHNtsqAAlxDQ0xUREZEBEQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEREQEQ=="),saveMetadata:async(e,n)=>{console.log("Mock saveMetadata:",e,n)},getFileSize:async e=>(console.log("Mock getFileSize:",e),1024e3),getDiskSpace:async e=>(console.log("Mock getDiskSpace:",e),{free:1e10,total:5e10}),readFile:async e=>(console.log("Mock readFile:",e),Re.from("Mock file content")),loadSettings:async()=>(console.log("Mock loadSettings"),ze),saveSettings:async e=>{console.log("Mock saveSettings:",e)},getInputDevices:async()=>(console.log("Mock getInputDevices"),[{deviceId:"default",label:"Default Microphone",kind:"audioinput",groupId:"group1"}]),getDesktopSources:async()=>(console.log("Mock getDesktopSources"),[]),windowMinimize:async()=>{console.log("Mock windowMinimize")},windowMaximize:async()=>{console.log("Mock windowMaximize")},windowClose:async()=>{console.log("Mock windowClose")},windowIsMaximized:async()=>(console.log("Mock windowIsMaximized"),!1),onFileSaved:e=>{console.log("Mock onFileSaved listener registered")},removeAllListeners:e=>{console.log("Mock removeAllListeners:",e)},debugGetLogs:async()=>(console.log("Mock debugGetLogs"),"Mock debug logs"),debugClearLogs:async()=>{console.log("Mock debugClearLogs")},speechGetServerStatus:async()=>(console.log("Mock speechGetServerStatus"),{isRunning:!0,pid:12345}),speechStartServer:async()=>(console.log("Mock speechStartServer"),!0),speechStopServer:async()=>{console.log("Mock speechStopServer")},speechTranscribe:async e=>(console.log("Mock speechTranscribe:",e),{language:"ja",duration:30,segments:[{start:0,end:5,text:"こんにちは"},{start:5,end:10,text:"テストです"},{start:10,end:15,text:"モック文字起こし結果"}],created_at:Date.now(),segment_count:3}),speechChangeModel:async e=>(console.log("Mock speechChangeModel:",e),!0),onSpeechProgress:e=>{console.log("Mock onSpeechProgress listener registered")},saveTranscriptionFile:async(e,n)=>(console.log("Mock saveTranscriptionFile:",e),"/mock/path/transcription.txt"),loadTranscriptionFile:async e=>(console.log("Mock loadTranscriptionFile:",e),{metadata:{audioFile:"sample.webm",model:"medium",transcribedAt:(new Date).toISOString(),duration:30,segmentCount:3,language:"ja",speakers:[],coverage:95},segments:[{start:0,end:5,text:"こんにちは"},{start:5,end:10,text:"テストです"}],filePath:e,isModified:!1}),deleteTranscriptionFile:async e=>(console.log("Mock deleteTranscriptionFile:",e),!0),saveClipboardCopy:async(e,n)=>{console.log("Mock saveClipboardCopy:",e)},loadAIChatFile:async e=>(console.log("Mock loadAIChatFile:",e),{sourceFile:"sample.txt",createdAt:(new Date).toISOString(),clipboardHistory:[]}),checkTranscriptionExists:async e=>(console.log("Mock checkTranscriptionExists:",e),!0),getTranscriptionPath:async e=>(console.log("Mock getTranscriptionPath:",e),e.replace(".webm","_transcription.txt")),getAIChatPath:async e=>(console.log("Mock getAIChatPath:",e),e.replace(".webm","_chat.json")),chunkStartTranscription:async(e,n)=>(console.log("Mock chunkStartTranscription:",e,n),"mock-session-id"),chunkStopTranscription:async e=>{console.log("Mock chunkStopTranscription:",e)},chunkGetProgress:async e=>(console.log("Mock chunkGetProgress:",e),{isTranscribing:!1,totalChunks:10,processedChunks:10,failedChunks:0,currentProcessingChunk:10,averageProcessingTime:2e3,estimatedTimeRemaining:0}),chunkUpdateSettings:async e=>{console.log("Mock chunkUpdateSettings:",e)},chunkSaveConsolidatedResult:async(e,n)=>(console.log("Mock chunkSaveConsolidatedResult:",e),"/mock/path/consolidated.txt"),loadPartialAudioFile:async e=>(console.log("Mock loadPartialAudioFile:",e),"data:audio/webm;base64,mock-partial-audio-data")})),setTimeout(()=>{console.log("🧪 V2サービステスト関数を登録中..."),window.testBasicAPI=async()=>{console.log("🚀 基本API動作確認テスト開始"),console.log("===============================");try{if(!window.electronAPI)return void console.error("❌ Electron API が利用できません");console.log("✅ Electron API 利用可能");const e=await window.electronAPI.loadSettings();if(console.log("✅ 設定読み込み成功:",e),e.saveFolder){const n=await window.electronAPI.getFileList(e.saveFolder);console.log("✅ ファイル一覧取得成功:",n.length+"件");const t=n.filter(e=>{const n=e.filename.toLowerCase();return n.endsWith(".webm")||n.endsWith(".wav")||n.endsWith(".mp3")||n.endsWith(".m4a")});console.log("📊 音声ファイル数:",t.length),t.length>0&&console.log("📄 最初の音声ファイル:",{名前:t[0].filename,サイズ:Math.round(t[0].size/1024)+"KB"})}console.log("✅ 基本APIテスト完了")}catch(e){console.error("❌ 基本APIテスト失敗:",e)}},window.testErrorCase=async()=>{console.log("⚠️ エラーケーステスト開始"),console.log("=======================");try{console.log("1. 存在しないパステスト");try{const e=await window.electronAPI.getFileList("C:\\nonexistent\\path");console.warn("⚠️ エラーが発生しませんでした:",e)}catch(e){console.log("✅ 予期通りエラーが発生"),console.log("📊 エラー詳細:",e instanceof Error?e.message:String(e))}console.log("✅ エラーケーステスト完了")}catch(e){console.error("❌ エラーケーステスト失敗:",e)}},console.log("\n🧪 KoeNote 基本テストコマンドが利用可能:\n\n基本テスト:\n  testBasicAPI()     - Electron API基本動作確認\n  testErrorCase()    - エラーハンドリング確認\n\n使用方法:\n  開発者コンソールでテスト関数を実行してください\n  ")},3e3);const Pe=document.getElementById("root");if(!Pe)throw new Error("Root要素が見つかりません");(0,n.H)(Pe).render((0,e.jsx)(()=>{const[n,t]=(0,r.useState)([]),[o,a]=(0,r.useState)(null),[i,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,f]=(0,r.useState)("small"),[h,g]=(0,r.useState)(!1),[m,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{await je(),C.getLogger(N.APP).info("KoeNoteアプリケーション開始",{userAgent:navigator.userAgent,url:window.location.href,timestamp:(new Date).toISOString()})}catch(e){console.error("ログシステム初期化エラー:",e)}})()},[]);const x={fileList:n,setFileList:t,selectedFile:o,setSelectedFile:a,transcriptionDisplayData:i,setTranscriptionDisplayData:s,isRecording:l,setIsRecording:c,isPlaying:d,setIsPlaying:u,currentModel:p,setCurrentModel:f,isTranscribing:h,setIsTranscribing:g,recordingFile:m,setRecordingFile:v};return(0,e.jsx)(P,{children:(0,e.jsx)(Ae.Provider,{value:x,children:(0,e.jsx)(ve,{children:(0,e.jsx)(A,{children:(0,e.jsxs)("div",{className:"app",children:[(0,e.jsx)(b,{}),(0,e.jsx)(Se,{})]})})})})})},{}))})()})();